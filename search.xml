<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>2018-2019ç®—æ³•å­¦ä¹ æ€»ç»“</title>
    <url>/2019/11/25/2018%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<div id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰, è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹, è¯·å†è¯•è¯•." data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">
  <div class="hbe-input-container">
  <input type="password" id="hbePass" placeholder="" />
    <label for="hbePass">æ‚¨å¥½, è¿™é‡Œéœ€è¦å¯†ç .</label>
    <div class="bottom-line"></div>
  </div>
  <script id="hbeData" type="hbeData" data-hmacdigest="15bf6a8485228a7b3056c20427bf944f610604221ec850a34603775ec795c742">7bdef58317331537365a441fd23fa32ec10b8c886ca586dab56f1001557a06c6e8918b89f32319498b7346e3cdb45245f4d53aba1eecfab11e501b554f45d9e8abbcb8f0067b1095c38317f97407a79b69ea1ca50b4c94420a9845697fb7f6b6c5ff99297c0d7f55e286166f68fb2c7c2a24785cbe5e1d5ccae9398835c7adf4c16d27d2c7a1c94bcabbf3b24d23c6971c5ee5110583195c5c20a9d830a63c51ecfda8463f5f127e3a4963126cb289e54201fb7778782980189273fac500802fe7ba297975a99bea257a2db98912992336501b4a6376f8eaf204b01ba1230e66bd652e7431d623225239809354d30aab54fa7b0a2c8f3a134f8335e4f4e839c5bd8845245c4a18063fef06e0ca8a6d5ead8957a1ce3a0f1d3e3425ca7470acca72bd4d1acc881dcc1362c9cbd2c1e265d42ac76a49254bbdf08bbdacb63cf1c15456362d3ef5bbf18d721873c315992c30ca32f88c73f88fe5b85964afb1175549a9d4d43846724bcaf9b935b36e58507c5cca660e423ac1fdec3968f072a55adb71307ec979c1b82e5217719ce4ce0a207d9a25b24948a28b13534227a68c06fafafdca7b2400ebd59ff8a248210d8536301925c433ecaa0b327770edd3b32ecd941a5501cf51ac816ce91c276e9ee5dffe423edfdf3a80a9dd18935b2832d6f46d00d2a1358ee9d247122525431f91b1124a431a2dd2009b7261515dde61ea8538c042dac417e85d7de47a3b98b1e22a541d559dc61e80fca95859a8d4a5d5b108e33a1decc112d0768c79e1a026e2c6b56a6e3d60fae9c4bdb08b7787077cfa72fcdb286039768a21f62ab64d9a34613c9d9d05a296f3825afa369d4cbbddf673578efdaae44d476fd6ee874b6968f992efd180665d3f3b4113700e204d2dc17397014d9688fc84cf92dfd0b578bc4c7bc32cfdccbd1b0a3028425cdc4499ba11305c38049491d43e39422251bc44fdf7bbc755be40149e6641a15860732dbf861255132408d0a5028716dcd619f7f9d9bc0d7b20776a51269c86490eccc226a7b99606dcc0100947ca4e9d3405ee112c9f1070b1413261d90debbdb57bb732381bb6c3cacbe1ec931be93eea3a46bfb067716a6930c7a41c4dda5614633717832ab3b9d418502df1b098cf8e27f1a45ab5f61c75a6395e352229d34166953c59c0cb2b90b50bd902f18c5fc86841d53fddba35920c79a2382fd9a9de0218ef980b90fc53abc423590a6073640e41f453ca4c92ee4a9cf52dc4f99a02c28ef6be1c00cfe0ef217d50868e69c769fdd46c6f53586970c5111b8031a476086edbb404a7834f2633115566150c5aab773a878aea97593656ab400b79e448567857423c50a880df498162e9b724527e99b091bdae889df1bff61de6205a64ffe00c8b1ecdd3996ef4ad6a8f37e61a35e0424e2460457543511c69bd92beb12e5e73b4a2eee033eff90f25e43b1a75bbc59aa7d19faf51f7c3e0728868eeda9865befe0f6749c1376ba4bb5500017a2464eb370c81653725af1f5dec8909d51a7c8db56a0cc57158560424d660678f0a4415a4e1095eb1b2aa1592e5b80b85b72402828f355a6049a00bc0c181e80507b6a640e75178ff1c7d5556908504b18ae9c0f63e2c7f7c067f755a2b52973e2e207dc833004bb42820196855cabdefd811d7c43424ebd30bd635b6f604791bf1fcf701ae90dc6d1cc878b26f2c152c116635141040e86588aca5923ec7af4a02bbb44dc3391654a0c8ac268103855082a942aac6778cc45d657fe3f6bdbb523e90969e207b0b1e2fec538c4be1d1081d158422ba0c324e2ecc8219f7c6008f34b13f0a5acaac287a4038103658b85011486722b90cf8ded7d6fe8aadcde44e050d6337912b6ab47352b2d8b833deef941ad20a53700c5b6d23667c0aed5f31863d38bb7ac518399e6415f20c37d7ddd7bdf4cf3bd6b479de42abbab67dd475323e1c43409ff21bb197afe4e16076440f06dfb18da9bd7792d6cae07855e24e473e7f10587f1c159ac27be8113cf1e142e2c2a0e00a7368c2f7bedb563f0c77cd3773b2cf1e1daf5087b41d81af4b67e164f4dcc2d969aa2990bb67afd195e71e324efe9d5e200bb0d4c6071d53cac10d38c00fbd0f94430a4b15a131ba19459252a4e90dd51dfd85591b1032380cf55aaed595e108bbe6aa2efef43e9ada96d9385d7c1b9a3d82b79c2d7ee4b9e49e32a8b24585959bc7a944c93ea1c09635c29ee25b0800450c29f2c737a3773e2e314f1b7a082451877ac242a07ac2e869cb68f67da68269e01edc7b67c2c80dc11a7890eed5afa95ad60ae0081e222982e4b463d8fcffe33e008b75cccb6ae2e69263e3c27332ed8b17adc25c665495cac33755d4756b8461fdd9511e5581ecc1770e444d3192caf8f804244124098fe67f05412ca5920ea10339ca29c7a45cce98dd2b961662c1402ec0c9e854fdaec525258d58df134bfd9c4c1b732af7ce12c1131da595f01fb0b13f0319ea8ae7dfaf7021dd63446e9ba1ffd6a2a793b10055445ab704bb279eda80b49330b085deb0aad729a60c2acb1523e326982114846375e7a597ea674b2002da28ad410ba236562d2456fac8d2c7c12138d82cb268bb93a3515164bdc91dbc913896ef5dbe803797272b2e72bf9d5ba879ab9c06259d63207786a6c55fac0b7da43ed1cccfce653305060b03018b06d57f41fd8650085223576e7a37f1bbfc5539baca77972724d6683e66f967793f09766d26d8fb7051c92efde95519ef4394206602618257b9641de806a1e080e27b25b213991d3d287a51b529c7b1eed6f65ce538fda1261ca14ce950922342e0d3c922b3312034b5cfbefc996ec5b497b409abc36c5addc2176fd921078faa5ccb97203e1a6f6eefb1bd0c6f37f340cf5075e28cb064f8f5481ebcae99e0d1f107dc26b108f50a02adfe5cab552a020165285d741c6c1f1b26074feda9fcdc6b5991cac71fcb58d7a65738b75b5fd3e95edff8052f3c7b2375a6c01fff580a798a09cf253b5390bf814d6dc8fca78483be32c245459de9ad6ba3bf02004d0386e4d924506c03f4a3ab74daeee923340ad327279470ad3cf07dea7af4c0e011e94e5070b986ac674879793dfbb0c50becd5a03c23ee6271afa44f1658b4f05bafb3a5b4e90ae8742348f2f2be2280ef4f0212750ce498dc712dee3e3f46380de45799de05f5ce85872584048bab8199fab3290aa42b8090fecfd4cddf0f0d08488cd301f37eeddcacc41708d97335e985d072b0ceb657fccc5c95dd1615d9ceb2aff61f0c4a9c3af6204fc8eb125edf1808890f2c4610aa555ce86711923df7e61d2e26fa69bc1d0dca3984a123d3873ad4d9481053819e868fb028f0d00d16af77d6e9394d5e20f4d9fda020582936f854842bfee8e0a9cd9b11a0ede659f9522b557a8caea5c285632d6d1c404bfc8a302819e44315127d6b7838cc3e9a90ef89603e0f84f7f504962c87edf785a55f78b875c23165436e3b5fbe7798bc7c297d91c1453e9c54de141391568337abee8decb6b7eaef63db165e700c06984c8fc71b394bb0772dcbd11543396bc112ff2bb86b6c833cbac59b9eb034523186b150bf1d694c397399e5b4c57326da7a7fb5508fc433de593e2947832d68ecc5989fb54676f0a00c91e5e76560400aca59feffd0c46527e7433bedf91c18e1bfd79d80e65063ee7a713ea7cea328f4d1539838fa5976418809c7c575439a580296cec4537993dcfdfea6c46157e81d3f1085bb4087fe3b5b299cd96797d0dd168f526f4e49e7c8bd1bb7851c5e8e92a107e665cedd59f750cad5bb7123f8a67d4d9e076b9845e5beb4ffa0f05c6dc903b0f793b4c66a0d74799457935b99bbb94ad472e8b135ce4058138b9eec241d5410311da44c38e8a926d53212bb4e82450c313071783aa68099506b97fad06ed57e15890a57f6ac3afeaf3536b54f89951e2345b7a00eccda3ad7c8094cac61bcd0ac46d557e19eca3dac19feae4f68b21969ba3e994fe405dfd85b570bf8c48377df5bfe5732a32b8f2595211d845e42582c3bd69ac518109ea2f0643c7c6834aa1790392e7a80f6a682835753772a343a292de44f3dc49aed98f278e50bb90802c1666b499c40d71896892cdaf51cf24f65e16b1870330f7fba9fcdc42801b8352e1171ef2fb394c13eef2024476c178646aadfae894cd7084b8c4227c396b9631298b21a4def5cf2038b3e5e5d663a9faa2e30b2824e83ed596c50623c54f2fd5fd1502f4adfc4af3f46debd2d84169e41e01f16900744c2ba789ef86af6f6d6f70d77c27f2ec8f01bd7be2bd212cb12632a515ed21eb0958dd8c6bdb6bd80e13e1aef6c3635ea7368dee6f98158b07339f9af067bd99a55e12da5e714c1b1f4ec1c8bf2eda8be34a31cf93cd136b7944253cb033ab118c853072b813152cbf3859c83c5fb3f5bc2d46f7be9d8b9039f4c520b3fe439370a18837dc83a39e2621314fff4d335d79d67bb295057b0d2dcb086c682954fb9911fa5cf86ab9d0b19612ca12f18a09709e973090da0a82743e0aa60224e600d8d</script>
</div>
<script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>ACM</category>
        <category>æ€»ç»“</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>2019GDCPC-èµ›åè®°å½•</title>
    <url>/2019/05/18/2019GDCPC%E6%84%9F%E6%83%B3/</url>
    <content><![CDATA[<p>æ²¡æœ‰å°é¢å›¾ï¼Œå› ä¸ºæˆ‘æ‡’hhhh<br><a id="more"></a></p>
<p>çœèµ›ç»“æŸå·²ç»æœ‰ä¸€å‘¨çš„æ—¶é—´äº†ï¼Œè™½ç„¶ä¸€ç›´æƒ³è¦å†™ç‚¹ä»€ä¹ˆè®°å½•ä¸€ä¸‹ï¼Œä½†æ˜¯è¿™å‘¨éƒ½æ˜¯åœ¨å¤„ç†å„ç§DDLï¼Œæ‰€ä»¥å°±æ‹–åˆ°äº†ç°åœ¨OTZ</p>
<p>è¿™æ˜¯æœ¬è’Ÿè’»çš„ç¬¬ä¸€æ¬¡çœèµ›ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡å¤–å‡ºå‚åŠ ç°åœºèµ›ã€‚å…·ä½“ä½“éªŒå˜›ï¼Œemmmmmmï¼Œè™½ç„¶èµ›å‰blä¸€ç›´è¯´è¦æ‹¿é‡‘ç‰Œæœ€åå´åªæ‹¿äº†ä¸ªé“œè¿™ä¸€ç‚¹è®©æˆ‘ç¨å¾®æœ‰ç‚¹å¤±æœ›ï¼Œè€Œä¸”å®é™…æ¯”èµ›æ—¶çš„ä½“éªŒä¹Ÿä¸æ€ä¹ˆæ ·ï¼ˆäº‘æ¡Œé¢çš„é”…ï¼ï¼‰ï¼Œä½†æ€»ä½“æ¥è¯´è¿˜æ˜¯æ„Ÿè§‰è‰¯å¥½çš„ï¼Œ<del>è‡³å°‘æ²¡æ‰“é“</del>ã€‚è€Œä¸”è¿˜è§åˆ°äº†æ ¡é•¿ï¼ˆè¿˜æ˜¯è¿™ä¹ˆå°ğŸ˜‚ï¼‰ï¼Œåœ¨ä¸­å¤§é€›äº†ä¸€æ³¢ã€‚ä½œä¸ºä¸€ä¸ªè’Ÿè’»ï¼Œå…¶å®è¿˜æ˜¯æŒºå¥½çš„ã€‚</p>
<p>å…·ä½“è¯´ä¸€è¯´æ¯”èµ›æ—¶çš„è¿‡ç¨‹ã€‚æ‹¿åˆ°é¢˜ç›®åï¼Œæˆ‘å’Œblå¸ˆå…„è¿˜æœ‰ç¿ä½¬ä¸€èµ·çœ‹é¢˜ï¼Œç„¶åä¸€çœ¼å°±çœ‹åˆ°äº†Eå’ŒLï¼Œå¹¶ä¸”å‘ç°Eé¢˜å’Œä¹‹å‰å‘¨è®­åšè¿‡çš„ä¸€é“é¢˜å¾ˆåƒã€‚äºæ˜¯æˆ‘ä»¬å°±æŠŠé¢˜ç›®äº¤ç»™blå¸ˆå…„ï¼Œç„¶åç»§ç»­æ‰¾ç­¾åˆ°é¢˜ï¼Œåœ¨æ‰¾é¢˜çš„è¿‡ç¨‹ä¸­ï¼Œblå¸ˆå…„æŠŠEå’ŒLéƒ½ç»™è¿‡äº†ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œåœ¨blè¿˜åœ¨æ•²Eé¢˜çš„æ—¶å€™ï¼Œåå·¥çš„ä¸€æ”¯é˜Ÿä¼å°±æŠŠEç»™Aäº†ï¼Œå½“æ—¶åªè¿‡äº†ä¸‰åˆ†é’Ÿâ€¦â€¦(dltql!(ç ´éŸ³))ã€‚ç„¶ååæ¥åˆæ‰¾åˆ°äº†ä¸€ä¸ªJï¼Œé¢˜æ„å°±æ˜¯ç»™ä½ å‡ å¼ éº»å°†ç‰Œï¼Œè®©ä½ åˆ¤æ–­å¯ä¸å¯ä»¥ç»„æˆåä¸‰å¹ºæˆ–è€…ä¹è¿å®ç¯(ä¸ä¼šæ‰“éº»å°†çš„æˆ‘ä¸€å¼€å§‹è¿é¢˜ç›®éƒ½çœ‹ä¸æ‡‚OTZ)ã€‚ç„¶åç¿ä½¬å°±å»æ•²è¿™é“é¢˜äº†ï¼Œå¹¶å¾ˆå¿«ACâ€¦<del>ç›´åˆ°è¿™æ—¶é™¤äº†è¯»é¢˜æˆ‘è¿˜æ˜¯æ²¡å¹²ä»€ä¹ˆäº‹</del>ã€‚</p>
<p>æŠŠéº»å°†é¢˜è¿‡äº†ä¹‹åï¼Œblå¼€å§‹æ•²Cã€‚ç„¶åå°±æ˜¯æŒç»­ä¸‰å°æ—¶çš„debugâ€¦â€¦è¿˜å¥½ç¿ä½¬åœ¨ä¸­é€”å»Aäº†ä¸€é“Bï¼Œä¸ç„¶æˆ‘ä»¬å°±è¦æ‰“é“äº†OTZã€‚</p>
<p>æ‰€ä»¥è¯´ï¼Œä»è¿™æ¬¡çœèµ›æˆ‘å¾—åˆ°äº†ä¸¤ä¸ªç»“è®ºï¼š</p>
<ul>
<li>ç¿å“¥nbï¼</li>
<li>å¸ˆå…„nbï¼</li>
<li>æˆ‘å¤ªèœäº†ï¼ï¼ˆè¯»é¢˜é€‰æ‰‹+æ•²æ¨¡æ¿é€‰æ‰‹ï¼‰</li>
</ul>
]]></content>
      <categories>
        <category>æ‚</category>
      </categories>
      <tags>
        <tag>æ‚</tag>
      </tags>
  </entry>
  <entry>
    <title>2020æ­ç”µå¤šæ ¡ç¬¬å…­åœº Ié¢˜</title>
    <url>/2020/08/07/2020%E6%9D%AD%E7%94%B5%E5%A4%9A%E6%A0%A1%E7%AC%AC%E5%85%AD%E5%9C%BA-I%E9%A2%98/</url>
    <content><![CDATA[<p><span style="color: grey;">æ²¡æœ‰å°é¢å›¾</span><br><a id="more"></a></p>
<p>é¢˜æ„ï¼šå¯¹äºç»™å®šçš„<script type="math/tex">b</script>è¿›åˆ¶æ•°<script type="math/tex">y</script>ï¼Œå®šä¹‰<script type="math/tex">f(y)</script>è¡¨ç¤ºå…¶<script type="math/tex">y</script>åœ¨<script type="math/tex">b</script>è¿›åˆ¶ä¸‹çš„æ•°ä½å’Œã€‚ç°åœ¨æœ‰è¿™æ ·çš„ä¸€ä¸ªå‘½é¢˜ï¼šå¯¹äºä»»æ„çš„<script type="math/tex">b</script>è¿›åˆ¶æ•°<script type="math/tex">y</script>å’Œç»™å®šçš„<script type="math/tex">b</script>è¿›åˆ¶æ•°<script type="math/tex">x</script>ï¼Œå¦‚æœ<script type="math/tex">f(y)</script>æ•´é™¤<script type="math/tex">x</script>ï¼Œåˆ™<script type="math/tex">y</script>ä¹Ÿæ•´é™¤<script type="math/tex">x</script>ã€‚åˆ¤æ–­ç»™å®š<script type="math/tex">b</script>å’Œ<script type="math/tex">x</script>ä¸‹å‘½é¢˜æ­£ç¡®æ€§ã€‚</p>
<p>æ€è·¯ï¼šç»“è®ºæ˜¯ï¼Œå½“<script type="math/tex">b\equiv 1 \pmod x</script>æ—¶ï¼Œå‘½é¢˜æˆç«‹ã€‚åŸå› åœ¨äºï¼Œå¯¹äº<script type="math/tex">b</script>è¿›åˆ¶çš„æ•°<script type="math/tex">y</script>ï¼Œå¯ä»¥å°†å…¶è¡¨ç¤ºä¸º<script type="math/tex">y=c_0*b^0+c_1*b^1+c_2*b^2+\dots+c_{n-2}*b^{n-2}+c_{n-1}*b^{n-1}</script>ã€‚å¯ä»¥å‘ç°ï¼Œå¦‚æœ<script type="math/tex">b\equiv 1\pmod x</script>ï¼Œé‚£ä¹ˆç”±äºæœ‰<script type="math/tex">A\equiv B \pmod p\Leftrightarrow f(A)\equiv f(B)\pmod x</script>ï¼Œæ‰€ä»¥ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ‰</p>
<script type="math/tex; mode=display">
\begin{equation}
c_0*b^0+c_1*b^1+c_2*b^2+\dots+c_{n-2}*b^{n-2}+c_{n-1}*b^{n-1}\equiv c_0+c_1+c_2+\dots+c_{n-2}+c_{n-1}\pmod x
\end{equation}</script><p><script type="math/tex">c_0+c_1+c_2+\dots+c_{n-2}+c_{n-1}</script>å°±æ˜¯é¢˜ç›®ä¸­çš„<script type="math/tex">f(y)</script>ã€‚æ‰€ä»¥ï¼Œç»“è®ºæˆç«‹ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a, b) memset((a), (b), sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef, mid, rt &lt;&lt; 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid + 1, rig, rt &lt;&lt; 1 | 1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line">    <span class="keyword">while</span> (T--) &#123;</span><br><span class="line">        ll b, x;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>, &amp;b, &amp;x);</span><br><span class="line">        <span class="keyword">if</span> (b &lt; x) &#123;</span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">"F"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (b % x == <span class="number">1L</span>L)</span><br><span class="line">                <span class="built_in">puts</span>(<span class="string">"T"</span>);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">puts</span>(<span class="string">"F"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ACM</category>
        <category>æ€ç»´</category>
        <category>æ•°å­¦</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>æ€ç»´</tag>
        <tag>æ•°å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>2020ç‰›å®¢å¤šæ ¡ç¬¬ä¸€åœº</title>
    <url>/2020/07/16/2020%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1%E7%AC%AC%E4%B8%80%E5%9C%BA/</url>
    <content><![CDATA[<p><img src="https://pic.downk.cc/item/5f105fed14195aa594b51c3b.jpg" alt><br><a id="more"></a></p>
<h3 id="A"><a href="#A" class="headerlink" title="A"></a>A</h3><p>ä»¤<script type="math/tex">C_i=\min_{j>i,s_j=s_i}\{j-i\}</script>ï¼Œåˆ™é¢˜ç›®ä¸­æ‰€è¯´çš„B-Suffix Arrayç­‰ä»·äº$C_1,C_2,C_3,â€¦ï¼ŒC_n$ã€‚å› æ­¤ï¼Œåªéœ€è¦æ±‚å‡º$C$åï¼Œå¯¹$C$ç®—ä¸€ä¸‹åç¼€æ•°ç»„å³å¯ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a, b) memset((a), (b), sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef, mid, rt &lt;&lt; 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid + 1, rig, rt &lt;&lt; 1 | 1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> wa[maxn], wb[maxn], wv[maxn], wss[maxn], rak[maxn], <span class="built_in">height</span>[maxn], cal[maxn], n, sa[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span>* r, <span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> l)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> r[a] == r[b] &amp;&amp; r[a + l] == r[b + l];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">da</span><span class="params">(<span class="keyword">int</span>* r, <span class="keyword">int</span>* sa, <span class="keyword">int</span> n, <span class="keyword">int</span> M)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j, p, *x = wa, *y = wb, *t;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; M; i++)</span><br><span class="line">        wss[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        wss[x[i] = r[i]]++;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; M; i++)</span><br><span class="line">        wss[i] += wss[i - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        sa[--wss[x[i]]] = i;</span><br><span class="line">    <span class="keyword">for</span> (j = <span class="number">1</span>, p = <span class="number">1</span>; p &lt; n; j &lt;&lt;= <span class="number">1</span>, M = p) &#123;</span><br><span class="line">        <span class="keyword">for</span> (p = <span class="number">0</span>, i = n - j; i &lt; n; i++)</span><br><span class="line">            y[p++] = i;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">            <span class="keyword">if</span> (sa[i] &gt;= j)</span><br><span class="line">                y[p++] = sa[i] - j;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">            wv[i] = x[y[i]];</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; M; i++)</span><br><span class="line">            wss[i] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">            wss[wv[i]]++;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; M; i++)</span><br><span class="line">            wss[i] += wss[i - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">            sa[--wss[wv[i]]] = y[i];</span><br><span class="line">        <span class="keyword">for</span> (t = x, x = y, y = t, p = <span class="number">1</span>, x[sa[<span class="number">0</span>]] = <span class="number">0</span>, i = <span class="number">1</span>; i &lt; n; i++)</span><br><span class="line">            x[sa[i]] = cmp(y, sa[i - <span class="number">1</span>], sa[i], j) ? p - <span class="number">1</span> : p++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("./A.in", "r", stdin);</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) != EOF) &#123;</span><br><span class="line">        <span class="built_in">fill</span>(cal, cal + maxn, <span class="number">0</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, s + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> pre[<span class="number">2</span>] = &#123; n + <span class="number">1</span>, n + <span class="number">1</span> &#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (pre[s[i] - <span class="string">'a'</span>] == n + <span class="number">1</span>) &#123;</span><br><span class="line">                cal[i] = n;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                cal[i] = pre[s[i] - <span class="string">'a'</span>] - i;</span><br><span class="line">            &#125;</span><br><span class="line">            pre[s[i] - <span class="string">'a'</span>] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        cal[n + <span class="number">1</span>] = n + <span class="number">1</span>;</span><br><span class="line">        <span class="comment">//puts("cal: ");</span></span><br><span class="line">        <span class="comment">//for (int i = 1; i &lt;= n + 1; i++) &#123;</span></span><br><span class="line">        <span class="comment">//  printf("%d ",cal[i]);</span></span><br><span class="line">        <span class="comment">//&#125;</span></span><br><span class="line">        <span class="comment">//puts("");</span></span><br><span class="line">        <span class="comment">//puts("----------------------");</span></span><br><span class="line"></span><br><span class="line">        da(cal + <span class="number">1</span>, sa, n + <span class="number">2</span>, n + <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d%c"</span>, sa[i] + <span class="number">1</span>, i == <span class="number">1</span> ? <span class="string">'\n'</span> : <span class="string">' '</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é“é¢˜$n$çš„å€¼ä¸€å®šè¦æ˜¯$n+2$ï¼Œ$m$çš„å€¼ä¸€å®šä¹Ÿè¦æ˜¯$n+2$ï¼å¦åˆ™ä¸æ˜¯REå°±æ˜¯WAï¼</p>
<h3 id="B"><a href="#B" class="headerlink" title="B"></a>B</h3><p>å¾…è¡¥</p>
<h3 id="C"><a href="#C" class="headerlink" title="C"></a>C</h3><p>å¾…è¡¥</p>
<h3 id="D"><a href="#D" class="headerlink" title="D"></a>D</h3><p>å¾…è¡¥</p>
<h3 id="E"><a href="#E" class="headerlink" title="E"></a>E</h3><p>å¾…è¡¥</p>
<h3 id="F"><a href="#F" class="headerlink" title="F"></a>F</h3><p>å‡è®¾ä¸¤ä¸ªå­—ç¬¦ä¸²$a,b$æ˜¯åŒä¸€ä¸ªå­—ç¬¦ä¸²çš„å¾ªç¯èŠ‚ï¼Œç„¶ååœ¨$2\times max(len(a),len(b))$çš„èŒƒå›´å†…æ¯”è¾ƒå³å¯ã€‚å¦‚æœå‘ç°æ²¡æœ‰ä¸ç›¸ç­‰çš„å­—ç¬¦ï¼Œåˆ™è¯´æ˜ä¸¤ä¸ªæ— ç©·å­—ç¬¦ä¸²æ˜¯åŒä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯ç›¸ç­‰ã€‚å¦åˆ™ï¼Œå¦‚æœ$a_i&lt;b_i$ï¼Œåˆ™$a&lt;b$ï¼›å¤§äºçš„æƒ…å†µåŒç†ã€‚è¿™é“é¢˜çš„æ¯”è¾ƒèŒƒå›´æ¯”è¾ƒç„å­¦ï¼Œæ˜¯çŒœå‡ºæ¥çš„ï¼Œä½†æ ¹æ®é¢˜è§£ï¼ŒèŒƒå›´åªéœ€è¦åˆ°$len(a)+len(b)-gcd(len(a),len(b))$å³å¯ã€‚ä½†ç›®å‰æ²¡æƒ³æ˜ç™½ä¸ºä»€ä¹ˆã€‚ã€‚ã€‚ç­‰ä¸€æ³¢è¯¦ç»†é¢˜è§£ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a, b) memset((a), (b), sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef, mid, rt &lt;&lt; 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid + 1, rig, rt &lt;&lt; 1 | 1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> sa, sb;</span><br><span class="line">    <span class="built_in">std</span>::ios::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; sa &gt;&gt; sb) &#123;</span><br><span class="line">        <span class="keyword">int</span> lena = sa.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">int</span> lenb = sb.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">int</span> bnd = <span class="number">2</span> * <span class="built_in">max</span>(lena, lenb);</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; bnd; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (sa[i % lena] &lt; sb[i % lenb]) &#123;</span><br><span class="line">                ans = <span class="number">1</span>; <span class="comment">// &lt;</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sa[i % lena] &gt; sb[i % lenb]) &#123;</span><br><span class="line">                ans = <span class="number">2</span>; <span class="comment">// &gt;</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"=&lt;&gt;"</span>[ans] &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="G"><a href="#G" class="headerlink" title="G"></a>G</h3><p>å¾…è¡¥</p>
<h3 id="H"><a href="#H" class="headerlink" title="H"></a>H</h3><p>é¢˜æ„æ˜¯è¯´ï¼Œç»™å®šä¸€ä¸ª$n$ä¸ªç‚¹$m$æ¡è¾¹çš„æµç½‘ç»œï¼Œæœ‰$q$æ¬¡è¯¢é—®ï¼Œç¬¬$i$æ¬¡è¯¢é—®ä¼šæŠŠå›¾ä¸Šæ‰€æœ‰è¾¹çš„å®¹é‡éƒ½è®¾ä¸º$\frac{u_i}{v_i}$ï¼ŒæŸ¥è¯¢å½“å‰æƒ…å†µä¸‹ï¼Œä»ç‚¹1å‘é€ä¸€ä¸ªå•ä½çš„æµåˆ°ç‚¹$n$çš„æœ€å°èŠ±è´¹æ˜¯å¤šå°‘ã€‚</p>
<p>ä¸ºäº†æ–¹ä¾¿å¤„ç†ï¼Œå°†æ‰€æœ‰è¾¹çš„å®¹é‡éƒ½ä¹˜ä»¥$\frac{v_i}{u_i}$ï¼Œä½¿å…¶å˜æˆ1ï¼›åŸæœ¬å‘é€ä¸€ä¸ªå•ä½çš„æµï¼Œç°åœ¨å˜æˆå‘é€$\frac{v_i}{u_i}$ä¸ªå•ä½çš„æµï¼ˆå®é™…ä¸Šå°±ç›¸å½“äºå®šä¹‰äº†ä¸€ä¸ªæ–°å•ä½ï¼Œè¯¥å•ä½å’ŒåŸå•ä½çš„è¿›ç‡æ˜¯$\frac{v_i}{u_i}$ï¼‰ã€‚ç„¶ååœ¨ç®—æœ€å¤§æµçš„æ—¶å€™ï¼Œå†è®°å½•ä¸‹ä¸åŒæµé‡ä¸‹çš„æœ€å°èŠ±è´¹ã€‚</p>
<p>è€ŒNaNçš„æƒ…å†µæœ‰ä¸¤ç§ï¼š</p>
<ul>
<li>$u=0$ï¼ˆä¸è€ƒè™‘è¿™ç§æƒ…å†µä¼šæœ‰é™¤é›¶é”™è¯¯ï¼‰</li>
<li>$v/u&gt;$æœ€å¤§æµï¼ˆéæ•´é™¤ï¼‰</li>
</ul>
<p>æœ€åï¼Œæ³¨æ„ä¸€ä¸‹å¤„ç†æœ€ç»ˆç­”æ¡ˆçš„æ–¹æ³•ï¼ˆä»£ç 165è¡Œï¼‰</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a, b) memset((a), (b), sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef, mid, rt &lt;&lt; 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid + 1, rig, rt &lt;&lt; 1 | 1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">100</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">200</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> nxt;</span><br><span class="line">    <span class="keyword">int</span> cap;</span><br><span class="line">    <span class="keyword">int</span> flow;</span><br><span class="line">    <span class="keyword">int</span> cost;</span><br><span class="line">&#125; es[maxm];</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="keyword">int</span> tol;</span><br><span class="line"><span class="keyword">int</span> pre[maxn], dis[maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line">ll ansarr[maxm];</span><br><span class="line"><span class="keyword">int</span> N; <span class="comment">// èŠ‚ç‚¹æ€»ä¸ªæ•°, èŠ‚ç‚¹ä»0~N-1</span></span><br><span class="line"><span class="keyword">int</span> M;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    N = n;</span><br><span class="line">    tol = <span class="number">0</span>;</span><br><span class="line">    mst(head, <span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> cap, <span class="keyword">int</span> cost)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    es[tol].to = v;</span><br><span class="line">    es[tol].cap = cap;</span><br><span class="line">    es[tol].cost = cost;</span><br><span class="line">    es[tol].flow = <span class="number">0</span>;</span><br><span class="line">    es[tol].nxt = head[u];</span><br><span class="line">    head[u] = tol++;</span><br><span class="line"></span><br><span class="line">    es[tol].to = u;</span><br><span class="line">    es[tol].cap = <span class="number">0</span>;</span><br><span class="line">    es[tol].cost = -cost;</span><br><span class="line">    es[tol].flow = <span class="number">0</span>;</span><br><span class="line">    es[tol].nxt = head[v];</span><br><span class="line">    head[v] = tol++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">spfa</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; que;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">        dis[i] = INF;</span><br><span class="line">        vis[i] = <span class="literal">false</span>;</span><br><span class="line">        pre[i] = <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    dis[s] = <span class="number">0</span>;</span><br><span class="line">    vis[s] = <span class="literal">true</span>;</span><br><span class="line">    que.push(s);</span><br><span class="line">    <span class="keyword">while</span> (!que.empty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> u = que.front();</span><br><span class="line">        que.pop();</span><br><span class="line">        vis[u] = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = head[u]; i != <span class="number">-1</span>; i = es[i].nxt) &#123;</span><br><span class="line">            <span class="keyword">int</span> v = es[i].to;</span><br><span class="line">            <span class="keyword">if</span> (es[i].cap &gt; es[i].flow &amp;&amp; dis[v] &gt; dis[u] + es[i].cost) &#123;</span><br><span class="line">                dis[v] = dis[u] + es[i].cost;</span><br><span class="line">                pre[v] = i;</span><br><span class="line">                <span class="keyword">if</span> (!vis[v]) &#123;</span><br><span class="line">                    vis[v] = <span class="literal">true</span>;</span><br><span class="line">                    que.push(v);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (pre[t] == <span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">mcmf</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> t, ll&amp; cost)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll flow = <span class="number">0</span>;</span><br><span class="line">    cost = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (spfa(s, t)) &#123;</span><br><span class="line">        ll Min = INF;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = pre[t]; i != <span class="number">-1</span>; i = pre[es[i ^ <span class="number">1</span>].to]) &#123;</span><br><span class="line">            <span class="keyword">if</span> (Min &gt; es[i].cap - es[i].flow) &#123;</span><br><span class="line">                Min = es[i].cap - es[i].flow;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = pre[t]; i != <span class="number">-1</span>; i = pre[es[i ^ <span class="number">1</span>].to]) &#123;</span><br><span class="line">            es[i].flow += Min;</span><br><span class="line">            es[i ^ <span class="number">1</span>].flow -= Min;</span><br><span class="line">            cost += es[i].cost * Min;</span><br><span class="line">        &#125;</span><br><span class="line">        flow += Min;</span><br><span class="line">        ansarr[(<span class="keyword">int</span>)flow] = cost;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> flow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sign = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        ch = getchar();</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'-'</span>)</span><br><span class="line">            sign = <span class="number">-1</span>;</span><br><span class="line">    &#125; <span class="keyword">while</span> (ch &gt; <span class="string">'9'</span> || ch &lt; <span class="string">'0'</span>);</span><br><span class="line">    <span class="keyword">while</span> (<span class="string">'0'</span> &lt;= ch &amp;&amp; ch &lt;= <span class="string">'9'</span>) &#123;</span><br><span class="line">        x = (x &lt;&lt; <span class="number">3</span>) + (x &lt;&lt; <span class="number">1</span>) + (ch - <span class="string">'0'</span>);</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x * sign;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">gcd</span><span class="params">(ll a, ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b == <span class="number">0</span> ? a : gcd(b, a % b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//inline void Swap(ll&amp; a,ll&amp; b)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//ll tmp=a;</span></span><br><span class="line"><span class="comment">//a=b;b=tmp;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;N, &amp;M) != EOF) &#123;</span><br><span class="line">        init(N);</span><br><span class="line">        <span class="keyword">int</span> ai, bi, ci;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; i++) &#123;</span><br><span class="line">            ai = <span class="built_in">read</span>();</span><br><span class="line">            bi = <span class="built_in">read</span>();</span><br><span class="line">            ci = <span class="built_in">read</span>();</span><br><span class="line">            ai--;</span><br><span class="line">            bi--;</span><br><span class="line">            addedge(ai, bi, <span class="number">1</span>, ci);</span><br><span class="line">        &#125;</span><br><span class="line">        ll miniflow;</span><br><span class="line">        ll maxiflow = mcmf(<span class="number">0</span>, N - <span class="number">1</span>, miniflow);</span><br><span class="line">        <span class="keyword">int</span> q;</span><br><span class="line">        q = <span class="built_in">read</span>();</span><br><span class="line">        <span class="keyword">int</span> u, v;</span><br><span class="line">        <span class="keyword">while</span> (q--) &#123;</span><br><span class="line">            u = <span class="built_in">read</span>();</span><br><span class="line">            v = <span class="built_in">read</span>();</span><br><span class="line">            <span class="comment">//printf("maxiflow = %lld\n",maxiflow);</span></span><br><span class="line">            <span class="keyword">if</span> (u == <span class="number">0</span> || ((<span class="number">1L</span>L * v) / u == maxiflow &amp;&amp; (<span class="number">1L</span>L * v) % u &gt; <span class="number">0</span>) || (<span class="number">1L</span>L * v) / u &gt; maxiflow) &#123;</span><br><span class="line">                <span class="built_in">puts</span>(<span class="string">"NaN"</span>);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> idx = v / u;</span><br><span class="line">            ll up = ansarr[idx] * u + (ansarr[idx + <span class="number">1</span>] - ansarr[idx]) * (v % u);</span><br><span class="line">            <span class="comment">//if(v&lt;up) Swap(v, up)</span></span><br><span class="line">            ll g = gcd(<span class="number">1L</span>L * v, up);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%lld/%lld\n"</span>, up / g, v / g);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="I"><a href="#I" class="headerlink" title="I"></a>I</h3><p>å¾…è¡¥</p>
<h3 id="J"><a href="#J" class="headerlink" title="J"></a>J</h3><p>é«˜æ•°ç­¾åˆ°é¢˜ã€‚è™½ç„¶è¿™é¢˜æ˜¯æˆ‘Açš„ï¼Œä½†æ˜¯å› ä¸ºé«˜æ•°å¤ªèœï¼Œæ‰€ä»¥å…¶å®ç§¯åˆ†ç»“æœæ˜¯åœ¨OEISä¸Šæ‰¾åˆ°çš„hhhã€‚</p>
<p>ç§¯åˆ†è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">
\begin{aligned}
\because (x-x^2)^n&=\frac{1}{4}-\left( \frac{1}{2}-x\right )^2 \\
\therefore \int_0^1(x-x^2)^ndx&=\int_0^1\left(\frac{1}{4}-\left(\frac{1}{2}-x\right)^2\right)^ndx\\
&=\frac{1}{4^n}\int_0^1\left(1-4\left(\frac{1}{2}-x\right)^2\right)^ndx\\
&=\frac{1}{4^n}\int_0^1\left(1-(2x-1)^2\right)^ndx
\end{aligned}</script><p>ä»¤$\sin t=2x-1$ï¼Œåˆ™æœ‰</p>
<script type="math/tex; mode=display">
\begin{aligned}
\int_0^1(x-x^2)^ndx&=\frac{1}{4^n}\int_{-\frac{\pi}{2}}^{\frac{\pi}{2}}(1-\sin^2t)^ndx\\
&=\frac{1}{4^n}\int_{-\frac{\pi}{2}}^{\frac{\pi}{2}}(1-\sin^2t)^n\frac{\cos t}{2}dt\\
&=\frac{1}{4^n}\int_0^{\frac{\pi}{2}}\cos^{2n+1}tdt
\end{aligned}</script><p>ç”±Walliså…¬å¼ï¼š</p>
<script type="math/tex; mode=display">
\int_0^{\frac{\pi}{2}}\cos^nxdx=
\begin{cases}
\frac{\pi(2k)!!}{2(2k+1)!!}&\text{n=2k}\\
\frac{(2k)!!}{(2k+1)!!}&\text{n=2k+1}
\end{cases}</script><p>å…¶ä¸­ï¼Œ$\frac{(2k)!!}{(2k+1)!!}=\frac{2\times4\times6\times\dots\times(2n-2)\times2n}{1\times3\times5\times\dots\times(2n-1)\times(2n+1)}$ã€‚å› æ­¤ï¼Œæœ‰</p>
<script type="math/tex; mode=display">
\begin{aligned}
\int_0^1(x-x^2)^ndx&=\frac{1}{4^n}\frac{(2n)!!}{(2n+1)!!}\\
&=\frac{1}{4^n}\frac{(2n)!!}{\frac{(2n+1)!}{(2n)!!}}\\
&=\frac{1}{4^n}\frac{(2n!!)^2}{(2n+1)!}\\
&=\frac{1}{4^n}\frac{4^n(n!)^2}{(2n+1)!}\\
&=\frac{(n!)^2}{(2n+1)!}
\end{aligned}</script><p>å¾—åˆ°ä¸Šé¢çš„ç§¯åˆ†ç»“æœåï¼Œå¥—å¼å­å†æ±‚ä¸ªé€†å…ƒå°±è¡Œäº†ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a, b) memset((a), (b), sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef, mid, rt &lt;&lt; 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid + 1, rig, rt &lt;&lt; 1 | 1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> bnd = <span class="number">2e6</span> + <span class="number">2</span>;</span><br><span class="line"><span class="keyword">const</span> ll mod = <span class="number">998244353</span>;</span><br><span class="line">ll frac[bnd];</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    frac[<span class="number">0</span>] = frac[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= bnd; i++) &#123;</span><br><span class="line">        frac[i] = (frac[i - <span class="number">1</span>] % mod * i % mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">exgcd</span><span class="params">(ll a, ll b, ll&amp; x, ll&amp; y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a == <span class="number">0</span> &amp;&amp; b == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>) &#123;</span><br><span class="line">        x = <span class="number">1</span>;</span><br><span class="line">        y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    ll d = exgcd(b, a % b, y, x);</span><br><span class="line">    y -= a / b * x;</span><br><span class="line">    <span class="keyword">return</span> d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">inv</span><span class="params">(ll a, ll n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll x, y;</span><br><span class="line">    ll d = exgcd(a, n, x, y);</span><br><span class="line">    <span class="keyword">if</span> (d == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> (x % n + n) % n;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">    ll n;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;n) != EOF) &#123;</span><br><span class="line">        ll f = frac[n];</span><br><span class="line">        ll ff = frac[<span class="number">2</span> * n + <span class="number">1</span>];</span><br><span class="line">        ll up = (f % mod * f % mod) % mod;</span><br><span class="line">        ll down = ff % mod;</span><br><span class="line">        ll ans = (up % mod * inv(down, mod) % mod) % mod;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ACM</category>
        <category>å¤šæ ¡</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>å¤šæ ¡</tag>
      </tags>
  </entry>
  <entry>
    <title>AGC016B Colorful Hats</title>
    <url>/2020/03/03/ACG016B-Colorful-Hats/</url>
    <content><![CDATA[<p><img src="https://pic.downk.cc/item/5e5e72b398271cb2b862f2b8.jpg" alt></p>
<a id="more"></a>
<p>é¢˜æ„æ˜¯è¯´ï¼Œæ¯åªçŒ«éƒ½å¸¦æœ‰ä¸€é¡¶å¸½å­ï¼Œä¸”æ¯åªçŒ«èƒ½çœ‹åˆ°é™¤è‡ªå·±ä»¥å¤–çš„å…¶ä»–äººçš„å¸½å­æ€»å…±æœ‰å¤šå°‘ç§é¢œè‰²ã€‚é—®æ˜¯å¦èƒ½æ„é€ å‡ºä¸€ä¸ªå¸½å­é¢œè‰²çš„åºåˆ—ï¼Œæ»¡è¶³æ¯åªçŒ«çœ‹åˆ°çš„é¢œè‰²æ•°ç›®ã€‚</p>
<p>è®¾çœ‹åˆ°çš„é¢œè‰²æ•°çš„æœ€å¤§å€¼ä¸º$maxi$ï¼Œæœ€å°å€¼ä¸º$mini$ã€‚</p>
<p>ä¸€ä¸ªæ˜¾è€Œæ˜“è§çš„ç»“è®ºæ˜¯ï¼Œå¦‚æœ$maxi-mini&gt;1$ï¼Œåˆ™ç»“æœä¸ºNo(å¯è‡ªè¡ŒéªŒè¯)</p>
<p>ç„¶åè€ƒè™‘$maxi==mini$çš„æƒ…å†µã€‚å¦‚æœä¸¤è€…çš„å€¼æ˜¯1æˆ–$n-1$ï¼Œé‚£ç»“æœæ˜¯Yes</p>
<p>å¦åˆ™ï¼Œå¯¹äºä»»æ„ä¸€ç§é¢œè‰²ï¼Œå¿…é¡»è¦æœ‰è‡³å°‘ä¸¤åªçŒ«çš„å¸½å­æ˜¯è¿™ç§é¢œè‰²çš„ã€‚ï¼ˆè‰ç¨¿çº¸ä¸Šç”»ä¸ªå›¾å³å¯çŸ¥é“ï¼ŒåŸå› æ˜¯ï¼Œå‡è®¾æœ‰ä¸€ç§é¢œè‰²åªè¢«ä¸€åªçŒ«æ‰€æ‹¥æœ‰ï¼Œå› ä¸ºè‡ªå·±æ˜¯çœ‹ä¸åˆ°è‡ªå·±çš„å¸½å­çš„ï¼Œæ‰€ä»¥å¯¹äºè¿™åªçŒ«æ¥è¯´ï¼Œä»–æ‰€çœ‹åˆ°çš„å¸½å­çš„é¢œè‰²ä¼šæ¯”å…¶ä»–çŒ«æ‰€çœ‹åˆ°çš„é¢œè‰²å°‘ä¸€ç§ï¼Œè¿™å°±ä¸ç¬¦åˆåˆå§‹æ¡ä»¶ï¼‰</p>
<p>æœ€åè€ƒè™‘$maxi!=mini$çš„æƒ…å†µã€‚å¯¹äºé‚£äº›é¢œè‰²æ•°ä¸º$mini$çš„çŒ«ï¼Œå…¶å¸½å­çš„é¢œè‰²å¿…ç„¶åªä¸ºå®ƒæ‰€æ‹¥æœ‰ï¼Œå³è¿™ç§é¢œè‰²åªä¼šåœ¨ä¸€åªçŒ«çš„å¤´ä¸Šå‡ºç°ï¼›è€Œå¯¹äºé‚£äº›é¢œè‰²æ•°ä¸º$maxi$çš„çŒ«ï¼Œå…¶å¸½å­çš„é¢œè‰²åˆ™è‡³å°‘è¦è¢«ä¸¤åªçŒ«æ‹¥æœ‰ã€‚æ‰€ä»¥å¯ä»¥å…ˆæŠŠé¢œè‰²æ•°ä¸º$mini$çš„éƒ½å¡«å……äº†ï¼Œç„¶åçœ‹çœ‹å‰©ä¸‹çš„é¢œè‰²æ˜¯å¦å¯ä»¥ä¿è¯å¡«å…¥å‰©ä¸‹çš„çŒ«ä¹‹åï¼Œæ¯ç§é¢œè‰²è‡³å°‘è¢«ä¸¤åªçŒ«æ‰€æ‹¥æœ‰ã€‚</p>
<p>PSï¼šè’Ÿè’»ç¬¬ä¸€æ¬¡åšatcoderï¼Œæ„Ÿè§‰çœŸçš„å¥½é”»ç‚¼æ€ç»´qwq</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> arr[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="keyword">int</span> maxi=-INF;<span class="keyword">int</span> mini=INF;</span><br><span class="line">    <span class="keyword">int</span> minicnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;arr[i]);</span><br><span class="line">        maxi=<span class="built_in">max</span>(maxi,arr[i]);</span><br><span class="line">        mini=<span class="built_in">min</span>(mini,arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i]==mini) minicnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(maxi-mini&gt;<span class="number">1</span>||maxi&gt;n<span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"No"</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(maxi==mini)&#123;</span><br><span class="line">        <span class="keyword">if</span>(mini==n<span class="number">-1</span>||mini==<span class="number">1</span>) <span class="built_in">puts</span>(<span class="string">"Yes"</span>);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(n/mini&gt;=<span class="number">2</span>)&#123;</span><br><span class="line">                <span class="built_in">puts</span>(<span class="string">"Yes"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="built_in">puts</span>(<span class="string">"No"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(maxi!=mini)&#123;</span><br><span class="line">        <span class="keyword">int</span> x=n-minicnt;</span><br><span class="line">        <span class="keyword">int</span> y=maxi-minicnt;</span><br><span class="line">        <span class="keyword">if</span>(y==<span class="number">0</span>) <span class="built_in">puts</span>(<span class="string">"No"</span>);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(x/y&lt;<span class="number">2</span>) <span class="built_in">puts</span>(<span class="string">"No"</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"Yes"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>Atcoder</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>æ€ç»´</tag>
        <tag>Atcoder</tag>
      </tags>
  </entry>
  <entry>
    <title>2020ç‰›å®¢å¤šæ ¡ç¬¬ä¸‰åœº</title>
    <url>/2020/07/19/2020%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1%E7%AC%AC%E4%B8%89%E5%9C%BA/</url>
    <content><![CDATA[<p><img src="https://pic.downk.cc/item/5f14552214195aa594e12634.jpg" alt><br><a id="more"></a></p>
<h3 id="A-è´ªå¿ƒ"><a href="#A-è´ªå¿ƒ" class="headerlink" title="A è´ªå¿ƒ"></a>A è´ªå¿ƒ</h3><p>ç»™å®šå››ç§çŠ¶æ€ï¼ŒçŠ¶æ€0æ²¡æœ‰é’“é±¼ä¹Ÿä¸èƒ½åšé±¼é¥µï¼›çŠ¶æ€1å¯ä»¥åšé±¼é¥µï¼Œä½†æ˜¯æ²¡æœ‰é±¼ï¼›çŠ¶æ€ä¸‰æœ‰é±¼ä½†ä¸èƒ½åšé±¼é¥µï¼›çŠ¶æ€å››æœ‰é±¼ä¹Ÿå¯ä»¥åšé±¼é¥µã€‚æ²¡æœ‰é±¼çš„çŠ¶æ€ä¸‹ï¼Œå¦‚æœæœ‰é±¼é¥µï¼Œå¯ä»¥é’“é±¼ã€‚</p>
<p>åšæ³•æ˜¯ç®€å•è´ªå¿ƒã€‚æœ‰é±¼çš„æ—¶å€™ç›´æ¥é’“é±¼ï¼Œæ²¡é±¼ä½†èƒ½åšé±¼é¥µå°±åšé±¼é¥µï¼Œæ²¡é±¼ä¸”ä¸èƒ½åšé±¼é¥µå°±çœ‹çœ‹æœ‰æ²¡æœ‰é±¼é¥µå¯ä»¥ç”¨æ¥é’“é±¼ã€‚ä»å·¦åˆ°å³æ‰«ä¸€éï¼Œå¦‚æœæœ€åå‘ç°é±¼é¥µæœ‰å‰©ä¸‹ï¼Œé‚£å°±ç­”æ¡ˆåŠ ä¸Š<strong>é±¼é¥µæ•°/2</strong>ï¼Œè¡¨ç¤ºåŸæœ¬åšé±¼é¥µçš„çŠ¶æ€ï¼Œä¸€åŠç”¨æ¥åšé±¼é¥µï¼Œä¸€èˆ¬ç”¨è¿™äº›åšå‡ºæ¥çš„é±¼é¥µé’“é±¼</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a, b) memset((a), (b), sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef, mid, rt &lt;&lt; 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid + 1, rig, rt &lt;&lt; 1 | 1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2e6</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line">    <span class="keyword">while</span> (T--) &#123;</span><br><span class="line">        <span class="keyword">int</span> n;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        <span class="keyword">int</span> ba=<span class="number">0</span>,ans=<span class="number">0</span>;<span class="keyword">int</span> tmp;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%1d"</span>,&amp;tmp);</span><br><span class="line">            <span class="keyword">if</span>(tmp==<span class="number">2</span>||tmp==<span class="number">3</span>) ans++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(tmp==<span class="number">1</span>) ba++;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(ba&gt;<span class="number">0</span>) ba--,ans++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans+ba/<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="B-ç®€å•æ€ç»´é¢˜"><a href="#B-ç®€å•æ€ç»´é¢˜" class="headerlink" title="B ç®€å•æ€ç»´é¢˜"></a>B ç®€å•æ€ç»´é¢˜</h3><p>åˆšçœ‹å®Œé¢˜ç›®çš„æ—¶å€™ä»¥ä¸ºæ˜¯çº¿æ®µæ ‘or SplayåŒºé—´æ¬ç§»ï¼Œä½†æƒ³åˆ°ç­¾åˆ°é¢˜ä¸å¤ªå¯èƒ½éœ€è¦ç”¨åˆ°å¤æ‚çš„æ•°æ®ç»“æ„ã€‚åæ¥wxdlè¯´æœ‰å¾ˆç®€å•çš„æ€è·¯ï¼Œäºæ˜¯æˆ‘å°±å»çœ‹å…¶ä»–é¢˜äº†ã€‚èµ›åå‘ç°ï¼Œå®é™…ä¸Šåªéœ€è¦ç§»åŠ¨æŒ‡é’ˆå³å¯ç»´æŠ¤ç­”æ¡ˆã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">2e6</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>,s);</span><br><span class="line">    <span class="keyword">int</span> len=<span class="built_in">strlen</span>(s);</span><br><span class="line">    <span class="keyword">int</span> q;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;q);</span><br><span class="line">    <span class="keyword">int</span> p=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(q--)&#123;</span><br><span class="line">        <span class="keyword">char</span> op[<span class="number">2</span>];<span class="keyword">int</span> x;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s %d"</span>,op,&amp;x);</span><br><span class="line">        <span class="keyword">if</span>(op[<span class="number">0</span>]==<span class="string">'M'</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(x&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                p=(p+x)%len;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                x=<span class="built_in">abs</span>(x);</span><br><span class="line">                p-=x;</span><br><span class="line">                p=(p%len+len)%len;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op[<span class="number">0</span>]==<span class="string">'A'</span>)&#123;</span><br><span class="line">            x--;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%c\n"</span>,s[(p+x)%len]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="C-ç®€å•è®¡ç®—å‡ ä½•"><a href="#C-ç®€å•è®¡ç®—å‡ ä½•" class="headerlink" title="C ç®€å•è®¡ç®—å‡ ä½•"></a>C ç®€å•è®¡ç®—å‡ ä½•</h3><p>ç»™å‡ºå³æ‰‹çš„å½¢çŠ¶ï¼Œå¹¶è¯´æ˜å·¦æ‰‹å’Œå³æ‰‹æ˜¯å¯¹ç§°çš„ã€‚ç°åœ¨ç»™å‡ºä¸€ç»„20ä¸ªç‚¹çš„åæ ‡ï¼Œé—®è¿™äº›åæ ‡è¡¨ç¤ºçš„æ˜¯å·¦æ‰‹è¿˜æ˜¯å³æ‰‹ã€‚</p>
<p>é¢˜ç›®ä¸­ä¸€ä¸ªå¾ˆé‡è¦çš„æ¡ä»¶æ˜¯ï¼Œæµ‹è¯•æ•°æ®ä¸­çš„æ‰‹å’Œé¢˜é¢ä¸­çš„æ‰‹ç›¸æ¯”ï¼Œåªä¼šå¹³ç§»å’Œæ—‹è½¬ï¼Œè€Œä¸ä¼šæ”¾å¤§ç¼©å°ã€‚åŒæ—¶åˆè§‚å¯Ÿåˆ°ï¼Œå›¾ä¸­ç”±ä¸€æ¡é•¿ä¸º6çš„è¾¹ã€ä¸€æ¡é•¿ä¸º1çš„è¾¹å’Œä¸€æ¡é•¿ä¸º3çš„è¾¹ç»„æˆçš„æ‰‹æŒ‡åªæœ‰æ‹‡æŒ‡ã€‚æ‰€ä»¥å¯ä»¥æä¸€ä¸ªå®½åº¦ä¸º4çš„çª—å£ï¼Œæ‰¾åˆ°è¿™æ ·çš„å››ä¸ªç‚¹ï¼šä¸¤ç»„ç›¸é‚»ç‚¹çš„è·ç¦»åˆ†åˆ«æ˜¯6å’Œ3ã€‚è¿™æ ·å°±èƒ½æ‰¾åˆ°æ‹‡æŒ‡çš„ä½ç½®ã€‚æ‰¾åˆ°ä¹‹åï¼Œç”¨å‰ä¹˜åˆ¤æ–­ä¸‹åœ¨æ‹‡æŒ‡å·¦ä¾§çš„ç‚¹å¤šè¿˜æ˜¯å³ä¾§çš„ç‚¹å¤šå³å¯ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps=<span class="number">1e-3</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sgn</span><span class="params">(<span class="keyword">double</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> Eps=<span class="number">1e-8</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">fabs</span>(x)&lt;Eps)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;<span class="number">0</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span>&#123;</span></span><br><span class="line">    <span class="keyword">double</span> x;</span><br><span class="line">    <span class="keyword">double</span> y;</span><br><span class="line">    <span class="built_in">point</span>()&#123;&#125;</span><br><span class="line">    <span class="built_in">point</span>(<span class="keyword">double</span> _x,<span class="keyword">double</span> _y)&#123;</span><br><span class="line">        x=_x;y=_y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">point</span> <span class="keyword">operator</span>-(<span class="keyword">const</span> <span class="built_in">point</span>&amp; b)<span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">point</span>(x-b.x,y-b.y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">double</span> <span class="keyword">operator</span>^(<span class="keyword">const</span> <span class="built_in">point</span>&amp; b)<span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x*b.y-y*b.x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">line</span>&#123;</span></span><br><span class="line">    <span class="built_in">point</span> s,e;</span><br><span class="line">    <span class="built_in">line</span>()&#123;&#125;</span><br><span class="line">    <span class="built_in">line</span>(<span class="built_in">point</span> _s,<span class="built_in">point</span> _e)&#123;</span><br><span class="line">        s=_s;e=_e;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">relation</span><span class="params">(<span class="built_in">point</span> p)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> c=sgn((p-s)^(e-s));</span><br><span class="line">        <span class="keyword">if</span>(c&lt;<span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c&gt;<span class="number">0</span>) <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">point</span> ps[<span class="number">22</span>];</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">sqr</span><span class="params">(<span class="keyword">double</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x*x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">dist</span><span class="params">(<span class="keyword">const</span> <span class="built_in">point</span>&amp; pa,<span class="keyword">const</span> <span class="built_in">point</span>&amp; pb)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sqrt</span>(sqr(pa.x-pb.x)+sqr(pa.y-pb.y));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">const</span> <span class="built_in">point</span>&amp; pa,<span class="keyword">const</span> <span class="built_in">point</span>&amp; pb,<span class="keyword">const</span> <span class="built_in">point</span>&amp; pc,<span class="keyword">const</span> <span class="built_in">point</span>&amp; pd)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> dis1=dist(pa,pb);</span><br><span class="line">    <span class="keyword">double</span> dis2=dist(pc,pd);</span><br><span class="line">    <span class="comment">//printf("dis1 = %lf, dis2 = %lf, %lf, %lf\n",dis1,dis2,fabs(dis1-3.0),fabs(dis2-6.0));</span></span><br><span class="line">    <span class="keyword">if</span>((<span class="built_in">fabs</span>(dis1<span class="number">-6.00</span>)&lt;eps&amp;&amp;<span class="built_in">fabs</span>(dis2<span class="number">-3.00</span>)&lt;eps)||(<span class="built_in">fabs</span>(dis1<span class="number">-3.00</span>)&lt;eps&amp;&amp;<span class="built_in">fabs</span>(dis2<span class="number">-6.00</span>)&lt;eps)) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="keyword">double</span> X,Y;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lf %lf"</span>,&amp;X,&amp;Y);</span><br><span class="line">            ps[i].x=X;ps[i].y=Y;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> pos;</span><br><span class="line">        <span class="keyword">int</span> idx1,idx2,idx3,idx4;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++)&#123;</span><br><span class="line">            idx1=i;idx2=(i+<span class="number">1</span>)%<span class="number">20</span>;</span><br><span class="line">            idx3=(i+<span class="number">2</span>)%<span class="number">20</span>;idx4=(i+<span class="number">3</span>)%<span class="number">20</span>;</span><br><span class="line">            <span class="keyword">if</span>(check(ps[idx1],ps[idx2],ps[idx3],ps[idx4]))&#123;</span><br><span class="line">                pos=i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="comment">//printf("pos = %d\n",pos);</span></span><br><span class="line">        <span class="function"><span class="built_in">line</span> <span class="title">L</span><span class="params">(ps[pos],ps[(pos+<span class="number">1</span>)%<span class="number">20</span>])</span></span>;</span><br><span class="line">        <span class="keyword">int</span> lef=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> rig=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=(pos+<span class="number">2</span>)%<span class="number">20</span>;i!=pos;i=(i+<span class="number">1</span>)%<span class="number">20</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> rela=L.relation(ps[i]);</span><br><span class="line">            <span class="keyword">if</span>(rela==<span class="number">1</span>) lef++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(rela==<span class="number">2</span>) rig++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(lef&lt;rig) <span class="built_in">puts</span>(<span class="string">"right"</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"left"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="F-æ•°è®ºã€æ‹“å±•æ¬§å‡ é‡Œå¾—"><a href="#F-æ•°è®ºã€æ‹“å±•æ¬§å‡ é‡Œå¾—" class="headerlink" title="F æ•°è®ºã€æ‹“å±•æ¬§å‡ é‡Œå¾—"></a>F æ•°è®ºã€æ‹“å±•æ¬§å‡ é‡Œå¾—</h3><p>é¢˜æ„æ˜¯è¯´ï¼Œç»™å‡ºä¸¤ä¸ªæ•´æ•°$a,b$ï¼Œ$c,d,e,f$éƒ½æ˜¯æœªçŸ¥æ•°ï¼Œæ±‚æ–¹ç¨‹$\frac{c}{d}-\frac{e}{f}=\frac{a}{b}$çš„ä»»æ„ä¸€ä¸ªè§£ã€‚åŒæ—¶ï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼š</p>
<ul>
<li>$d&lt;b\ and\ f&lt;d$</li>
<li>$1\leq c,e\leq 4\times 10^{12}$</li>
</ul>
<p>æ€è·¯æ˜¯è¿™æ ·çš„ï¼Œåˆ†ä¸‰ç§æƒ…å†µè®¨è®ºï¼š</p>
<ul>
<li><p>$\gcd(a,b)&gt;1$</p>
<p>è®¾$g=\gcd(a,b)$ï¼Œåˆ™æœ‰$\frac{(a+1)/g}{b/g}-\frac{a/g}{b/g}=\frac{a}{b}$ã€‚å› ä¸º$g&gt;1$ï¼Œæ‰€ä»¥$b/g&lt;b$ï¼Œæ‰€ä»¥ç›´æ¥ä»¤$c=(a+1)/g,d=b/g,e=a/g,f=b/g$å³å¯ã€‚</p>
</li>
<li><p>$\gcd(a,b)=1$ï¼Œä¸”$b$çš„è´¨å› æ•°è‡³å°‘æœ‰ä¸¤ä¸ª</p>
<p>è®¾æ­¤æ—¶çš„$b=p_1^{x_1}p_2^{x_2}p_3^{x_3}\dots p_n^{x_n}$ï¼Œä»¤$d=p_1^{x_1},f=\frac{b}{d}$ï¼Œåˆ™æœ‰$df=b$ã€‚é—®é¢˜è½¬åŒ–ä¸ºæ±‚è§£ä¸å®šæ–¹ç¨‹$cf-de=a$ã€‚ç”¨exgcdæ±‚è§£å³å¯ã€‚</p>
</li>
<li><p>$\gcd(a,b)=1$ï¼Œä¸”$b=p^x$ï¼ˆ$p$æ˜¯ç´ æ•°ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´$b$æ˜¯1æˆ–è€…ä¸€ä¸ªæŒ‡æ•°çš„å¹‚æ¬¡</p>
<p>æ­¤æ—¶æ— è§£ï¼ŒåŸå› æ˜¯ï¼Œå¦‚æœ$b$æ˜¯1ï¼Œé‚£ä¹ˆ$d,f$å°±åªèƒ½å–0ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸å¯èƒ½çš„ã€‚å¦‚æœ$b=p^x$ï¼Œåˆ™å¯ä»¥è®¾$d=p^u,f=p^{x-u}$ã€‚exgcdæœ‰è§£çš„å……è¦æ¡ä»¶æ˜¯$\gcd(d,f)\mid a$ï¼Œæ‰€ä»¥æœ‰$\gcd(d,f)=p^{\min{u,x-u}}$ã€‚ä½†å› ä¸º$\gcd(a,b)=1$ï¼Œæ‰€ä»¥$a$çš„è´¨å› å­ä¸­æ²¡æœ‰$p$ï¼Œä¹Ÿå°±æ˜¯è¯´$\gcd(d,f)\nmid a$ï¼Œexgcdä¸å¯èƒ½æœ‰è§£ã€‚</p>
</li>
</ul>
<p>æ‹“å±•æ¬§å‡ é‡Œå¾—è§£ä¸å®šæ–¹ç¨‹$ax+by=c$ï¼Œæœ€åçš„è§£ä¸€å®šè¦ä¹˜ä»¥$\frac{c}{\gcd(a,b)}$ï¼å› ä¸ºæ±‚è§£è¿™ä¸ªæ–¹ç¨‹çš„æ—¶å€™ï¼Œå®é™…ä¸Šæ˜¯åœ¨æ±‚è§£$axâ€™+byâ€™=\gcd(a,b)$ï¼Œå› æ­¤è¦å·¦å³ä¸¤è¾¹éƒ½åŒä¹˜ä¸Š$\frac{c}{\gcd(a,b)}$è¿™ä¸ªå› å­ï¼Œæ‰æ˜¯æœ€ç»ˆçš„è§£ï¼æ•°è®ºå¿˜å¾—ä¸€å¹²äºŒå‡€orz</p>
<h3 id="L-ç­¾åˆ°é¢˜"><a href="#L-ç­¾åˆ°é¢˜" class="headerlink" title="L ç­¾åˆ°é¢˜"></a>L ç­¾åˆ°é¢˜</h3><p>æ¸©æš–çš„ç­¾åˆ°é¢˜ï¼Œä»£ç å°±ä¸æ”¾äº†</p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>å¤šæ ¡</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>å¤šæ ¡</tag>
      </tags>
  </entry>
  <entry>
    <title>BZOJ4403-åºåˆ—ç»Ÿè®¡(ç»„åˆæ•°å­¦ï¼Œå¢å¡æ–¯å®šç†)</title>
    <url>/2019/01/28/BZOJ4403-%E5%BA%8F%E5%88%97%E7%BB%9F%E8%AE%A1-%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6%EF%BC%8C%E5%8D%A2%E5%8D%A1%E6%96%AF%E5%AE%9A%E7%90%86/</url>
    <content><![CDATA[<p>é¢˜ç›®é“¾æ¥:<a href="https://www.lydsy.com/JudgeOnline/problem.php?id=4403" rel="external nofollow noopener noreferrer" target="_blank">åºåˆ—ç»Ÿè®¡</a><br><img src="https://pic.superbed.cn/item/5c4e754f5f3e509ed97c0c84" alt></p>
<p>&emsp;&emsp;é¦–å…ˆï¼ŒLä¸Rå®é™…ä¸Šæ˜¯æ²¡å¤ªå¤§æ„ä¹‰çš„ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦çš„åªæ˜¯Lå’ŒRä¹‹é—´å«æœ‰å¤šå°‘ä¸ªæ•°ï¼Œå³R-L+1ä¸ªæ•°ã€‚å…¶æ¬¡ï¼Œè¦æ³¨æ„ä¸€ç‚¹ï¼Œåœ¨ä¸€ä¸ªåºåˆ—ä¸­ï¼Œæ•°å­—æ˜¯å¯ä»¥é‡å¤çš„ã€‚ä»¥æ ·ä¾‹ä¸­çš„2 4 5ä¸ºä¾‹ï¼Œç¬¦åˆè¦æ±‚çš„åºåˆ—æœ‰{4},{5},{4,5},{4,4},{5,5}ã€‚äº‹å®ä¸Šï¼Œé—®é¢˜å¯ä»¥è½¬åŒ–ä¸ºâ€œæœ‰R-L+1ä¸ªä¸åŒçš„ç›’å­ï¼Œè‹¥è¦å°†i(1&lt;=i&lt;=n)ä¸ªç›¸åŒçš„å°çƒæ”¾è¿›è¿™äº›ç›’å­é‡Œ(æŸäº›ç›’å­å¯ä»¥ä¸ºç©º)ï¼Œé—®å¯¹äºæ‰€æœ‰çš„iï¼Œæ”¾æ³•çš„æ€»å’Œæ˜¯å¤šå°‘ï¼Ÿâ€å…¶ä¸­ï¼Œä¸åŒçš„ç›’å­ä»£è¡¨ç€ä¸åŒçš„æ•°ï¼Œåœ¨ä¸€ä¸ªç›’å­ä¸­æ”¾å…¥ä¸€ä¸ªçƒï¼Œç›¸å½“äºé€‰å–ä¸€æ¬¡è¯¥æ•°å­—ä½œä¸ºåºåˆ—ä¸­çš„æˆå‘˜ã€‚å†å°†é—®é¢˜æŠ½è±¡ä¸€ä¸‹ï¼Œå³ä¸ºâ€œå°†iä¸ªå°çƒåˆ’åˆ†æˆkå †(1&lt;=k&lt;=i)ï¼Œé—®å¯¹äºæ‰€æœ‰çš„iï¼Œåˆ’åˆ†æ–¹æ³•çš„æ€»å’Œæ˜¯å¤šå°‘ï¼Ÿâ€å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨C(m+n,n)æ±‚è§£(å¯¹äºæœ¬é¢˜æ˜¯C(seg+n,n),seg=R-L+1)å¦å¤–ï¼Œé€šè¿‡è§‚å¯Ÿå¯çŸ¥(å…¶å®æ˜¯æˆ‘ä¸ä¼šæ¨å¯¼ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚),é€šè¿‡C(m+n,n)æ±‚å‡ºçš„æ•°ä¼šæ¯”æ­£ç¡®ç­”æ¡ˆå¤§1ï¼Œæ•…æœ€ç»ˆç­”æ¡ˆä¸ºC(seg+n,n)-1ã€‚<br>åˆå› ä¸º10^6+3ä¸ºç´ æ•°ï¼Œæ•…å¯ä»¥ç”¨Lucasã€‚</p>
<p>ä»£ç å¦‚ä¸‹:<br><figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstring&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstdlib&gt;</span></span><br><span class="line">using namespace std;</span><br><span class="line">typedef long long <span class="keyword">ll;</span></span><br><span class="line"><span class="keyword">ll </span>fpow(<span class="keyword">ll </span>a,<span class="keyword">ll </span><span class="keyword">b,ll </span>p)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">ll </span>ans=<span class="number">1</span><span class="comment">;a%=p;</span></span><br><span class="line">    while(<span class="keyword">b)</span></span><br><span class="line"><span class="keyword"> </span>   &#123;</span><br><span class="line">        if(<span class="keyword">b&amp;1)</span></span><br><span class="line"><span class="keyword"> </span>           ans=(ans*a)%p;</span><br><span class="line">        a=(a*a)%p;</span><br><span class="line">        <span class="keyword">b&gt;&gt;=1;</span></span><br><span class="line"><span class="keyword"> </span>   &#125;</span><br><span class="line">    return ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">ll </span>inv(<span class="keyword">ll </span>x,<span class="keyword">ll </span>p)</span><br><span class="line">&#123;</span><br><span class="line">    return fpow(x,p<span class="number">-2</span>,p);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">ll </span>comb(<span class="keyword">ll </span>n,<span class="keyword">ll </span>m,<span class="keyword">ll </span>p)</span><br><span class="line">&#123;</span><br><span class="line">    if(n&lt;m)        return <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">ll </span>up=<span class="number">1</span><span class="comment">;ll down=1;</span></span><br><span class="line">    for(int i=n-m+<span class="number">1</span><span class="comment">;i&lt;=n;i++)        up=(up*i)%p;</span></span><br><span class="line">    for(int i=<span class="number">1</span><span class="comment">;i&lt;=m;i++)        down=(down*i)%p;</span></span><br><span class="line">    return up*inv(down,p)%p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">ll </span>lucas(<span class="keyword">ll </span>a,<span class="keyword">ll </span><span class="keyword">b,ll </span>p)</span><br><span class="line">&#123;</span><br><span class="line">    return !<span class="keyword">b?1:lucas(a/p,b/p,p)*comb(a%p,b%p,p)%p;</span></span><br><span class="line"><span class="keyword">&#125;</span></span><br><span class="line"><span class="keyword">int </span>main()</span><br><span class="line">&#123;</span><br><span class="line">    int t;</span><br><span class="line">    <span class="keyword">ll </span>n,lef,rig;</span><br><span class="line">    <span class="keyword">ll </span>p=<span class="number">3</span>+<span class="number">1</span>e6;</span><br><span class="line">    <span class="keyword">scanf("%d",&amp;t);</span></span><br><span class="line"><span class="keyword"> </span>   while(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">scanf("%lld </span>%<span class="keyword">lld </span>%<span class="keyword">lld",&amp;n,&amp;lef,&amp;rig);</span></span><br><span class="line"><span class="keyword"> </span>       <span class="keyword">ll </span>seg=rig-lef+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">ll </span>ans=<span class="number">0</span><span class="comment">; </span></span><br><span class="line">        ans=(lucas(seg+n,n,p)+p<span class="number">-1</span>)%p;</span><br><span class="line">        printf(<span class="string">"%lld\n"</span>,ans)<span class="comment">; </span></span><br><span class="line">    &#125;</span><br><span class="line">    return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>æ•°è®º</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>æ•°è®º</tag>
      </tags>
  </entry>
  <entry>
    <title>Aizu - ALDS1_1_D-Maximum Profitï¼ˆè½¬åŒ–æ€æƒ³+DPï¼‰</title>
    <url>/2019/02/13/Aizu-ALDS1-1-D-Maximum-Profit/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/Aizu-ALDS1_1_D" rel="external nofollow noopener noreferrer" target="_blank">Aizu - ALDS1_1_1_D</a></p>
<p>(è¿™è²Œä¼¼æ˜¯ä¸ªæ—¥æœ¬çš„ojï¼Ÿåå­—å«aizuæœ‰ç‚¹å¥‡æ€ªå‘¢hhhh)<br><a id="more"></a></p>
<p>&emsp;&emsp;è¿™é“é¢˜çš„æ€è·¯æ˜¯é¦–å…ˆå°†ç›¸å‡è½¬åŒ–ä¸ºç›¸åŠ ã€‚æˆ‘ä»¬å¯ä»¥åœ¨åŸæ•°ç»„çš„åŸºç¡€ä¸Šå†æ„é€ ä¸€ä¸ªæ–°çš„æ•°ç»„sub[],sub[]ä¸­å­˜æ”¾çš„æ˜¯R[i+1]-R[i]ï¼Œå› æ­¤ï¼Œæœ‰ä»¥ä¸‹å¼å­æˆç«‹ï¼š<br>(R[i+1]-R[i]) + (R[i+2]-R[i+1]) + Â·Â·Â· + (R[j-1]-R[j-2]) + (R[j] - R[j-1]) = sub[i+1] + sub[i+2] + Â·Â·Â· + sub[j-1] + sub[j] = R[j] - R[i]<br>&emsp;&emsp;è¿™ä¹ˆä¸€æ¥ï¼Œæ±‚å·®çš„æœ€å¤§å€¼å°±è½¬åŒ–ä¸ºäº†æ±‚sub[]çš„è¿ç»­å­åºåˆ—å’Œçš„æœ€å¤§å€¼ï¼Œè€Œè¿™åªéœ€è¦ç”¨dpæ±‚å³å¯ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºdp[j] = max(dp[j-1] + sub[j],sub[j])ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">200000</span>+<span class="number">5</span>;</span><br><span class="line">ll R[maxn];</span><br><span class="line">ll sub[maxn];</span><br><span class="line">ll dp[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">memset</span>(R,<span class="number">0</span>,<span class="keyword">sizeof</span>(R));</span><br><span class="line">    <span class="built_in">memset</span>(sub,<span class="number">0</span>,<span class="keyword">sizeof</span>(sub));</span><br><span class="line">    <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;R[i]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n<span class="number">-1</span>;i++)</span><br><span class="line">        sub[i]=R[i+<span class="number">1</span>]-R[i];</span><br><span class="line">    dp[<span class="number">1</span>]=sub[<span class="number">1</span>];</span><br><span class="line">    ll ans=INT_MIN;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n<span class="number">-1</span>;i++)</span><br><span class="line">        dp[i]=<span class="built_in">max</span>(dp[i<span class="number">-1</span>]+sub[i],sub[i]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n<span class="number">-1</span>;i++)</span><br><span class="line">        <span class="keyword">if</span>(dp[i]&gt;ans)</span><br><span class="line">            ans=dp[i];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>ç®€å•DP</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>DP</tag>
      </tags>
  </entry>
  <entry>
    <title>CCPC2019å“ˆå°”æ»¨ç«™æ€»ç»“</title>
    <url>/2019/10/15/CCPC2019%E5%93%88%E5%B0%94%E6%BB%A8%E7%AB%99%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/Hc44a6b020fd5413ca3b54eea908034afn.jpg" alt></p>
<a id="more"></a>
<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>èŒæ–°çš„ç¬¬ä¸€åœºåŒºåŸŸèµ›ï¼ŒæŠ±é˜Ÿå‹å¤§è…¿æ‹¿äº†ä¸ªé“œï¼Œä¸è‡³äºæ‰“é“qwqã€‚é˜Ÿå‹å®åœ¨å¤ªå¼ºè¾£ï¼</p>
<h4 id="çƒ­èº«èµ›"><a href="#çƒ­èº«èµ›" class="headerlink" title="çƒ­èº«èµ›"></a>çƒ­èº«èµ›</h4><p>çƒ­èº«èµ›å››é“é¢˜ï¼ŒAï¼ŒBéƒ½æ˜¯å‚»é€¼é¢˜ï¼›Cï¼ŒDæ˜¯ç‰›å®¢å¤šæ ¡åŸé¢˜ï¼Œç„¶è€Œæˆ‘ä»¬å¹¶æ²¡æœ‰æ•²å‡ºæ¥â€¦â€¦Cé¢˜åŸæœ¬çš„æƒ³æ³•æ˜¯æšä¸¾çŸ©é˜µèµ·ç‚¹ï¼Œç„¶åå•è°ƒæ ˆç»´æŠ¤çºµå‘æ¨ªå‘ä¸¤ä¸ªæ–¹å‘æœ€è¿œå¯ä»¥æ‹“å±•çš„è·ç¦»ï¼›åæ¥å¬å¯¹é¢å¥³é˜Ÿçš„å°å§å§è®¨è®ºï¼Œè§‰å¾—å¯ä»¥å°ºå–æ³•ææï¼Œç»“æœçƒ­èº«èµ›ç»“æŸäº†éƒ½æ²¡å¼„å‡ºæ¥ğŸ˜­ã€‚åæ‚”æ²¡æœ‰å¥½å¥½è¡¥å¤šæ ¡çš„é¢˜ğŸ˜­</p>
<p>çƒ­èº«èµ›è‰è‰ç»“æŸï¼Œå»ä¸œæ—æ°äº†ä¸ªæ™šé¥­ï¼Œ<del>ä¸œæ—çš„é¥­å ‚è¿˜æŒºå¥½åƒçš„</del></p>
<h4 id="æ­£èµ›"><a href="#æ­£èµ›" class="headerlink" title="æ­£èµ›"></a>æ­£èµ›</h4><p>æ­£èµ›ä¸€å…±è¿‡äº†ä¸‹é¢å››é¢˜</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Problem</th>
<th>Solution</th>
</tr>
</thead>
<tbody>
<tr>
<td>F - Fixing Banners</td>
<td>ç›´æ¥6!æš´åŠ›æšä¸¾</td>
</tr>
<tr>
<td>I - Interesting Permutation</td>
<td>ç‰›é€¼é˜Ÿå‹æ‰¾è§„å¾‹ï¼Œæˆ‘ä¸€è„¸æ‡µé€¼â€¦â€¦</td>
</tr>
<tr>
<td>J - Justifying the Conjecture</td>
<td>>=5çš„æƒ…å†µéƒ½æœ‰è§£ï¼Œå¥‡æ•°åˆ†è§£æˆ3 + xï¼Œå¶æ•°åˆ†è§£æˆ2 + x</td>
</tr>
<tr>
<td>K - Keeping Rabbits</td>
<td>æ— è®ºç»è¿‡å¤šå°‘å¤©ï¼Œæ¦‚ç‡åˆ†å¸ƒéƒ½ä¸ä¼šå˜åŒ–</td>
</tr>
</tbody>
</table>
</div>
<p>å¼€åœºçœ‹é¢˜æ—¶æ²¿ç”¨äº†æˆ‘ä»¬é˜Ÿä¸€ç›´ä»¥æ¥çš„ç­–ç•¥ï¼Œæˆ‘ä»åé¢å¼€å§‹çœ‹é¢˜ï¼Œzhå­¦é•¿ä»å‰é¢å¼€å§‹çœ‹é¢˜ï¼Œpzcä¸­é—´éšä¾¿çœ‹ã€‚æ ¹æ®èµ›å‰è®­ç»ƒçš„ç»éªŒï¼Œç­¾åˆ°é¢˜ä¸€èˆ¬æ˜¯å€’æ•°ç¬¬äºŒæˆ–ç¬¬ä¸‰é¢˜ï¼Œå†åŠ ä¸Šè¿™æ¬¡çš„å€’æ•°ç¬¬ä¸€é¢˜æ˜¯ä¸€é“é¢˜é¢è´¼é•¿çš„å¤§æ¨¡æ‹Ÿï¼Œäºæ˜¯çœ‹é¢˜æ—¶æˆ‘æ²¡æœ‰ä»å€’æ•°ç¬¬ä¸€é¢˜å¼€å§‹ï¼Œè€Œæ˜¯ç›´æ¥é€‰äº†æœ€ç­¾åˆ°çš„ Jï¼Œå‘ç°æœç„¶æ˜¯æ°´é¢˜ï¼Œäºæ˜¯æŠŠé¢˜æ„å–‚ç»™ä¸»ä»£ç æ‰‹ï¼Œ10minå†…æ°´è¿‡ã€‚</p>
<p>å¾€ååˆçœ‹åˆ°äº†Kï¼Œäºæ˜¯æŠŠé¢˜æ„å‘Šè¯‰å­¦é•¿ï¼Œç„¶åè‡ªå·±æ¥ç€çœ‹é¢˜ã€‚çœ‹é¢˜è¿‡ç¨‹ä¸­å‘ç°äº†Få’ŒIï¼Œè§‰å¾—æœ‰æå¤´ï¼Œç„¶åå»æäº†æFï¼Œå–‚ç»™å­¦é•¿å’Œä»£ç æ‰‹ï¼Œè¿‡äº†ã€‚ç´§æ¥ç€æ˜¯å­¦é•¿æ•²Kï¼Œä¹Ÿæ˜¯ä¸€å‘è¿‡ã€‚å¼€åœºç­¾åˆ°æ„Ÿè§‰å¾ˆé¡ºåˆ©ï¼Œ<del>ç„¶åå°±å¼€å§‹è‡ªé—­äº†</del></p>
<p>ç­¾å®Œå‰ä¸‰é¢˜åï¼Œå¼€å§‹æI ã€‚é¢˜æ„æ˜¯è¯´ç»™å®šä¸€ä¸ª$1$åˆ°$n$çš„æ’åˆ—$a_1,a_2,a_3,â€¦,a_n$ï¼Œå¯¹äºä¸¤ä¸ªåºåˆ—<script type="math/tex">f_i=max\{a_1,a_2,a_3,...,a_i\}</script>ï¼Œ<script type="math/tex">g_i=min\{a_1,a_2,a_3,...,a_i\}</script>ï¼Œå®šä¹‰$h_i=f_i-g_i$ã€‚ç°åœ¨ç»™å‡ºä¸€ä¸ª$h$åºåˆ—ï¼Œé—®æœ‰å¤šå°‘ä¸ª$1$åˆ°$n$çš„æ’åˆ—ï¼Œå¯ä»¥ç”Ÿæˆè¿™æ ·çš„ä¸€ä¸ª$h$åºåˆ—ã€‚</p>
<p>ç¬¬ä¸€ååº”æ˜¯dpï¼Œä½†é˜Ÿé‡Œçš„dpé€‰æ‰‹æƒ³ä¸å‡ºè¦æ€ä¹ˆd OTZã€‚è¿‡äº†ä¸€ä¼šåç‰›é€¼é˜Ÿå‹å‘ç°è¿™ä¸œè¥¿å¯ä»¥æ‰¾è§„å¾‹è§£å†³ï¼Œç»“æœæ‰“äº†ä¸ªè¡¨å¯¹æ‹ä¸€ä¸‹ï¼Œç»“æœå‘ç°è§„å¾‹å¥½åƒæ¨é”™äº†â€¦â€¦äºæ˜¯ç»§ç»­è‡ªé—­ï¼Œç›´åˆ°å·®ä¸å¤šä¸€ç‚¹çš„æ—¶å€™ï¼Œé˜Ÿå‹æ‰æŠŠæ­£ç¡®çš„è§„å¾‹æäº†å‡ºæ¥ï¼Œç„¶åæææï¼Œç»ˆäºè¿‡äº†ğŸ˜­ã€‚å¯¹äºè¿™é¢˜æˆ‘ä¸ªäººæ„Ÿè§‰æŒºæƒ­æ„§çš„ï¼Œå¯ä»¥è¯´é™¤äº†è¯»é¢˜å¯¹æ‹æ„å¤–æ²¡æœ‰å…¶ä»–è´¡çŒ®ï¼Œ<del>åæœŸè¿˜æŒ‚æœºäº†</del>ã€‚Ié¢˜è¿‡äº†ä¹‹åï¼Œæ’åä¸Šå‡åˆ°äº†121ï¼Œç»ˆäºè‹Ÿåˆ°é“œç‰Œäº†OTZ</p>
<p>è¿™æ—¶å€™è¿˜å‰©ä¸‹ä¸€ä¸ªåŠå°æ—¶ï¼Œæ„Ÿè§‰å¦‚æœä¸æŠŠEè¿‡æ‰ï¼Œå¾ˆå¯èƒ½ä¼šæ‰“é“ï¼ˆä¸è¿‡äº‹å®è¯æ˜è¿˜æ˜¯èƒ½æœ‰é“œçš„ï¼‰ã€‚äºæ˜¯ç–¯ç‹‚æEï¼Œä½†æœ€ç»ˆè¿˜æ˜¯å¾ˆé—æ†¾æ²¡æœ‰å¼„å‡ºæ¥ã€‚èµ›åè·Ÿæˆ‘æ ¡çš„å¦ä¸€æ”¯é˜Ÿäº†è§£äº†ä¸€ä¸‹ï¼Œå¾—çŸ¥ä»–ä»¬å°†å¿«è¯»æ¢æˆäº†Aé¢˜é¢˜é¢ä¸Šçš„å¿«è¯»å°±è¿‡äº†â€¦â€¦è¿‡äº†â€¦â€¦é˜Ÿå‹å¬åˆ°è¿™éƒ½è¦å“­äº†ï¼Œ<del>æˆ‘ä¹Ÿè¦å“­äº†qwq</del></p>
<p>ç¬¬ä¸€åœºåŒºåŸŸèµ›ï¼Œæ²¡æœ‰æ‰“é“ï¼Œæˆ‘ä¸ªäººå·²ç»éå¸¸æ»¡æ„äº†ã€‚å¤§è‡´æ€»ç»“ä¸€ä¸‹è‡ªèº«çš„é—®é¢˜ï¼Œä¸€å°±æ˜¯ç²¾ç¥ä¸å¤Ÿé›†ä¸­ï¼Œå®¹æ˜“è¿›å…¥æŒ‚æœºçŠ¶æ€ã€‚æ— è®ºæ˜¯å¹³æ—¶è®­ç»ƒè¿˜æ˜¯ç°åœºèµ›éƒ½æ˜¯å¦‚æ­¤ã€‚äºŒå°±æ˜¯æ—¶é—´çš„åˆ©ç”¨æ•ˆç‡è¿˜ä¸å¤Ÿé«˜ï¼Œæ¯”å¦‚è¯´è¿™æ¬¡ç°åœºèµ›ï¼ŒåæœŸå¡Eé¢˜çš„æ—¶å€™ï¼Œæˆ‘å¯¹è¿™é¢˜å‡ ä¹æ˜¯0è´¡çŒ®ï¼Œé‚£è¿™æ—¶ä¸ºä»€ä¹ˆæˆ‘ä¸å»ææé‚£ä¸¤é“æ¨¡æ‹Ÿé¢˜ï¼Œæƒ³ä¸ªå¤§æ¦‚çš„æ¡†æ¶ï¼Œç„¶åæŠŠé¢˜æ„å’Œè‡ªå·±çš„æƒ³æ³•å–‚ç»™æ“…é•¿æ¨¡æ‹Ÿé¢˜çš„é˜Ÿå‹å‘¢ï¼Ÿæˆ–è®¸è¿™æ ·æˆ‘ä»¬èƒ½Aäº”é¢˜ï¼Ÿ</p>
<p>å°±è¿™æ ·å§ï¼Œè¿™å‘¨é“¶å·ç«™åŠ æ²¹ğŸ’ª</p>
<h4 id="ä¸€äº›é¢˜å¤–è¯"><a href="#ä¸€äº›é¢˜å¤–è¯" class="headerlink" title="ä¸€äº›é¢˜å¤–è¯"></a>ä¸€äº›é¢˜å¤–è¯</h4><p><img src="https://ae01.alicdn.com/kf/H7d0f28ea3f4c49c19ad981ce10d5ac0du.jpg" alt></p>
<center>æ‘„äºæ·±åœ³â€”å“ˆå°”æ»¨çš„é£æœºä¸Š</center>



<p><img src="https://ae01.alicdn.com/kf/Hb1000c4c83664acb8eda52e37b4c3bdce.png" alt></p>
<center>ä¸œæ—é‡Œé¢å±…ç„¶è¿˜æœ‰ä¸ªè‡ªç„¶åšç‰©é¦†ï¼Œæˆ‘é…¸äº†qwq</center>





<p><img src="https://ae01.alicdn.com/kf/H3d63cdbd1f44496ca159ea95fcf3795cR.jpg" alt></p>
<center>å“ˆå°”æ»¨ç‰¹è‰²é”…åŒ…è‚‰ï¼Œç„¶è€Œå¹¶ä¸å–œæ¬¢ç”œé£Ÿã€‚ã€‚ã€‚</center>

<p><img src="https://ae01.alicdn.com/kf/Hc44a6b020fd5413ca3b54eea908034afn.jpg" alt></p>
<center>æ‘„äºå“ˆå°”æ»¨å¤ªé˜³å²›</center>]]></content>
      <categories>
        <category>ACM</category>
        <category>èµ›åæ€»ç»“</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>CCPC</tag>
        <tag>èµ›åæ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>Codeforces988A ~ 998E</title>
    <url>/2019/03/28/Co-de-for/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/CodeForces-988A" rel="external nofollow noopener noreferrer" target="_blank">988D - Diverse Team</a></p>
<p>æ²¡ä»€ä¹ˆå¥½è¯´çš„<br><a id="more"></a></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e4</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> cnt[<span class="number">105</span>];</span><br><span class="line"><span class="keyword">int</span> arr[<span class="number">105</span>];</span><br><span class="line"><span class="keyword">int</span> ans[<span class="number">105</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,k;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;k;</span><br><span class="line">    mst(cnt,<span class="number">0</span>);</span><br><span class="line">    mst(arr,<span class="number">0</span>);mst(ans,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;arr[i];</span><br><span class="line">        cnt[arr[i]]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> tot=<span class="number">0</span>;<span class="keyword">int</span> idx=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(cnt[arr[i]])&#123;</span><br><span class="line">            tot++;</span><br><span class="line">            cnt[arr[i]]=<span class="number">0</span>;</span><br><span class="line">            ans[idx++]=i;</span><br><span class="line">            <span class="keyword">if</span>(tot&gt;=k)        <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(tot&gt;=k)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"YES"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;idx;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!i)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d"</span>,ans[i]);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">" %d"</span>,ans[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"NO"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vjudge.net/problem/CodeForces-988B" rel="external nofollow noopener noreferrer" target="_blank">988B - Substrings Sort</a></p>
<p>å…ˆæ ¹æ®å­—ç¬¦ä¸²é•¿åº¦æ’ä¸ªåºï¼Œå†ç”¨findæ‰¾ä¸€ä¸‹æ˜¯å¦æœ‰å­ä¸²å³å¯</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e4</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="built_in">string</span> strs[<span class="number">105</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="built_in">string</span> sa,<span class="built_in">string</span> sb)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sa.<span class="built_in">size</span>()&gt;sb.<span class="built_in">size</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;strs[i];</span><br><span class="line">    sort(strs,strs+n,cmp);</span><br><span class="line">    <span class="keyword">bool</span> flag=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n<span class="number">-1</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(strs[i].<span class="built_in">find</span>(strs[i+<span class="number">1</span>])==<span class="number">-1</span>)&#123;</span><br><span class="line">            flag=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!flag)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"NO"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"YES"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=n<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;strs[i]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vjudge.net/problem/CodeForces-988C" rel="external nofollow noopener noreferrer" target="_blank">988C - Equal Sums</a></p>
<p>å¯¹äºä¸€ä¸ªåºåˆ—ï¼Œå°†æ€»å’Œå‡å»æŸä¸ªå…ƒç´ æ‰€å¾—åˆ°çš„æ•°æ”¾è¿›mapä¸­ï¼Œmapçš„keyæ˜¯è¿™ä¸ªå…ƒç´ ï¼Œvalueæ˜¯è¿™ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åè¿›è¡Œåˆ°åé¢çš„åºåˆ—æ—¶å†ç”¨mapæŸ¥æ‰¾å³å¯</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>,pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;&gt; mp;        <span class="comment">//åºåˆ—åºå·ï¼Œå…ƒç´ åºå· </span></span><br><span class="line"><span class="keyword">int</span> arr[<span class="number">2</span>*maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> k;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;k;</span><br><span class="line">    pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; ansp;</span><br><span class="line">    <span class="keyword">int</span> ansi,ansj;</span><br><span class="line">    <span class="keyword">bool</span> flag=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=k;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> n;<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;arr[j];</span><br><span class="line">            <span class="keyword">if</span>(!flag)</span><br><span class="line">                sum+=arr[j];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!flag)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> idx=<span class="number">1</span>;idx&lt;=n;idx++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(mp.count(sum-arr[idx])!=<span class="number">0</span>&amp;&amp;mp[sum-arr[idx]].first!=i)&#123;</span><br><span class="line">                    flag=<span class="number">1</span>;</span><br><span class="line">                    ansp=mp[sum-arr[idx]];</span><br><span class="line">                    ansi=i;ansj=idx;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    mp[sum-arr[idx]]=make_pair(i,idx);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,ansi,ansj);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,ansp.first,ansp.second);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"NO\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vjudge.net/problem/CodeForces-988D" rel="external nofollow noopener noreferrer" target="_blank">988D - Points and Powes of Two</a></p>
<p>è¿™é“é¢˜æœ‰ä¸€ä¸ªç»“è®ºï¼Œå°±æ˜¯ç¬¦åˆè¦æ±‚çš„æ•°å­—ä¸è¶…è¿‡ä¸‰ä¸ªï¼Œä¸”å®ƒä»¬ä¹‹é—´æ»¡è¶³ä¸€ä¸ªå…³ç³»ï¼Œå³ä¸‰ä¸ªæ•°ä¹‹é—´æˆç­‰å·®æ•°åˆ—ï¼Œå…¬å·®ä¸º2çš„næ¬¡å¹‚(å…·ä½“æ€ä¹ˆæ¥çš„ï¼Œå¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« -&gt;<a href="https://blog.csdn.net/weixin_39453270/article/details/80548442" rel="external nofollow noopener noreferrer" target="_blank">Codeforces 988Dï¼ˆSTLè¿ç”¨+æ€ç»´ï¼‰</a>)</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line">ll arr[<span class="number">2</span>*maxn];</span><br><span class="line"><span class="built_in">set</span>&lt;ll&gt; st;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;arr[i]);</span><br><span class="line">        st.insert(arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(ll j=<span class="number">1</span>;j&lt;<span class="number">2e9</span>+<span class="number">5</span>;j&lt;&lt;=<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(st.count(arr[i]+j)&amp;&amp;st.count(arr[i]+<span class="number">2</span>*j))&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"3\n"</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%lld %lld %lld\n"</span>,arr[i],arr[i]+j,arr[i]+<span class="number">2</span>*j);</span><br><span class="line">                <span class="keyword">goto</span> <span class="built_in">end</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(ll j=<span class="number">1</span>;j&lt;<span class="number">2e9</span>+<span class="number">5</span>;j&lt;&lt;=<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(st.count(arr[i]+j))&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"2\n"</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%lld %lld\n"</span>,arr[i],arr[i]+j);</span><br><span class="line">                <span class="keyword">goto</span> <span class="built_in">end</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"1\n%lld\n"</span>,arr[<span class="number">0</span>]);</span><br><span class="line">    <span class="built_in">end</span>:;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vjudge.net/problem/CodeForces-988E" rel="external nofollow noopener noreferrer" target="_blank">988E</a></p>
<p>å› ä¸ºèƒ½è¢«25æ•´é™¤çš„æ•°å…¶æœ«å°¾ä¸¤ä½æ•°ä¸€å®šæ˜¯00,25,50,75ä¸­çš„å…¶ä¸­ä¸€ä¸ªï¼Œæ‰€ä»¥å¯¹äºæš´åŠ›æ¨¡æ‹Ÿå³å¯ï¼Œå¾—åˆ°å››ä¸ªäº¤æ¢æ¬¡æ•°ï¼Œæœ€åå–æœ€å°çš„é‚£ä¸ªã€‚å¯¹äºå‰å¯¼0çš„å¤„ç†ï¼Œæ–¹æ³•æ˜¯è‹¥å®Œæˆæ¨¡æ‹Ÿåå‡ºç°äº†å‰å¯¼0ï¼Œå°±å°†è¿™ä¸ª0ä¸æ•°å­—ä¸­ç¬¬ä¸€ä¸ª(ä»é«˜ä½å¼€å§‹æ•°)éé›¶çš„æ•°äº¤æ¢ï¼Œå¹¶å°†äº¤æ¢æ­¥æ•°åŠ åˆ°ç­”æ¡ˆä¸Šã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="comment">//00,25,50,75</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap_</span><span class="params">(<span class="keyword">char</span> a,<span class="keyword">char</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> tmp;</span><br><span class="line">    tmp=a;</span><br><span class="line">    a=b;</span><br><span class="line">    b=tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">solve</span><span class="params">(<span class="keyword">char</span> ch1,<span class="keyword">char</span> ch2,<span class="built_in">string</span> str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len=str.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=len<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(str[i]==ch2)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;len<span class="number">-1</span>;j++)&#123;</span><br><span class="line">                cnt++;</span><br><span class="line">                swap_(str[j],str[j+<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=len<span class="number">-2</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(str[i]==ch1)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;len<span class="number">-2</span>;j++)&#123;</span><br><span class="line">                cnt++;</span><br><span class="line">                swap_(str[j],str[j+<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> pos=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(str[<span class="number">0</span>]==<span class="string">'0'</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(str[i]!=<span class="number">0</span>)&#123;</span><br><span class="line">                pos=i;<span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cnt+=pos;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> num;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;num;</span><br><span class="line">    <span class="keyword">int</span> ans1,ans2,ans3,ans4;</span><br><span class="line">    ans1=solve(<span class="string">'0'</span>,<span class="string">'0'</span>,num);</span><br><span class="line">    ans2=solve(<span class="string">'2'</span>,<span class="string">'5'</span>,num);</span><br><span class="line">    ans3=solve(<span class="string">'5'</span>,<span class="string">'0'</span>,num);</span><br><span class="line">    ans4=solve(<span class="string">'7'</span>,<span class="string">'5'</span>,num);</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="built_in">min</span>(ans1,<span class="built_in">min</span>(ans2,<span class="built_in">min</span>(ans3,ans4)));</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ACM</category>
        <category>Codeforces</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>CodeForces - 1095B Array Stabilization</title>
    <url>/2019/02/24/CodeForces-1095B-Array-Stabilization/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/CodeForces-1095B" rel="external nofollow noopener noreferrer" target="_blank">Array Stabilization</a></p>
<p>&emsp;&emsp;é¢˜æ„æ˜¯è¦æ±‚æœ€å¤§å€¼å’Œæœ€å°å€¼çš„å·®å€¼çš„æœ€å°å€¼ã€‚å®¹æ˜“æƒ³åˆ°ï¼Œå¯¹äºä¸€ä¸ªæœ‰åºåºåˆ—ï¼Œæœ€å¯èƒ½å¾—åˆ°è¿™ä¸ªæœ€å°å€¼çš„æ˜¯åˆ å»è¿™ä¸ªåºåˆ—çš„æœ€å¤§å€¼æˆ–æœ€å°å€¼ï¼Œå› ä¸ºåˆ å»é™¤æœ€å¤§å€¼å’Œæœ€å°å€¼å¤–çš„æ•°å¹¶ä¸ä¼šæ”¹å˜å·®å€¼çš„æœ€å°å€¼ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦æ¯”è¾ƒä¸€ä¸‹åˆ å»æœ€å¤§å€¼å’Œæœ€å°å€¼åå¾—åˆ°çš„å·®å€¼ï¼Œç„¶åæŒ‘å°çš„é‚£ä¸ªå³å¯ã€‚<br><a id="more"></a></p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3fffffff</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> JIN 678</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> arr[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;arr[i];</span><br><span class="line">    sort(arr,arr+n);</span><br><span class="line">    <span class="keyword">int</span> ans1,ans2;</span><br><span class="line">    ans1=arr[n<span class="number">-2</span>]-arr[<span class="number">0</span>];</span><br><span class="line">    ans2=arr[n<span class="number">-1</span>]-arr[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="built_in">min</span>(ans1,ans2);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>CodeForces - 1095A Repeating Cipher </title>
    <url>/2019/02/24/CodeForces-1095A-Repeating-Cipher/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/CodeForces-1095A" rel="external nofollow noopener noreferrer" target="_blank">Repeating Cipher</a></p>
<p>&emsp;&emsp;emmmmmmæ„Ÿè§‰æ²¡ä»€ä¹ˆå¥½è¯´çš„hhhhh</p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3fffffff</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> JIN 678</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">char</span> str[<span class="number">60</span>];</span><br><span class="line"><span class="keyword">char</span> ans[<span class="number">2000</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    getchar();</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>,str);</span><br><span class="line">    <span class="keyword">int</span> idx=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> j;<span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>,j=<span class="number">0</span>;i&lt;n;j++,i+=j)</span><br><span class="line">        ans[cnt++]=str[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> idx=<span class="number">0</span>;idx&lt;cnt;idx++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%c"</span>,ans[idx]);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>Codeforces1136C - Nastya Is Transposing Matrices</title>
    <url>/2019/04/28/CodeForces-1136C-Nastya-Is-Transposing-Matrices/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/HTB1HXZebRCw3KVjSZR0q6zcUpXak.jpg" alt>Photo by Fancycrave.com from Pexels</p>
<a id="more"></a>
<p><a href="https://cn.vjudge.net/problem/CodeForces-1136C" rel="external nofollow noopener noreferrer" target="_blank">Nastya Is Transposing Matrices</a></p>
<p>é¢˜ç›®å¤§æ„å°±æ˜¯è¯´æœ‰ä¸¤ä¸ª$n \times m$çš„çŸ©é˜µAå’ŒBï¼Œç°åœ¨å¯ä»¥ä»çŸ©é˜µAä¸­å–å‡ºä¸€ä¸ªæ–¹é˜µå¹¶å¯¹è¿™ä¸ªæ–¹é˜µè¿›è¡Œè½¬ç½®ï¼Œé—®èƒ½å¦é€šè¿‡è¿™ç§æ“ä½œæ¥ä½¿å¾—Aè½¬æ¢ä¸ºBã€‚</p>
<p>é¦–å…ˆï¼Œè½¬ç½®æ˜¯ä¸ä¼šå½±å“è¢«è½¬ç½®æ–¹é˜µçš„ä¸»å¯¹è§’çº¿çš„ï¼Œä»–åªä¼šå¯¹è¢«è½¬ç½®æ–¹é˜µçš„å‰¯å¯¹è§’çº¿ä¸Šçš„å…ƒç´ çš„é¡ºåºé€ æˆå½±å“ã€‚å› æ­¤ï¼Œè¦åˆ¤æ–­Aæ˜¯å¦èƒ½é€šè¿‡è¿™æ ·çš„æ“ä½œè½¬æ¢ä¸ºBï¼Œåªéœ€è¦åˆ¤æ–­åœ¨æ¯ä¸€ä¸ªæŒ‡å‘å³ä¸Šæ–¹æ–¹å‘çš„ç›´çº¿ä¸Šï¼ŒAå’ŒBçš„æ‰€å…·æœ‰çš„å…ƒç´ æ˜¯å¦ç›¸åŒå³å¯ã€‚æ¯”æ–¹è¯´ï¼š</p>
<script type="math/tex; mode=display">
\begin{aligned}
A_1=
\begin{bmatrix}
1&2&3\\
4&5&6\\
7&8&9
\end{bmatrix}
\  ,
B_1=
\begin{bmatrix}
1&2&3\\
4&7&6\\
5&8&9
\end{bmatrix}
\end{aligned}</script><p>è¿™ä¸¤ä¸ªçŸ©é˜µä¹‹é—´ï¼ŒA<sub>1</sub>æ˜¯å¯ä»¥é€šè¿‡è½¬ç½®å¾—åˆ°B<sub>1</sub>çš„ï¼Œå› ä¸ºå®ƒä»¬å³ä¸Šè§’æ–¹å‘ä¸Šçš„æ•°åˆ†åˆ«æ˜¯1ï¼›2ï¼Œ4ï¼›3ï¼Œ5ï¼Œ7ï¼›6ï¼Œ8ï¼›9ï¼Œåªæ˜¯æ’åˆ—é¡ºåºä¸ä¸€æ ·ã€‚</p>
<p>ä½†ä¸‹é¢è¿™ä¸¤ä¸ªçŸ©é˜µå°±ä¸è¡Œäº†ï¼š</p>
<script type="math/tex; mode=display">
\begin{aligned}
A_2=
\begin{bmatrix}
1&2&3\\
4&5&6\\
7&8&9
\end{bmatrix}
\  ,
B_2=
\begin{bmatrix}
1&2&3\\
9&7&6\\
5&8&9
\end{bmatrix}
\end{aligned}</script><p>å…¶ä¸­åŸå› ä¸å†èµ˜è¿°ã€‚</p>
<p>ä»£ç å¦‚ä¸‹:<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> ma[<span class="number">505</span>][<span class="number">505</span>];</span><br><span class="line"><span class="keyword">int</span> mb[<span class="number">505</span>][<span class="number">505</span>];</span><br><span class="line"><span class="keyword">int</span> arr1[<span class="number">505</span>];</span><br><span class="line"><span class="keyword">int</span> arr2[<span class="number">505</span>];</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i=x;</span><br><span class="line">    <span class="keyword">int</span> j=y;</span><br><span class="line">    <span class="keyword">int</span> cnt1=<span class="number">0</span>;<span class="keyword">int</span> cnt2=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=x,j=y;i&gt;=<span class="number">1</span>&amp;&amp;j&lt;=m;i--,j++)&#123;</span><br><span class="line">        arr1[cnt1++]=ma[i][j];</span><br><span class="line">        arr2[cnt2++]=mb[i][j];</span><br><span class="line">    &#125;</span><br><span class="line">    sort(arr1,arr1+cnt1);</span><br><span class="line">    sort(arr2,arr2+cnt2);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;cnt1;i++)</span><br><span class="line">        <span class="keyword">if</span>(arr1[i]!=arr2[i])</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;ma[i][j];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;mb[i][j];</span><br><span class="line">    <span class="keyword">bool</span> flag=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!check(i,<span class="number">1</span>))&#123;</span><br><span class="line">            flag=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!check(n,i))&#123;</span><br><span class="line">            flag=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag)</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"YES"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"NO"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>æ€ç»´</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>æ€ç»´</tag>
        <tag>çŸ©é˜µ</tag>
      </tags>
  </entry>
  <entry>
    <title>Codeforces 1064D - Labyrinth</title>
    <url>/2019/08/25/Codeforces-1064D-Labyrinth/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/H322f2a344041467eac0980910fa45d97Q.jpg" alt></p>
<a id="more"></a>
<p><a href="https://cn.vjudge.net/problem/CodeForces-1064D" rel="external nofollow noopener noreferrer" target="_blank">Labyrinth</a></p>
<p>é¢˜æ„æ˜¯è¯´ï¼Œæœ‰ä¸€ä¸ªè¿·å®«ï¼Œé™åˆ¶äº†å·¦ç§»å’Œå³ç§»çš„æ¬¡æ•°ï¼Œä½†ä¸Šç§»å’Œä¸‹ç§»çš„æ¬¡æ•°ä¸åšé™åˆ¶ï¼Œé—®ä»æŸä¸€ç‚¹å‡ºå‘ï¼Œæœ€å¤šèƒ½è®¿é—®å¤šå°‘ä¸ªç‚¹ã€‚</p>
<p>bfsæœä¸€éï¼Œæ¯ä¸ªèŠ‚ç‚¹è®°å½•å½“å‰å‰©ä½™çš„å·¦ç§»å’Œå³ç§»æ¬¡æ•°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é¢˜åº”è¯¥ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼Œæ¯æ¬¡èµ°çš„æ—¶å€™ä¼˜å…ˆèµ°é‚£äº›å‰©ä½™å·¦å³ç§»åŠ¨æ¬¡æ•°å¤šçš„ç‚¹ï¼Œè¿™æ ·æ‰èƒ½å°½å¯èƒ½åœ°è®¿é—®æ›´å¤šçš„ç‚¹ã€‚è¿™åº”è¯¥ä¹Ÿç®—æ˜¯ä¸€ç§è´ªå¿ƒç­–ç•¥ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> lmx,rmx;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="keyword">int</span> lef,rig;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> node&amp; na) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(lef==na.lef)    <span class="keyword">return</span> rig&lt;na.rig;        <span class="comment">//ä¼˜å…ˆèµ°é‚£äº›å·¦å³æ¬¡æ•°å¤§çš„ç‚¹,å¦åˆ™ä¼šå¯¼è‡´æœ‰äº›ç‚¹æ— æ³•åˆ°è¾¾ </span></span><br><span class="line">        <span class="keyword">return</span> lef&lt;na.lef;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">char</span> mp[<span class="number">2005</span>][<span class="number">2005</span>];</span><br><span class="line"><span class="keyword">bool</span> vis[<span class="number">2005</span>][<span class="number">2005</span>];</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">int</span> dir[<span class="number">4</span>][<span class="number">2</span>]=&#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;&#125;;        <span class="comment">//ä¸Š,ä¸‹,å·¦,å³ </span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> cx,<span class="keyword">int</span> cy)</span>            <span class="comment">//è¡Œ,åˆ— </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(cx&lt;<span class="number">0</span>||cx&gt;=n||cy&lt;<span class="number">0</span>||cy&gt;=m||mp[cx][cy]==<span class="string">'*'</span>||vis[cx][cy])    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> sx,<span class="keyword">int</span> sy)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    mst(vis,<span class="number">0</span>);</span><br><span class="line">    priority_queue&lt;node&gt; que;</span><br><span class="line">    que.push(node&#123;sx,sy,lmx,rmx&#125;);</span><br><span class="line">    vis[sx][sy]=<span class="number">1</span>;ans++;</span><br><span class="line">    <span class="keyword">while</span>(!que.empty())&#123;</span><br><span class="line">        node cur=que.top();</span><br><span class="line">        que.pop();</span><br><span class="line">        <span class="keyword">int</span> xx=cur.x;<span class="keyword">int</span> yy=cur.y;</span><br><span class="line">        <span class="keyword">int</span> L=cur.lef;</span><br><span class="line">        <span class="keyword">int</span> R=cur.rig;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> tx=xx+dir[i][<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> ty=yy+dir[i][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span>(i==<span class="number">2</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(L&lt;=<span class="number">0</span>)    <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(check(tx,ty))&#123;</span><br><span class="line">                    vis[tx][ty]=<span class="number">1</span>;</span><br><span class="line">                    que.push(node&#123;tx,ty,L<span class="number">-1</span>,R&#125;);</span><br><span class="line">                    ans++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(i==<span class="number">3</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(R&lt;=<span class="number">0</span>)    <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(check(tx,ty))&#123;</span><br><span class="line">                    vis[tx][ty]=<span class="number">1</span>;</span><br><span class="line">                    que.push(node&#123;tx,ty,L,R<span class="number">-1</span>&#125;);</span><br><span class="line">                    ans++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(check(tx,ty))&#123;</span><br><span class="line">                    vis[tx][ty]=<span class="number">1</span>;</span><br><span class="line">                    que.push(node&#123;tx,ty,L,R&#125;);</span><br><span class="line">                    ans++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">int</span> r,c;<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;r,&amp;c);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;lmx,&amp;rmx);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>,mp[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans=bfs(r<span class="number">-1</span>,c<span class="number">-1</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>BFS&amp;DFS</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C++</tag>
        <tag>BFS</tag>
        <tag>ä¼˜å…ˆé˜Ÿåˆ—</tag>
      </tags>
  </entry>
  <entry>
    <title>Codeforces1077C - Good Array</title>
    <url>/2019/03/31/Codeforces-1077C/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/CodeForces-1077C" rel="external nofollow noopener noreferrer" target="_blank">Good Array</a></p>
<p>é¢˜ç›®å¤§æ„å°±æ˜¯å¯¹äºä¸€ä¸ªæœ‰é™æ•°åˆ—ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªå…ƒç´ å¯ä»¥è¡¨ç¤ºä¸ºæ•°åˆ—ä¸­å…¶ä»–æ‰€æœ‰å…ƒç´ çš„å’Œï¼Œåˆ™è¿™ä¸ªæ•°åˆ—(æ•°ç»„)è¢«ç§°ä¸ºGood Arrayã€‚ç°åœ¨æœ‰ä¸€ä¸ªæ•°åˆ—aï¼Œè¯·æ‰¾å‡ºæ‰€æœ‰çš„å…ƒç´ ï¼Œä½¿å¾—åˆ å»è¿™äº›å…ƒç´ åè¿™ä¸ªæ•°åˆ—ä¸ºGood Array<br><a id="more"></a></p>
<p>æ€è·¯:å¦‚æœä¸€ä¸ªæ•°åˆ—æ˜¯Good Array,åˆ™ä¸€å®šæ˜¯å…¶ä»–å…ƒç´ çš„å’Œç­‰äºæ•°åˆ—ä¸­æœ€å¤§çš„å…ƒç´ çš„å€¼ã€‚æ•…å…ˆæ’ä¸ªåºï¼Œç„¶åç”¨å‰ç¼€å’Œ<script type="math/tex">O(n)</script>è§£å†³(æ³¨æ„è¦ç”¨long long)</p>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    ll val;</span><br><span class="line">    ll id;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(node a,node b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.val&lt;b.val;</span><br><span class="line">&#125;</span><br><span class="line">node arr[<span class="number">2</span>*maxn];</span><br><span class="line">ll sum[<span class="number">2</span>*maxn];</span><br><span class="line">ll ans[<span class="number">2</span>*maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;mst(arr,<span class="number">0</span>);</span><br><span class="line">    mst(sum,<span class="number">0</span>);</span><br><span class="line">    mst(ans,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;arr[i].val;</span><br><span class="line">        arr[i].id=i;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(arr+<span class="number">1</span>,arr+<span class="number">1</span>+n,cmp);</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        sum[i]=sum[i<span class="number">-1</span>]+arr[i].val;</span><br><span class="line">    <span class="keyword">bool</span> flag=<span class="number">0</span>;ll cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i=n;i&gt;=<span class="number">1</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i==n)&#123;</span><br><span class="line">            <span class="keyword">if</span>(sum[n<span class="number">-2</span>]==arr[n<span class="number">-1</span>].val)</span><br><span class="line">                ans[cnt++]=arr[i].id;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(i==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(sum[n<span class="number">-1</span>]-arr[<span class="number">1</span>].val==arr[n].val)</span><br><span class="line">                ans[cnt++]=arr[i].id;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(i==n<span class="number">-1</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(sum[i<span class="number">-1</span>]==arr[n].val)</span><br><span class="line">                ans[cnt++]=arr[i].id;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(sum[i<span class="number">-1</span>]+sum[n<span class="number">-1</span>]-sum[i<span class="number">-1</span>]-arr[i].val==arr[n].val)</span><br><span class="line">                ans[cnt++]=arr[i].id;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;cnt&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;cnt;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i==<span class="number">0</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%lld"</span>,ans[i]);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">" %lld"</span>,ans[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>CodeForces - 149D Coloring Brackets</title>
    <url>/2019/07/30/CodeForces-149D-Coloring-Brackets/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/Ha807ab515a9047d3ac8f965971498456a.jpg" alt></p>
<p>Photo by <strong>eberhard grossgasteiger</strong> from <strong>Pexels</strong></p>
<a id="more"></a>
<p><a href="https://cn.vjudge.net/problem/CodeForces-149D" rel="external nofollow noopener noreferrer" target="_blank">Coloring Brackets</a></p>
<p>ï¼ˆåŒºé—´dpå¥½é¢˜ï¼ï¼‰</p>
<p>é¢˜ç›®å¤§æ„æ˜¯è¯´ï¼Œç»™å®šä¸€ä¸ªä¿è¯é…å¯¹çš„æ‹¬å·åºåˆ—Sï¼Œç°åœ¨è¦å¯¹è¿™äº›æ‹¬å·æŸ“ä¸Šè“è‰²æˆ–çº¢è‰²ï¼Œä¸”éœ€è¦æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªè¦æ±‚:</p>
<ul>
<li>å¯¹äºæ¯ä¸ªæ‹¬å·ï¼Œè¦ä¹ˆæŸ“ä¸Šçº¢è‰²ï¼Œè¦ä¹ˆæŸ“ä¸Šè“è‰²ï¼Œè¦ä¹ˆä¸æŸ“è‰²</li>
<li>å¯¹äºæ¯ä¸€å¯¹é…å¯¹çš„æ‹¬å·ï¼Œæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ‹¬å·è¢«æŸ“è‰²</li>
<li>ä»»æ„ä¸¤ä¸ªç›¸é‚»çš„æ‹¬å·éƒ½æ²¡æœ‰ç›¸åŒçš„é¢œè‰²</li>
</ul>
<p>é—®ä¸€å…±æœ‰å¤šå°‘ç§æŸ“è‰²æ–¹æ¡ˆã€‚</p>
<p>æ€è·¯æ˜¯åŒºé—´DPï¼Œç”¨$dp[lef][rig][l][r]$è¡¨ç¤ºå¯¹äºå­åŒºé—´$S<em>{lefÂ·Â·Â·rig}$ï¼Œåœ¨å·¦ç«¯æ‹¬å·é¢œè‰²ä¸º$l$å³ç«¯æ‹¬å·é¢œè‰²ä¸º$r$çš„æƒ…å†µä¸‹ï¼Œæ‰€èƒ½å¾—åˆ°çš„æŸ“è‰²æ–¹æ¡ˆæ•°ã€‚å¦‚æœ$S</em>{lef}$å’Œ$S<em>{rig}$é…å¯¹ï¼Œåˆ™å¤„ç†$S</em>{lef+1Â·Â·Â·rig-1}$ï¼Œç„¶åä»$dp[lef+1][rig-1][i][j]$è½¬ç§»å¾—åˆ°$dp[lef][rig][1][0]$ï¼Œ$dp[lef][rig][2][0]$ï¼Œ$dp[lef][rig][0][1]$ï¼Œ$dp[lef][rig][0][2]$ã€‚å¦‚æœä¸é…å¯¹ï¼Œåˆ™æ‰¾å‡ºåŒºé—´$[lef,rig]$ä¸­å’Œå·¦æ‹¬å·é…å¯¹çš„é‚£ä¸ªæ‹¬å·çš„ä¸‹æ ‡$mat$ï¼Œç„¶åä¾æ¬¡ä¸ºåŒºé—´æ–­ç‚¹æ¥åˆå¹¶åŒºé—´è½¬ç§»å¾—åˆ°ç»“æœã€‚æ­¤æ—¶çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º</p>
<script type="math/tex; mode=display">
dp[lef][rig][i][j]=(dp[lef][rig][i][j]+dp[lef][mat][i][k]*dp[mat+1][rig][p][j])\ \%\ mod</script><p>å…³äºå¦‚ä½•æ‰¾åˆ°å·¦æ‹¬å·é…å¯¹çš„å³æ‹¬å·ï¼Œåªéœ€è¦ç”¨ä¸ªæ ˆåšä¸€ä¸‹é¢„å¤„ç†å³å¯ã€‚å·¦æ‹¬å·å…¥æ ˆï¼Œå³æ‹¬å·å°†å½“å‰æ ˆé¡¶å…ƒç´ ä¸å³æ‹¬å·é…å¯¹å¹¶å¼¹æ ˆã€‚</p>
<p>æœ€ååªéœ€è¦æŠŠ$dp[1][len][0â€¦2][0â€¦2]$åˆ†åˆ«åŠ èµ·æ¥å³å¯å¾—åˆ°ç­”æ¡ˆã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">char</span> str[<span class="number">705</span>];</span><br><span class="line"><span class="keyword">int</span> match[<span class="number">705</span>];</span><br><span class="line">ll dp[<span class="number">705</span>][<span class="number">705</span>][<span class="number">3</span>][<span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; stk;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=len;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(str[i]==<span class="string">'('</span>)&#123;</span><br><span class="line">            stk.push(i);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            match[i]=stk.top();</span><br><span class="line">            match[stk.top()]=i;</span><br><span class="line">            stk.pop();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//    mst(dp,0);</span></span><br><span class="line">    <span class="keyword">if</span>(rig<span class="number">-1</span>==lef)&#123;</span><br><span class="line">        dp[lef][rig][<span class="number">1</span>][<span class="number">0</span>]=dp[lef][rig][<span class="number">0</span>][<span class="number">1</span>]=dp[lef][rig][<span class="number">2</span>][<span class="number">0</span>]=dp[lef][rig][<span class="number">0</span>][<span class="number">2</span>]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(match[lef]==rig)&#123;</span><br><span class="line">        solve(lef+<span class="number">1</span>,rig<span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)&#123;        <span class="comment">//æšä¸¾å·¦ç«¯é¢œè‰² </span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">3</span>;j++)&#123;    <span class="comment">//æšä¸¾å³ç«¯é¢œè‰² </span></span><br><span class="line">                <span class="keyword">if</span>(i!=<span class="number">1</span>)</span><br><span class="line">                    dp[lef][rig][<span class="number">1</span>][<span class="number">0</span>]=(dp[lef][rig][<span class="number">1</span>][<span class="number">0</span>]+dp[lef+<span class="number">1</span>][rig<span class="number">-1</span>][i][j])%mod;</span><br><span class="line">                <span class="keyword">if</span>(i!=<span class="number">2</span>)</span><br><span class="line">                    dp[lef][rig][<span class="number">2</span>][<span class="number">0</span>]=(dp[lef][rig][<span class="number">2</span>][<span class="number">0</span>]+dp[lef+<span class="number">1</span>][rig<span class="number">-1</span>][i][j])%mod;</span><br><span class="line">                <span class="keyword">if</span>(j!=<span class="number">1</span>)</span><br><span class="line">                    dp[lef][rig][<span class="number">0</span>][<span class="number">1</span>]=(dp[lef][rig][<span class="number">0</span>][<span class="number">1</span>]+dp[lef+<span class="number">1</span>][rig<span class="number">-1</span>][i][j])%mod;</span><br><span class="line">                <span class="keyword">if</span>(j!=<span class="number">2</span>)</span><br><span class="line">                    dp[lef][rig][<span class="number">0</span>][<span class="number">2</span>]=(dp[lef][rig][<span class="number">0</span>][<span class="number">2</span>]+dp[lef+<span class="number">1</span>][rig<span class="number">-1</span>][i][j])%mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">int</span> mat=match[lef];</span><br><span class="line">        solve(lef,mat);solve(mat+<span class="number">1</span>,rig);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">3</span>;j++)&#123;</span><br><span class="line">                <span class="comment">//æšä¸¾é¢œè‰² </span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;<span class="number">3</span>;k++)&#123;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> p=<span class="number">0</span>;p&lt;<span class="number">3</span>;p++)&#123;</span><br><span class="line">                    <span class="comment">//æšä¸¾é¢œè‰² </span></span><br><span class="line">                        <span class="keyword">if</span>(k!=p||k==<span class="number">0</span>)&#123;        <span class="comment">//&lt;-</span></span><br><span class="line">                            dp[lef][rig][i][j]=(dp[lef][rig][i][j]+dp[lef][mat][i][k]*dp[mat+<span class="number">1</span>][rig][p][j])%mod;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>,str+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> len=<span class="built_in">strlen</span>(str+<span class="number">1</span>);</span><br><span class="line">    init(len);</span><br><span class="line">    mst(dp,<span class="number">0</span>);</span><br><span class="line">    ll ans=<span class="number">0</span>;</span><br><span class="line">    solve(<span class="number">1</span>,len);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">3</span>;j++)</span><br><span class="line">            ans=(ans+dp[<span class="number">1</span>][len][i][j])%mod;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>åŒºé—´DP</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>åŒºé—´DP</tag>
        <tag>CodeForces</tag>
        <tag>å¥½é¢˜ï¼</tag>
      </tags>
  </entry>
  <entry>
    <title>Codeforces 1374E1 - Reading Books (easy version)</title>
    <url>/2020/07/08/Codeforces-1374E1-Reading-Books-easy-version/</url>
    <content><![CDATA[<p><img src="https://pic.downk.cc/item/5f05d99d14195aa59424eb9e.jpg" alt></p>
<a id="more"></a>
<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>æ¯æ¬¡æœŸæœ«åçš„å¤å»ºè¿åŠ¨éƒ½æ ¼å¤–ç—›è‹¦ï¼ˆ</p>
<h3 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h3><p>é¢˜æ„æ˜¯è¯´ï¼Œç»™å®š$n$æœ¬ä¹¦ï¼Œå¦‚æœä¹¦éƒ½æœ‰å±æ€§$a,b,t$ã€‚å¦‚æœ$a=1$ï¼Œåˆ™è¯´æ˜Aliceå–œæ¬¢è¯»è¿™æœ¬ä¹¦ï¼Œ$0$åˆ™ä¸å–œæ¬¢ï¼›å¦‚æœ$b=1$ï¼Œåˆ™è¯´æ˜Bobå–œæ¬¢è¯»è¿™æœ¬ä¹¦ï¼Œ$0$åˆ™ä¸å–œæ¬¢ã€‚$t$æ˜¯æ¯æœ¬ä¹¦çš„ä»£ä»·ã€‚ä»ä¸­é€‰å‡ºè‹¥å¹²æœ¬ä¹¦ï¼Œè¿™äº›ä¹¦ä¸­Aliceå’ŒBobå–œæ¬¢è¯»çš„éƒ½ä¸å°‘äº$k$æœ¬ã€‚é—®å¦‚ä½•é€‰æ‹©ï¼Œæ‰èƒ½ä½¿ä»£ä»·æ€»å’Œæœ€å°ã€‚</p>
<p>æ€è·¯æ˜¯è´ªå¿ƒã€‚è®°Aliceå’ŒBobéƒ½å–œæ¬¢çš„ä¹¦ä¸º11ç±»ï¼Œåªæœ‰Aliceå–œæ¬¢çš„ä¸º10ç±»ï¼Œåªæœ‰Bobå–œæ¬¢çš„ä¸º01ç±»ã€‚å®¹æ˜“æ³¨æ„åˆ°ï¼Œé€‰æ‹©Aliceå’ŒBobéƒ½å–œæ¬¢è¯»çš„ä¹¦æ€§ä»·æ¯”è¦æ›´é«˜ä¸€äº›ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬é¦–å…ˆå¯¹ä¸‰ç§å±æ€§åˆ†åˆ«æ’åºï¼Œå¦‚æœå½“å‰å–äº†$i$æœ¬11ç±»çš„ä¹¦ï¼Œé‚£ä¹ˆï¼Œå¯¹äºAliceï¼Œæˆ‘ä»¬è¦ä¸ºå¥¹å–10ç±»å’Œ01ç±»å…±$k-i$æœ¬ä¹¦ï¼›Bobä¹Ÿæ˜¯åŒç†ã€‚å¦‚æœå‘ç°10ç±»æˆ–01ç±»çš„ä¹¦çš„æ•°ç›®å°äº$k-i$ï¼Œåˆ™è¯´æ˜åœ¨å–$i$æœ¬11ç±»ä¹¦çš„æƒ…å†µä¸‹ï¼Œæ²¡æœ‰å¯è¡Œçš„æ–¹æ¡ˆã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;limits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a, b) memset((a), (b), sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef, mid, rt &lt;&lt; 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid + 1, rig, rt &lt;&lt; 1 | 1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></span><br><span class="line">    ll t;</span><br><span class="line">    <span class="keyword">int</span> a;</span><br><span class="line">    <span class="keyword">int</span> b;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> node&amp; nn) <span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> t &lt; nn.t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">node allone[maxn];</span><br><span class="line">node A[maxn];</span><br><span class="line">node B[maxn];</span><br><span class="line">ll sum1[maxn];</span><br><span class="line">ll sum2[maxn];</span><br><span class="line">ll sum3[maxn];</span><br><span class="line"><span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">bool</span>&gt; mp;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    mp.clear();</span><br><span class="line">    <span class="keyword">int</span> n, k;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;n, &amp;k);</span><br><span class="line">    <span class="keyword">int</span> idx1, idx2, idx3;</span><br><span class="line">    idx1 = idx2 = idx3 = <span class="number">1</span>;</span><br><span class="line">    ll t_;</span><br><span class="line">    <span class="keyword">int</span> a_, b_;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld %d %d"</span>, &amp;t_, &amp;a_, &amp;b_);</span><br><span class="line">        <span class="keyword">if</span> (a_ &amp;&amp; b_)</span><br><span class="line">            allone[idx1++] = &#123; t_, a_, b_ &#125;;</span><br><span class="line">        <span class="keyword">if</span> (a_ &amp;&amp; !b_)</span><br><span class="line">            A[idx2++] = &#123; t_, a_, b_ &#125;;</span><br><span class="line">        <span class="keyword">if</span> (!a_ &amp;&amp; b_)</span><br><span class="line">            B[idx3++] = &#123; t_, a_, b_ &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(allone + <span class="number">1</span>, allone + idx1);</span><br><span class="line">    sort(A + <span class="number">1</span>, A + idx2);</span><br><span class="line">    sort(B + <span class="number">1</span>, B + idx3);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        sum1[i] = sum1[i - <span class="number">1</span>] + allone[i].t;</span><br><span class="line">        sum2[i] = sum2[i - <span class="number">1</span>] + A[i].t;</span><br><span class="line">        sum3[i] = sum3[i - <span class="number">1</span>] + B[i].t;</span><br><span class="line">    &#125;</span><br><span class="line">    ll inf = numeric_limits&lt;ll&gt;::max();</span><br><span class="line">    ll ans = inf;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= min(k, idx1 - <span class="number">1</span>); i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> tmp = k - i;</span><br><span class="line">        <span class="keyword">if</span> (idx2 - <span class="number">1</span> &gt;= tmp &amp;&amp; idx3 - <span class="number">1</span> &gt;= tmp) &#123;</span><br><span class="line">            ans = min(ans, sum1[i] + sum2[k - i] + sum3[k - i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (ans == inf) &#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"-1"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title>Codeforces 1389 B&amp;C</title>
    <url>/2020/08/06/Codeforces-1389B-Array-Walk/</url>
    <content><![CDATA[<h2 id="B-Array-Walk"><a href="#B-Array-Walk" class="headerlink" title="B. Array Walk"></a>B. Array Walk</h2><p>é¢˜æ„ï¼šç»™å®šä¸€ä¸ªé•¿åº¦ä¸º$n$çš„åºåˆ—ï¼Œä»ä¸‹æ ‡1å¼€å§‹ï¼Œèµ°$k$æ­¥ï¼Œå…¶ä¸­æœ€å¤š$z$æ­¥å‘å·¦ã€‚æ¯èµ°åˆ°ä¸€ä¸ªä½ç½®å°±å–ä¸€æ¬¡è¿™ä¸ªä½ç½®çš„æ•°ã€‚é—®å¯ä»¥å–åˆ°çš„æœ€å¤§æ€»å’Œæ˜¯å¤šå°‘ã€‚</p>
<a id="more"></a>
<p>æ€è·¯ï¼šè€ƒè™‘dpï¼Œ$dp[i][j]$è¡¨ç¤ºèµ°äº†$i$æ­¥ï¼Œ$j$æ­¥ä¸ºå‘å·¦æ—¶çš„æœ€å¤§æ€»å’Œã€‚åˆ™å½“$dp[i][j]$å¯ä»¥ç”±èµ°äº†$i-1$æ­¥ã€ç°åœ¨å‘å³èµ°ä»¥åŠèµ°äº†$i-1$æ­¥ã€ç°åœ¨å‘å·¦èµ°è¿™ä¸¤ä¸ªçŠ¶æ€è½¬ç§»è€Œæ¥</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a, b) memset((a), (b), sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef, mid, rt &lt;&lt; 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid + 1, rig, rt &lt;&lt; 1 | 1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> a[maxn], dp[maxn][<span class="number">6</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line">    <span class="keyword">while</span> (T--) &#123;</span><br><span class="line">        <span class="keyword">int</span> n, k, z;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;n, &amp;k, &amp;z);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = a[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= z; j++) &#123;</span><br><span class="line">                dp[i][j] = dp[i - <span class="number">1</span>][j] + a[<span class="number">1</span> + i - <span class="number">2</span> * j];</span><br><span class="line">                <span class="keyword">if</span> (j &gt; <span class="number">0</span>)</span><br><span class="line">                    dp[i][j] = <span class="built_in">max</span>(dp[i][j], dp[i - <span class="number">1</span>][j - <span class="number">1</span>] + a[<span class="number">1</span> + i - <span class="number">2</span> * j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= z; j++) &#123;</span><br><span class="line">            ans = <span class="built_in">max</span>(ans, dp[k][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="C-Good-String"><a href="#C-Good-String" class="headerlink" title="C. Good String"></a>C. Good String</h2><p>é¢˜æ„ï¼šå¦‚æœå°†ä¸€ä¸ªå­—ç¬¦ä¸²å¾ªç¯å·¦ç§»ä¸€ä½ä¸å¾ªç¯å³ç§»ä¸€ä½åï¼Œå¾—åˆ°çš„ä¸¤ä¸ªæ–°å­—ç¬¦ä¸²ç›¸ç­‰ï¼Œåˆ™ç§°è¯¥å­—ç¬¦ä¸²ä¸ºgood stringã€‚ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²$s$ï¼Œé—®éœ€è¦è‡³å°‘åˆ é™¤$s$ä¸­å¤šå°‘ä¸ªå­—ç¬¦ï¼Œæ‰èƒ½ä½¿å…¶å˜æˆgood stringã€‚</p>
<p>æ€è·¯ï¼šå®¹æ˜“å‘ç°ï¼Œgood stringåªæœ‰ä¸¤ç§æƒ…å†µï¼š1ã€æ•´ä¸ªå­—ç¬¦ä¸²åªæœ‰ä¸€ç§å­—ç¬¦ï¼›2ã€å­—ç¬¦ä¸²å½¢å¦‚$abababâ€¦$ï¼Œä¸”é•¿åº¦ä¸ºå¶æ•°ã€‚å¯¹äºç¬¬ä¸€ç§æƒ…å†µï¼Œåªéœ€è¦æ‰¾å‡ºå‡ºç°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦å³å¯ï¼›å¯¹äºç¬¬äºŒç§æƒ…å†µï¼Œå› ä¸ºå­—ç¬¦åªæœ‰10ç§ï¼Œæš´åŠ›æšä¸¾ä¸€ä¸‹å¯ä»¥ç»„æˆgood stringçš„ä¸¤ç§å­—ç¬¦å°±è¡Œã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a, b) memset((a), (b), sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef, mid, rt &lt;&lt; 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid + 1, rig, rt &lt;&lt; 1 | 1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt[<span class="number">10</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line">    <span class="keyword">while</span> (T--) &#123;</span><br><span class="line">        mst(cnt, <span class="number">0</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, s + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> len = <span class="built_in">strlen</span>(s + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= len; i++) &#123;</span><br><span class="line">            cnt[s[i] - <span class="string">'0'</span>]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> maxi = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">9</span>; i++) &#123;</span><br><span class="line">            maxi = <span class="built_in">max</span>(maxi, cnt[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">9</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= <span class="number">9</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">int</span> l=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">1</span>;k&lt;=len;k++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(l%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(s[k]==i+<span class="string">'0'</span>) l++;</span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        <span class="keyword">if</span>(s[k]==j+<span class="string">'0'</span>) l++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(l&amp;<span class="number">1</span>) l--;</span><br><span class="line">                ans2=<span class="built_in">max</span>(ans2,l);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//printf("ans2 = %d\n", ans2);</span></span><br><span class="line">        ans2 = len - ans2;</span><br><span class="line">        <span class="keyword">int</span> ans1 = len - maxi;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, <span class="built_in">min</span>(ans2, ans1));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title>Codeforces Round #544 (Div. 3)</title>
    <url>/2019/03/23/Codeforces-Round-544-Div-3/</url>
    <content><![CDATA[<p><a href="http://codeforces.com/problemset/problem/1133/A" rel="external nofollow noopener noreferrer" target="_blank">A - Middle of the Contest</a><br><br>è¿™æ²¡ä»€ä¹ˆå¥½è¯´çš„äº†å§â€¦â€¦<br><a id="more"></a><br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">505</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> h1,m1;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d:%d"</span>,&amp;h1,&amp;m1);</span><br><span class="line">    <span class="keyword">int</span> h2,m2;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d:%d"</span>,&amp;h2,&amp;m2);</span><br><span class="line">    <span class="keyword">int</span> tot1=h1*<span class="number">60</span>+m1;</span><br><span class="line">    <span class="keyword">int</span> tot2=h2*<span class="number">60</span>+m2;</span><br><span class="line">    <span class="keyword">if</span>(tot1&gt;tot2)</span><br><span class="line">        swap(tot1,tot2);</span><br><span class="line">    <span class="keyword">int</span> sub=(tot2-tot1)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> ans=tot1+sub;</span><br><span class="line">    <span class="keyword">int</span> h_ans=ans/<span class="number">60</span>;</span><br><span class="line">    <span class="keyword">int</span> m_ans=ans%<span class="number">60</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%02d:%02d\n"</span>,h_ans,m_ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><a href="http://codeforces.com/problemset/problem/1133/B" rel="external nofollow noopener noreferrer" target="_blank">B - Preparation for International Womenâ€™s Day</a><br><br>è¿™é¢˜æœ‰å¿…è¦è¯´ä¸€ä¸‹ã€‚é¦–å…ˆå¯¹äºä¸¤ä¸ªæ•°a,bï¼Œè‹¥è¦å®ƒä»¬çš„å’Œå¯ä»¥æ•´é™¤kï¼Œåˆ™æœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µ:</p>
<ul>
<li>1.a%k == 0ä¸”b%k == 0</li>
<li>2.(a%k+b%k)%k == 0</li>
</ul>
<p>åšæ³•æ˜¯ï¼Œé¦–å…ˆç”¨ä¸€ä¸ªarræ•°ç»„æŠŠè¾“å…¥çš„æ‰€æœ‰æ•°%kçš„ç»“æœå­˜èµ·æ¥ï¼Œæ•°ç»„é‡Œé¢å­˜çš„æ˜¯ä½™æ•°æ‰€å‡ºç°çš„æ¬¡æ•°ã€‚å¯¹äºç¬¬ä¸€ç§æƒ…å†µï¼Œåªéœ€è¦ç”¨arr[0]å»å¤„ç†ã€‚è€Œå¯¹äº0ä»¥å¤–çš„ä½™æ•°ï¼Œåˆ™å°†arr[i]å’Œarr[k-i]è¿›è¡Œæ¯”è¾ƒã€‚è‹¥arr[i]ï¼=arr[k-i],åˆ™ans+=min(arr[i],arr[k-i]);è‹¥arr[i]==arr[k-i],åˆ™ans+=arr[i](æˆ–è€…ans+=arr[k-i])ã€‚è¿˜éœ€è¦è€ƒè™‘ä¸€ç§æƒ…å†µï¼Œå¦‚æœi==k-iï¼Œåˆ™ans+=arr[i]ã€‚å¦å¤–ï¼Œè¿˜éœ€è¦æ³¨æ„ï¼Œå¦‚æœarr[i]==arr[k-i]ä¸i==k-iåŒæ—¶æˆç«‹ï¼Œå¾ˆæ˜æ˜¾åº”è¯¥ans+=arr[i]ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">105</span>;</span><br><span class="line"><span class="keyword">int</span> arr[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,k;</span><br><span class="line">    mst(arr,<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;k;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;tmp;</span><br><span class="line">        arr[tmp%k]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    ans+=arr[<span class="number">0</span>]/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=k/<span class="number">2</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i]!=arr[k-i])&#123;</span><br><span class="line">            ans+=<span class="built_in">min</span>(arr[i],arr[k-i]);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(i==k-i)&#123;        <span class="comment">//&lt;-1</span></span><br><span class="line">            ans+=arr[i]/<span class="number">2</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(arr[i]==arr[k-i])&#123;        <span class="comment">//&lt;-2</span></span><br><span class="line">            ans+=arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">      <span class="comment">//1å’Œ2ä¸èƒ½é¢ å€’ï¼Œå› ä¸ºå¦‚æœä¸¤è€…éƒ½æˆç«‹ï¼Œåˆ™åº”è¯¥æ‰§è¡Œ1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans*<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="http://codeforces.com/problemset/problem/1133/C" rel="external nofollow noopener noreferrer" target="_blank">C - Balanced Team</a><br> </p>
<p>å…ˆæ’ä¸ªåºï¼Œç„¶åå¯¹äºå­¦ç”Ÿiï¼ŒäºŒåˆ†æ‰¾å‡ºç¬¬ä¸€ä¸ªæ¯”a[i]+5å¤§çš„æ•°çš„ä¸‹æ ‡ï¼Œç„¶åä»¥æ­¤ç»´æŠ¤æœ€å¤§å€¼</p>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> a[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> pos;</span><br><span class="line">    sort(a,a+n);</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">-1</span>;<span class="keyword">int</span> t1;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp=a[i]+<span class="number">5</span>;</span><br><span class="line">        pos=upper_bound(a,a+n,tmp)-a;</span><br><span class="line">        ans=<span class="built_in">max</span>(ans,pos-i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="http://codeforces.com/problemset/problem/1133/D" rel="external nofollow noopener noreferrer" target="_blank">D - Zero Quantity Maximization</a><br> </p>
<p>ç”¨mapè®°å½•æ¯ä¸€ä¸ªdå‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åå†æ‰¾å‡ºvalueå€¼æœ€å¤§çš„dã€‚è¦æ³¨æ„çš„æ˜¯,å½“a==0&amp;&amp;b==0æ—¶ï¼Œdä¸€å®šå­˜åœ¨ä¸”ä¸ºä»»æ„å®æ•°ï¼Œæ•…ans++ï¼›å½“a==0&amp;&amp;b!=0æ—¶ï¼Œæ— è§£ï¼Œç›´æ¥è·³è¿‡ã€‚<del>æ˜¨æ™šTLEäº†å¥½å‡ å‘å±…ç„¶æ˜¯å› ä¸ºæ•°ç»„å¼€å°äº†OTZ</del></p>
<p>ä»£ç å¦‚ä¸‹:<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">double</span> a[<span class="number">2</span>*maxn];</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">long</span> <span class="keyword">double</span>,<span class="keyword">int</span>&gt; mp;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">    <span class="keyword">int</span> ok=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">double</span> b;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;b;</span><br><span class="line">        <span class="keyword">if</span>(b==<span class="number">0</span>&amp;&amp;a[i]==<span class="number">0</span>)&#123;</span><br><span class="line">            ok++;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(b!=<span class="number">0</span>&amp;&amp;a[i]==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">double</span> tmp=(-b)/a[i];</span><br><span class="line">        mp[tmp]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="keyword">long</span> <span class="keyword">double</span>,<span class="keyword">int</span>&gt;::iterator it;</span><br><span class="line">    <span class="keyword">for</span>(it=mp.<span class="built_in">begin</span>();it!=mp.<span class="built_in">end</span>();it++)</span><br><span class="line">        ans=<span class="built_in">max</span>(ans,it-&gt;second);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans+ok);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><a href="http://codeforces.com/problemset/problem/1133/E" rel="external nofollow noopener noreferrer" target="_blank">E - K Balanced Teams</a><br> </p>
<p>Cé¢˜çš„å‡çº§ç‰ˆã€‚ä¸€å¼€å§‹æ˜¯ç”¨çš„è´ªå¿ƒï¼Œç„¶åå°±waäº†â€¦â€¦æ­£ç¡®æ–¹æ³•æ˜¯dpï¼Œä½†æˆ‘ä¸ä¼šOTZâ€¦â€¦<del>é‚çœ‹é¢˜è§£</del>ã€‚</p>
<p>é¦–å…ˆå½“ç„¶æ˜¯æ’ä¸ªåº</p>
<p>ç„¶åï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹æ˜¯è¿™ä¸ªğŸ‘‡</p>
<center><b>dp[i][j]=max(dp[i-1][j],dp[pos-1][j-1]+i-pos+1)</b></center>

<p>dp[i][j]æŒ‡çš„æ˜¯å‰iä¸ªäººç»„æˆjä¸ªé˜Ÿä¼æœ€å¤šå¯ä»¥æŒ‘é€‰å¤šå°‘äººï¼›posæ˜¯iå·¦ä¾§ç¬¬ä¸€ä¸ªæ»¡è¶³<br>arr[i]-arr[pos]çš„ç‚¹çš„ä¸‹æ ‡ã€‚</p>
<p>ä»£ç å¦‚ä¸‹:<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">5005</span>;</span><br><span class="line"><span class="keyword">int</span> arr[maxn];</span><br><span class="line"><span class="keyword">int</span> dp[maxn][maxn];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a&gt;b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//dp[i][j]=max(dp[i-1][j],dp[pos-1][j-1]+i-pos+1)</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,k;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;k;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;arr[i];</span><br><span class="line">    sort(arr+<span class="number">1</span>,arr+<span class="number">1</span>+n);</span><br><span class="line">    mst(dp,<span class="number">0</span>);dp[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> pos=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        pos=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(arr[i]-arr[pos]&gt;<span class="number">5</span>&amp;&amp;pos&lt;=n)        pos++;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=<span class="built_in">min</span>(k,i);j++)</span><br><span class="line">            dp[i][j]=<span class="built_in">max</span>(dp[i<span class="number">-1</span>][j],dp[pos<span class="number">-1</span>][j<span class="number">-1</span>]+i-pos+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=k;i++)</span><br><span class="line">        ans=<span class="built_in">max</span>(ans,dp[n][i]); </span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>Codeforces</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>Codeforces</tag>
      </tags>
  </entry>
  <entry>
    <title>Codeforces1131B - Draw!</title>
    <url>/2019/04/25/Codeforces1131B-Draw/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/HTB1X.IlSNTpK1RjSZFMq6zG_VXaS.jpg" alt></p>
<p>Photo by Angela Huang from Pexels</p>
<a id="more"></a>
<p><a href="https://cn.vjudge.net/problem/CodeForces-1131B" rel="external nofollow noopener noreferrer" target="_blank">Draw!</a></p>
<p>emmmmmä¸€é“ä¸çŸ¥é“æ€ä¹ˆå½’ç±»çš„é¢˜ç›®ï¼Œå¤§æ¦‚åº”è¯¥å½’ç±»ä¸ºæ€ç»´é¢˜ï¼Ÿ</p>
<p>é¢˜ç›®å¤§æ„æ˜¯è¯´ç»™å‡ºä¸€åœºçƒèµ›ä¸­ä¸¤ä¸ªé˜Ÿä¼å‡ ä¸ªæ—¶é—´ç‚¹çš„æ¯”åˆ†æƒ…å†µï¼Œè¦ä½ æ ¹æ®è¿™å‡ ä¸ªæ¯”åˆ†æƒ…å†µæ¥è®¡ç®—æ•´ä¸ªæ¯”èµ›è¿‡ç¨‹ä¸­æœ€å¤šå¯èƒ½æœ‰å¤šå°‘æ¬¡å¹³å±€ã€‚</p>
<p>å¤§è‡´åˆ†æä¸€ä¸‹æ ·ä¾‹å³å¯å¾—åˆ°æ€è·¯ï¼šå¯¹äºä¸€æ”¯é˜Ÿä¼ï¼Œä¾æ¬¡å–ä¸¤ä¸ªç›¸é‚»æ—¶é—´ç‚¹ä¸Šçš„å¾—åˆ†ï¼Œå°†è¿™ä¸¤ä¸ªå¾—åˆ†åˆ†åˆ«çœ‹ä½œæ˜¯ä¸€ä¸ªåŒºé—´çš„å·¦ç«¯ç‚¹å’Œå³ç«¯ç‚¹ï¼Œé‚£ä¹ˆå¯¹äºä¸¤ä¸ªç›¸é‚»çš„æ—¶é—´ç‚¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°ä¸¤ä¸ªåŒºé—´ï¼ˆåˆ†åˆ«å±äºä¸¤æ”¯é˜Ÿä¼ï¼‰ï¼Œç„¶åæ±‚ä¸€ä¸‹ä¸¤ä¸ªåŒºé—´çš„äº¤é›†çš„é•¿åº¦ï¼Œç­”æ¡ˆå³ä¸ºæ‰€æœ‰ç¬¦åˆè¦æ±‚çš„äº¤é›†çš„é•¿åº¦ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œéœ€è¦è®¾ä¸€ä¸ªrightestå˜é‡æ¥è¡¨ç¤ºå½“å‰å½“å‰å·²ç»è®¡ç®—åˆ°çš„â€œæœ€å³ç«¯çš„æ•°â€ï¼Œä»è€Œé¿å…é‡å¤è®¡ç®—ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e4</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> a[maxn],b[maxn];</span><br><span class="line"><span class="keyword">int</span> vis[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">int</span> a1,b1;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;a1&gt;&gt;b1;</span><br><span class="line">    n--;</span><br><span class="line">    <span class="keyword">int</span> pos=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(!(a==<span class="number">0</span>&amp;&amp;b==<span class="number">0</span>))&#123;</span><br><span class="line">        a[<span class="number">0</span>]=b[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">        a[<span class="number">1</span>]=a1;b[<span class="number">1</span>]=b1;</span><br><span class="line">        pos=<span class="number">2</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        a[<span class="number">0</span>]=b[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">        pos=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++,pos++)</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a[pos]&gt;&gt;b[pos];</span><br><span class="line">    ll ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> rightest=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n+<span class="number">1</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> lef1=a[i<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">int</span> lef2=b[i<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">int</span> rig1=a[i];</span><br><span class="line">        <span class="keyword">int</span> rig2=b[i];</span><br><span class="line">        <span class="keyword">int</span> lef=<span class="built_in">max</span>(lef1,lef2);</span><br><span class="line">        <span class="keyword">int</span> rig=<span class="built_in">min</span>(rig1,rig2);</span><br><span class="line">        <span class="keyword">while</span>(lef&lt;=rightest)</span><br><span class="line">            lef++;</span><br><span class="line">        <span class="keyword">if</span>(rig-lef&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">            rightest=rig;</span><br><span class="line">            ans+=rig-lef+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>æ€ç»´</tag>
        <tag>å…¶ä»–</tag>
      </tags>
  </entry>
  <entry>
    <title>Codeforces1136D - Nastya Is Buying Lunch</title>
    <url>/2019/04/28/Codeforces1136D-Nastya-Is-Buying-Lunch/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/CodeForces-1136D" rel="external nofollow noopener noreferrer" target="_blank">Nastya Is Buying Lunch</a></p>
<p><img src="https://ae01.alicdn.com/kf/HTB1lkBjXfxj_uVjSZFqq6yboFXao.jpg" alt>Photo from Pexels</p>
<a id="more"></a>
<p>é¢˜ç›®å¤§æ„æ˜¯è¯´æœ‰nä¸ªæ•°1åˆ°nï¼Œå®ƒä»¬æŒ‰ç…§ä¸€å®šçš„é¡ºåºæ’åˆ—ã€‚ç„¶åç°åœ¨æœ‰mä¸ªæ•°å¯¹$(u,v)$ï¼Œæ„æ€æ˜¯è¯´ï¼Œå¦‚æœæ•°å­—uæ’åœ¨æ•°å­—vçš„å‰é¢(å·¦è¾¹)ï¼Œä¸”ä¸¤ä¸ªæ•°å­—ç›¸é‚»ï¼Œé‚£ä¹ˆä¸¤ä¸ªæ•°å­—å°±å¯ä»¥äº¤æ¢ä½ç½®ã€‚é—®ï¼Œå¯¹äºæ’åœ¨æœ€åçš„æ•°å­—ï¼Œé€šè¿‡è¿™æ ·çš„äº¤æ¢ä½ç½®çš„æ“ä½œï¼Œè¿™ä¸ªæ•°å­—æœ€å¤šå¯ä»¥å‰è¿›å¤šå°‘ä¸ªä½ç½®(å‘å·¦ç§»åŠ¨å¤šå°‘æ¬¡)ã€‚</p>
<p>emmmmmmmæ¯”èµ›æ—¶çœŸçš„æ²¡æƒ³å‡ºæ¥â€¦â€¦<del>åæœŸè¡¥é¢˜çš„æ—¶å€™ä¹Ÿæ²¡æƒ³å‡ºæ¥OTZ</del>ï¼Œäºæ˜¯ä¸å¾—ä¸å»çœ‹é¢˜è§£hhhhh</p>
<p>å…ˆè¯´è¯´æˆ‘çš„æƒ³æ³•:é¦–å…ˆè¿™é¢˜ç¬¬ä¸€æ„Ÿè§‰æ˜¯ä¸€é“è´ªå¿ƒé¢˜ï¼Œé‚£æˆ‘ä»¬æ˜¯å¦å¯ä»¥é€šè¿‡æ‰¾åˆ°ä¸€ä¸ªæœ€é•¿çš„â€œè¿ç»­äº¤æ¢åºåˆ—â€æ¥å®ç°æœ€åä¸€ä¸ªæ•°å°½å¯èƒ½å¤šåœ°å‘å‰ç§»åŠ¨å‘¢ï¼Ÿæ‰€è°“çš„è¿ç»­äº¤æ¢åºåˆ—å°±æ˜¯è¯´ï¼Œåœ¨è¿™ä¸ªåºåˆ—é‡Œï¼Œå‰åä¸¤ä¸ªäº¤æ¢æ“ä½œæ˜¯è¿ç»­çš„ï¼Œæ‰§è¡Œå®Œå‰ä¸€ä¸ªæ“ä½œåæ°å¥½å¯ä»¥æ‰§è¡Œä¸‹ä¸€ä¸ªæ“ä½œâ€¦â€¦.emmmmmmäº‹å®è¯æ˜è¿™æ˜¯ä¸ªéå¸¸é”™è¯¯çš„æƒ³æ³•ï¼Œè€Œä¸”ä¹Ÿä¸å¥½å®ç°</p>
<p>æ‰€ä»¥æ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯ï¼Œè®°å½•æ¯ä¸€ä¸ªæ•°åé¢æœ‰å¤šå°‘ä¸ªå¯ä»¥ä¸ä»–äº¤æ¢çš„æ•°ï¼Œç”¨ä¸€ä¸ªcntæ•°ç»„æ¥è®°å½•ã€‚å¯¹äºä¸€ä¸ªæ•°ï¼Œå¦‚æœæœ€åä¸€ä¸ªæ•°$x=que[i]$ä¸è¿™ä¸ªæ•°çš„è·ç¦»ï¼Œå³$n-ans-i$($ans$æ˜¯æœ€åä¸€ä¸ªæ•°ç›®å‰æ‰€ç§»åŠ¨äº†çš„è·ç¦»)åˆšå¥½å’Œ$cnt[x]$ç›¸ç­‰ï¼Œé‚£å°±è¯´æ˜ä¸€å®šæœ‰ä¸€ç§æ“ä½œå¯ä»¥å°†xæ¢åˆ°è¿™ä¸ªæ•°å½“å‰æ‰€åœ¨çš„ä½ç½®,è¿™æ˜¯å°±ans++;å¦‚æœä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆæ›´æ–°ä»¥ä¸‹cntæ•°ç»„ã€‚éå¸¸å·§å¦™çš„åšæ³•å‘¢ã€‚</p>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> que[<span class="number">3</span>*maxn];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec[<span class="number">3</span>*maxn];</span><br><span class="line"><span class="keyword">int</span> cnt[<span class="number">3</span>*maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;mst(cnt,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;que[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> u,v;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;u&gt;&gt;v;</span><br><span class="line">        vec[v].push_back(u);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;vec[que[n]].<span class="built_in">size</span>();i++)</span><br><span class="line">        cnt[vec[que[n]][i]]++;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n<span class="number">-1</span>;i&gt;=<span class="number">1</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(cnt[que[i]]==n-ans-i)&#123;</span><br><span class="line">            ans++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;vec[que[i]].<span class="built_in">size</span>();j++)</span><br><span class="line">                cnt[vec[que[i]][j]]++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>æ€ç»´</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>æ€ç»´</tag>
        <tag>Codeforces</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU-2612-Find A Way(BFS)</title>
    <url>/2019/01/26/HDOJ-2612-Find-A-Way-BFS/</url>
    <content><![CDATA[<p>&emsp;&emsp; è¿™æ˜¯ä¸€é“ç¨å¾®æœ‰ç‚¹ç‰¹æ®Šçš„é¢˜ï¼Œç‰¹æ®Šä¹‹å¤„åœ¨äºå®ƒéœ€è¦ä½¿ç”¨2æ¬¡å¹¿æœã€‚åˆšå¼€å§‹åšçš„æ—¶å€™æ€è·¯æ˜¯æŠŠæ‰€æœ‰è‚¯å¾·åŸºçš„ä½ç½®è®°å½•ä¸‹æ¥ï¼Œç„¶åä»¥æ¯ä¸€ä¸ªè‚¯å¾·åŸºçš„ä½ç½®ä¸ºç»ˆç‚¹æ¥bfsã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ç„¶åå°±TLEäº†OTZã€‚ã€‚ã€‚ã€‚ã€‚ã€‚åæ¥å‘ç°åªéœ€è¦åªéœ€è¦ç”¨ä¸¤æ¬¡bfsï¼ŒæŠŠæ•´ä¸ªåœ°å›¾èµ°éï¼Œå¦‚æœèµ°åˆ°çš„åœ°æ–¹æ˜¯è‚¯å¾·åŸºï¼Œå°±è®°å½•æ­¤æ—¶çš„æ­¥æ•°ï¼Œç„¶åä¸¤ä¸ªæœ€å°å€¼ç›¸åŠ ä¹˜ä»¥11å°±è¡Œäº†ã€‚<br>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> GCC optimize(2)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">205</span>;</span><br><span class="line"><span class="keyword">char</span> nbo[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> kfc_dis1[maxn][maxn],kfc_dis2[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> yif[<span class="number">1</span>][<span class="number">2</span>],mer[<span class="number">1</span>][<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> dir[<span class="number">4</span>][<span class="number">2</span>]=&#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">int</span> vis[maxn][maxn];</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> row;</span><br><span class="line">    <span class="keyword">int</span> col;</span><br><span class="line">    <span class="keyword">int</span> stp;</span><br><span class="line">&#125;pos;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(pos xxx)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>((nbo[xxx.row][xxx.col]==<span class="string">'M'</span>)||(nbo[xxx.row][xxx.col]==<span class="string">'Y'</span>)||(nbo[xxx.row][xxx.col]==<span class="string">'#'</span>)||</span><br><span class="line">       (xxx.row&gt;=n)||(xxx.row&lt;<span class="number">0</span>)||(xxx.col&gt;=m)||(xxx.col&lt;<span class="number">0</span>)||(vis[xxx.row][xxx.col]==<span class="number">1</span>))        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> kcnt=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> stx,<span class="keyword">int</span> sty)</span>        <span class="comment">//xä¸ºè¡Œ,yä¸ºåˆ— </span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    kcnt=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">queue</span>&lt;pos&gt; que;</span><br><span class="line">    pos now,next,sta;</span><br><span class="line">    sta.row=stx;sta.col=sty;sta.stp=<span class="number">0</span>;</span><br><span class="line">    que.push(sta);</span><br><span class="line">    vis[stx][sty]=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">    <span class="keyword">while</span>(!que.empty())</span><br><span class="line">    &#123;    </span><br><span class="line">        now=que.front();</span><br><span class="line">        <span class="keyword">if</span>(nbo[now.row][now.col]==<span class="string">'@'</span>)    </span><br><span class="line">            kfc_dis2[now.row][now.col]=now.stp;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">        &#123;    </span><br><span class="line">            next.row=now.row+dir[i][<span class="number">0</span>];</span><br><span class="line">            next.col=now.col+dir[i][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span>(check(next))</span><br><span class="line">            &#123;    </span><br><span class="line">                vis[next.row][next.col]=<span class="number">1</span>;</span><br><span class="line">                next.stp=now.stp+<span class="number">1</span>;</span><br><span class="line">                que.push(next);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        que.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;m)!=EOF)</span><br><span class="line">    &#123;    </span><br><span class="line">        <span class="built_in">memset</span>(nbo,<span class="number">0</span>,<span class="keyword">sizeof</span>(nbo));<span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">        <span class="built_in">memset</span>(kfc_dis1,<span class="number">0</span>,<span class="keyword">sizeof</span>(kfc_dis1));<span class="built_in">memset</span>(kfc_dis2,<span class="number">0</span>,<span class="keyword">sizeof</span>(kfc_dis2));</span><br><span class="line">        <span class="keyword">int</span> cnt=<span class="number">0</span>,<span class="built_in">step</span>;</span><br><span class="line">        <span class="keyword">int</span> i,j;</span><br><span class="line">        getchar(); </span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;m;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%c"</span>,&amp;nbo[i][j]);</span><br><span class="line">                <span class="keyword">if</span>(nbo[i][j]==<span class="string">'M'</span>)        &#123;mer[<span class="number">0</span>][<span class="number">0</span>]=i;mer[<span class="number">0</span>][<span class="number">1</span>]=j;&#125;</span><br><span class="line">                <span class="keyword">if</span>(nbo[i][j]==<span class="string">'Y'</span>)        &#123;yif[<span class="number">0</span>][<span class="number">0</span>]=i;yif[<span class="number">0</span>][<span class="number">1</span>]=j;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            getchar();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans=INT_MAX;</span><br><span class="line">        bfs(mer[<span class="number">0</span>][<span class="number">0</span>],mer[<span class="number">0</span>][<span class="number">1</span>]);</span><br><span class="line">        <span class="built_in">memcpy</span>(kfc_dis1,kfc_dis2,<span class="keyword">sizeof</span>(kfc_dis2));            <span class="comment">//kfc_cnt1:meråˆ°å„ä¸ªè‚¯å¾·åŸºè·ç¦»,kfc_cnt2:yifåˆ°å„ä¸ªè‚¯å¾·åŸºè·ç¦» </span></span><br><span class="line">        <span class="built_in">memset</span>(kfc_dis2,<span class="number">0</span>,<span class="keyword">sizeof</span>(kfc_dis2));</span><br><span class="line">        bfs(yif[<span class="number">0</span>][<span class="number">0</span>],yif[<span class="number">0</span>][<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;m;j++)</span><br><span class="line">                <span class="keyword">if</span>(ans&gt;kfc_dis1[i][j]+kfc_dis2[i][j]&amp;&amp;kfc_dis1[i][j]&amp;&amp;kfc_dis2[i][j])</span><br><span class="line">                    ans=kfc_dis1[i][j]+kfc_dis2[i][j];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans*<span class="number">11</span>); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;å¦å¤–ï¼Œåœ¨hdojçš„è®¨è®ºç‰ˆé‡Œæœ‰äººè¯´Yå’ŒMä¸èƒ½èµ°ï¼Œä½†ç»è¿‡å°è¯•ï¼Œâ€Yå’ŒMå¯ä»¥èµ°â€ä»¥åŠâ€œYå’ŒMä¸å¯ä»¥èµ°â€è¿™ä¸¤ç§å†™æ³•éƒ½æ˜¯å¯ä»¥ACçš„ã€‚</p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>BFS&amp;DFS</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>POJ1002-A+B Problem</title>
    <url>/2019/01/26/HDOJ1002-A+B-Problem/</url>
    <content><![CDATA[<p>å¤§æ•°ç›¸åŠ ï¼Œæ–¹æ³•å°±æ˜¯ç”¨å­—ç¬¦ä¸²å­˜æ•°å­—ï¼Œç„¶åæ¨¡æ‹Ÿæ‰‹ç®—çš„æ–¹æ³•è®¡ç®—ã€‚è™½æ˜¯æ°´é¢˜ï¼Œä½†æœ‰äº›ç»†èŠ‚è¿˜æ˜¯è¦æ³¨æ„ã€‚<br><a id="more"></a><br>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> a[<span class="number">1010</span>],b[<span class="number">1010</span>];</span><br><span class="line"><span class="keyword">char</span> rsl[<span class="number">2000</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rev</span><span class="params">(<span class="keyword">char</span> str[])</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="keyword">int</span> len=<span class="built_in">strlen</span>(str);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len/<span class="number">2</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp=str[i];</span><br><span class="line">        str[i]=str[len-i<span class="number">-1</span>];</span><br><span class="line">        str[len-i<span class="number">-1</span>]=tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">char</span> a[],<span class="keyword">char</span> b[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">stop</span>=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(rsl,<span class="string">'0'</span>,<span class="keyword">sizeof</span>(rsl));</span><br><span class="line">    <span class="keyword">int</span> len=<span class="built_in">max</span>(<span class="built_in">strlen</span>(a),<span class="built_in">strlen</span>(b));</span><br><span class="line">    a[<span class="built_in">strlen</span>(a)]=b[<span class="built_in">strlen</span>(b)]=<span class="string">'0'</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;len;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>((a[i]-<span class="string">'0'</span>)+(b[i]-<span class="string">'0'</span>)+(rsl[i]-<span class="string">'0'</span>)&gt;<span class="number">9</span>)&#123;</span><br><span class="line">            rsl[i]=(((a[i]-<span class="string">'0'</span>)+(b[i]-<span class="string">'0'</span>)+(rsl[i]-<span class="string">'0'</span>))%<span class="number">10</span>)+<span class="string">'0'</span>;</span><br><span class="line"><span class="comment">//            printf("ans[i]=%c\n",rsl[i]);</span></span><br><span class="line">            rsl[i+<span class="number">1</span>]+=<span class="number">1</span>;</span><br><span class="line">            <span class="built_in">stop</span>=i+<span class="number">1</span>;</span><br><span class="line"><span class="comment">//            printf("ans[i+1]=%c\n",rsl[i+1]);</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            rsl[i]=(a[i]-<span class="string">'0'</span>+b[i]-<span class="string">'0'</span>+rsl[i]-<span class="string">'0'</span>)+<span class="string">'0'</span>;</span><br><span class="line">            <span class="built_in">stop</span>=i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    rsl[<span class="built_in">stop</span>+<span class="number">1</span>]=<span class="string">'\0'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="keyword">int</span> la,lb;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> test=<span class="number">0</span>;test&lt;t;test++)&#123;</span><br><span class="line">        <span class="built_in">memset</span>(a,<span class="string">'0'</span>,<span class="keyword">sizeof</span>(a));</span><br><span class="line">        <span class="built_in">memset</span>(b,<span class="string">'0'</span>,<span class="keyword">sizeof</span>(b));</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>,a);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>,b);</span><br><span class="line">        la=<span class="built_in">strlen</span>(a);lb=<span class="built_in">strlen</span>(b);</span><br><span class="line">    <span class="comment">//    int len=max(strlen(a),strlen(b));</span></span><br><span class="line">        rev(a);rev(b);</span><br><span class="line">        add(a,b);</span><br><span class="line">        rev(rsl);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d:\n"</span>,test+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=la<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%c"</span>,a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">" + "</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=lb<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%c"</span>,b[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">" = "</span>);</span><br><span class="line">        <span class="built_in">puts</span>(rsl);</span><br><span class="line">        <span class="keyword">if</span>(test!=t<span class="number">-1</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n"</span>); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ACM</category>
        <category>å…¥é—¨</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU1171-Big Event in HDUï¼ˆå¤šé‡èƒŒåŒ…åšæ³•ï¼‰</title>
    <url>/2019/02/13/HDOJ1171-Big-Event-in-HDU/</url>
    <content><![CDATA[<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1171" rel="external nofollow noopener noreferrer" target="_blank">HDOJ1171</a><br>è¿™é“é¢˜ä¹‹å‰æ˜¯ç”¨01èƒŒåŒ…åšçš„ï¼Œç°åœ¨ç”¨å¤šé‡èƒŒåŒ…çš„åšæ³•è§£å†³ã€‚è¿™å…¶å®æ›´ç¬¦åˆé¢˜æ„ï¼ˆä¸ªäººè®¤ä¸ºï¼‰</p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<p>ç‰ˆæœ¬ä¸‰(äºŒè¿›åˆ¶ä¼˜åŒ–çš„å¤šé‡èƒŒåŒ…ï¼Œ93ms)<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1000000</span>+<span class="number">5</span>; </span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> v[<span class="number">5005</span>],m[<span class="number">5005</span>];</span><br><span class="line"><span class="keyword">int</span> dp[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">zero_one</span><span class="params">(<span class="keyword">int</span> cost,<span class="keyword">int</span> val,<span class="keyword">int</span> vtot)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=vtot;j&gt;=cost;j--)</span><br><span class="line">        dp[j]=<span class="built_in">max</span>(dp[j],dp[j-cost]+val);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">complete</span><span class="params">(<span class="keyword">int</span> cost,<span class="keyword">int</span> val,<span class="keyword">int</span> vtot)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=cost;j&lt;=vtot;j++)</span><br><span class="line">        dp[j]=<span class="built_in">max</span>(dp[j],dp[j-cost]+val);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">multiple</span><span class="params">(<span class="keyword">int</span> cost,<span class="keyword">int</span> val,<span class="keyword">int</span> num,<span class="keyword">int</span> vtot)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> k;</span><br><span class="line">    <span class="keyword">if</span>(cost*num&gt;=vtot)</span><br><span class="line">    &#123;</span><br><span class="line">        complete(cost,val,vtot);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    k=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(k&lt;num)</span><br><span class="line">    &#123;</span><br><span class="line">        zero_one(k*cost,k*val,vtot);</span><br><span class="line">        num-=k;</span><br><span class="line">        k&lt;&lt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    zero_one(num*cost,num*val,vtot);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)!=EOF&amp;&amp;n&gt;<span class="number">0</span>)</span><br><span class="line">    &#123;    </span><br><span class="line">        mst(v,<span class="number">0</span>);mst(m,<span class="number">0</span>);mst(dp,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> val,num;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;val,&amp;num);</span><br><span class="line">            sum+=val*num;</span><br><span class="line">            v[i]=val;m[i]=num;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            multiple(v[i],v[i],m[i],sum/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">int</span> a=sum-dp[sum/<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">int</span> b=dp[sum/<span class="number">2</span>];</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;a&lt;&lt;<span class="string">" "</span>&lt;&lt;b&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>äºŒè¿›åˆ¶ä¼˜åŒ–çš„æ¨¡æ¿â†’<a href="https://blog.csdn.net/mystery_guest/article/details/51878140" rel="external nofollow noopener noreferrer" target="_blank">å¤šé‡èƒŒåŒ…äºŒè¿›åˆ¶ä¼˜åŒ–æ¨¡æ¿åˆ†æ</a></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>å¤šé‡èƒŒåŒ…</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>DP</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU5446-Unknown Treasure(å¢å¡æ–¯å®šç†ï¼Œä¸­å›½å‰©ä½™å®šç†)</title>
    <url>/2019/01/28/HDOJ5446-Unknown-Treasure/</url>
    <content><![CDATA[<p>é¢˜ç›®é“¾æ¥:<a href="https://cn.vjudge.net/problem/HDU-5446" rel="external nofollow noopener noreferrer" target="_blank">Unknown Treasure</a></p>
<p><img src="https://pic.superbed.cn/item/5c4e95c85f3e509ed97caf5f" alt></p>
<p>è¿™é“é¢˜æ±‚å¾—å®é™…ä¸Šæ˜¯C(n,m)%M,M=p1Â·p2Â·p3Â·Â·Â·pkã€‚åˆå› ä¸ºpiéƒ½æ˜¯ç´ æ•°ï¼Œæ•…å¯ç”¨å¢å¡æ–¯å®šç†ã€‚ä½†è¿™é‡Œä¸å¯ä»¥ç›´æ¥ç”¨Lucasï¼Œå› ä¸ºLucasçš„ä½¿ç”¨æ¡ä»¶æ˜¯â€œC(n,m)å¾ˆå¤§ï¼Œä½†pä¸å¤ªå¤§ï¼ŒåŒæ—¶pä¸ºç´ æ•°â€ï¼Œè€Œè¿™é‡Œçš„Må¯èƒ½ä¼šå¾ˆå¤§ã€‚æ•…æˆ‘ä»¬å¯ä»¥å…ˆæ±‚C(n,m)%p1,C(n,m)%p2,C(n,m)%pkï¼Œç„¶åå†åˆ©ç”¨ä¸­å›½å‰©ä½™å®šç†å¾—åˆ°æœ€ç»ˆç­”æ¡ˆã€‚</p>
<p>ä»£ç å¦‚ä¸‹:<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"><span class="comment">//ä»nä¸ªè‹¹æœä¸­æŒ‘å‡ºmä¸ªç›¸äº’ä¸åŒçš„è‹¹æœ</span></span><br><span class="line"><span class="function">LL <span class="title">mulq</span><span class="params">(LL a,LL b,LL m)</span>        <span class="comment">//(a*b)%m</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    LL ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>)</span><br><span class="line">            ans=(ans+a)%m;</span><br><span class="line">        a=(a+a)%m;</span><br><span class="line">        b&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">LL <span class="title">powq</span><span class="params">(LL a,LL b,LL mod)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LL ans=<span class="number">1</span>;a%=mod;</span><br><span class="line">    <span class="keyword">while</span>(b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>)</span><br><span class="line">            ans=(ans*a)%mod;</span><br><span class="line">        a=(a*a)%mod;</span><br><span class="line">        b&gt;&gt;=<span class="number">1</span>; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125; </span><br><span class="line"><span class="function">LL <span class="title">inv</span><span class="params">(LL x,LL p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> powq(x,p<span class="number">-2</span>,p);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">LL <span class="title">comb</span><span class="params">(LL n,LL m,LL p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;m||m&lt;<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    LL up=<span class="number">1</span>;</span><br><span class="line">    LL down=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(LL i=n-m+<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        up=(up*i)%p;</span><br><span class="line">    <span class="keyword">for</span>(LL i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">        down=(down*i)%p;</span><br><span class="line">    <span class="keyword">return</span> up*inv(down,p)%p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">LL <span class="title">lucas</span><span class="params">(LL a,LL b,LL p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> !b?<span class="number">1</span>:lucas(a/p,b/p,p)*comb(a%p,b%p,p)%p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">LL <span class="title">china</span><span class="params">(<span class="keyword">int</span> k,LL a[],LL m[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LL M=<span class="number">1</span>;LL ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k;i++)</span><br><span class="line">        M*=m[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        LL tmp=M/m[i];        <span class="comment">//tmp==&gt;mi        </span></span><br><span class="line">        ans=(ans+mulq(tmp*inv(tmp,m[i]),a[i],M))%M;        <span class="comment">//ti==&gt;ti*mi=1 (mod mi)</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (ans+M)%M;            <span class="comment">//é€šè§£ä¸ºkM+âˆ‘(i=0,k)(ai*ti*Mi) </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LL t,k;</span><br><span class="line">    LL n,m;</span><br><span class="line">    <span class="keyword">int</span> cnt;</span><br><span class="line">    LL r[<span class="number">15</span>],md[<span class="number">15</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;    </span><br><span class="line">        cnt=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(r,<span class="number">0</span>,<span class="keyword">sizeof</span>(r));</span><br><span class="line">        <span class="built_in">memset</span>(md,<span class="number">0</span>,<span class="keyword">sizeof</span>(md));</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld %lld %lld"</span>,&amp;n,&amp;m,&amp;k);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            LL tmp=<span class="number">1</span>;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;tmp);</span><br><span class="line">            md[cnt]=tmp;</span><br><span class="line">            r[cnt++]=lucas(n,m,tmp);</span><br><span class="line">        &#125;</span><br><span class="line">        LL pro=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k;i++)    </span><br><span class="line">            pro*=md[i];</span><br><span class="line">        LL ans=china(k,r,md);        <span class="comment">//ä¸ºä»€ä¹ˆç­”æ¡ˆå°±æ˜¯ä¸­å›½å‰©ä½™å®šç†æ±‚å‡ºçš„å€¼ï¼Ÿä¸åº”è¯¥å†æ¨¡ä¸Šä¹˜ç§¯å—? </span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans%pro);    <span class="comment">//å› ä¸ºä¸­å›½å‰©ä½™å®šç†åœ¨è®¡ç®—æ—¶å·²ç»ç®—äº†è¿™ä¸ªæ¨¡;ä¸­å›½å‰©ä½™å®šç†æ±‚å‡ºçš„æ˜¯è§£é›†ä¸­çš„æœ€å°è§£ï¼Œå³c(m,m)%M;</span></span><br><span class="line">                                    <span class="comment">//å½“ç„¶ï¼Œå¦‚æœåœ¨mainä¸­å†æ¨¡ä¸€æ¬¡M,ä¹Ÿæ˜¯å¯ä»¥ACçš„    </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>æ•°è®º</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>æ•°è®º</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU3037-Saving Beans(å¢å¡æ–¯å®šç†ï¼Œç»„åˆæ•°)</title>
    <url>/2019/01/27/HDOJ3037-Saving-Beans-%E5%8D%A2%E5%8D%A1%E6%96%AF%E5%AE%9A%E7%90%86%EF%BC%8C%E7%BB%84%E5%90%88%E6%95%B0/</url>
    <content><![CDATA[<p>&emsp;&emsp;é¢˜ç›®é“¾æ¥ï¼š<a href="https://cn.vjudge.net/problem/HDU-3037" rel="external nofollow noopener noreferrer" target="_blank">HDOJ-3037</a></p>
<p>&emsp;&emsp;è¿™é“é¢˜å…³é”®ä¹‹å¤„åœ¨äºå¼å­çš„æ¨å¯¼ï¼Œåªè¦æŠŠå¼å­æ¨å¯¼å‡ºæ¥äº†ï¼Œå°±å¯ä»¥ç›´æ¥å¥—ç”¨Lucasçš„æ¨¡æ¿ï¼Œä»è€Œæ±‚å‡ºç­”æ¡ˆã€‚é‚£ä¹ˆï¼Œå…¬å¼è¦æ€ä¹ˆæ±‚å‘¢ï¼Ÿ</p>
<p>&emsp;&emsp;é¦–å…ˆï¼Œé—®é¢˜è¦æ±‚çš„æ˜¯ä»næ£µæ ‘ä¸­æ”¶é›†ä¸è¶…è¿‡mä¸ªæœå®(åŸæœ¬ä»¥ä¸ºæ˜¯å°†ä¸å¤šäºmä¸ªæœå®æ”¾åˆ°næ£µæ ‘ä¸­â€¦â€¦è¿™é¢˜ç›®è¡¨è¾¾æœ‰é—®é¢˜å•Šï¼)ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé—®é¢˜å…¶å®æ˜¯æ±‚æ–¹ç¨‹x1+x2+x3+Â·Â·Â·+xn=mçš„éè´Ÿæ•´æ•°è§£çš„ä¸ªæ•°ã€‚é‚£ä¹ˆæˆ‘ä»¬è¦æ€æ±‚å‘¢ï¼Ÿ<br>&emsp;&emsp;é¦–å…ˆï¼Œå¦‚æœæ˜¯æ±‚æ­£æ•´æ•°è§£çš„ä¸ªæ•°ï¼Œé‚£æˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨æœ€ç®€å•çš„éš”æ¿æ³•ï¼Œå³C(m-1,n-1);ä½†è¿™é‡Œæ±‚çš„æ˜¯éè´Ÿæ•´æ•°è§£ï¼Œä¹Ÿå°±æ˜¯è¯´x1ï¼Œx2ï¼ŒÂ·Â·Â·,xnä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªå¯ä»¥ä¸º0ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä»å¯ä»¥ç”¨éš”æ¿æ³•æ¥è®¡ç®—ã€‚æ–¹æ³•æ˜¯ï¼Œå°†æ±‚éè´Ÿæ•´æ•°è§£è¿™ä¸€ä¸ªé—®é¢˜è½¬åŒ–ä¸ºæ±‚æ­£æ•´æ•°è§£ï¼Œä¹Ÿå°±æ˜¯å°†æ¯ä¸€ä¸ªx(x1,x2,Â·Â·Â·,xm)éƒ½åŠ ä¸Š1ï¼Œæ„é€ ä¸€ä¸ªæ–°çš„æ–¹ç¨‹y1+y2+Â·Â·Â·+yn=m(yi=xi+1)ã€‚æ˜¾ç„¶ï¼Œç”±äºæ–¹ç¨‹æ˜¯çº¿æ€§çš„ï¼Œæ•…æ–°æ–¹ç¨‹çš„æ­£æ•´æ•°è§£çš„ä¸ªæ•°ç­‰äºåŸæ–¹ç¨‹çš„éè´Ÿæ•´æ•°è§£çš„ä¸ªæ•°ã€‚è€Œæ–°æ–¹ç¨‹çš„è§£çš„ä¸ªæ•°ä¸ºC((m+n)-1,n-1)=C((m+n)-1,m)ã€‚</p>
<p>&emsp;&emsp;è€Œæˆ‘ä»¬è¦æ±‚çš„å®é™…ä¸Šæ˜¯(âˆ‘(i=0,m)C(m+n-1,i))%pï¼Œæ ¹æ®å…¬å¼C(n,k)=C(n-1,k-1)+C(n-1,k)(ä¸Šå–å¤§ï¼Œä¸‹åŠ ä¸€),å¯å¾—åˆ°(âˆ‘(i=0,m)C(m+n-1,i))%p=C(m+n,m)%pã€‚åˆå› ä¸ºpä¸ºè´¨æ•°ï¼Œæ•…ç”¨Lucaså³å¯ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="function">ll <span class="title">powq</span><span class="params">(ll a,ll b,ll p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll ans=<span class="number">1</span>;a%=p;</span><br><span class="line">    <span class="keyword">while</span>(b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>)</span><br><span class="line">            ans=(ans*a)%p;</span><br><span class="line">        a=(a*a)%p;</span><br><span class="line">        b&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">inv</span><span class="params">(ll a,ll p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> powq(a,p<span class="number">-2</span>,p);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">comb</span><span class="params">(ll n,ll m,ll p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;m)        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    ll up=<span class="number">1</span>;</span><br><span class="line">    ll down=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n-m+<span class="number">1</span>;i&lt;=n;i++)        up=(up*i)%p;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)        down=(down*i)%p;</span><br><span class="line">    <span class="keyword">return</span> up*inv(down,p)%p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">lucas</span><span class="params">(ll n,ll m,ll p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> !n?<span class="number">1</span>:lucas(n/p,m/p,p)*comb(n%p,m%p,p)%p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll m,n,p;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld %lld %lld"</span>,&amp;n,&amp;m,&amp;p);     </span><br><span class="line">        ll ans=lucas(n+m,n,p);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>æ•°è®º</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>æ•°è®º</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU2602 - Bone Collector</title>
    <url>/2019/02/17/HDOJ2602-Bone-Collector/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-2602" rel="external nofollow noopener noreferrer" target="_blank">Bone Collector</a></p>
<p>&emsp;&emsp;ä¸€é“01èƒŒåŒ…æ¨¡æ¿é¢˜ï¼Œå¥—æ¨¡æ¿å³å¯<br><a id="more"></a><br>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1005</span>; </span><br><span class="line"><span class="keyword">int</span> value[maxn],w[maxn];</span><br><span class="line"><span class="keyword">int</span> dp[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> n,vtot;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;vtot);</span><br><span class="line">        <span class="built_in">memset</span>(value,<span class="number">0</span>,<span class="keyword">sizeof</span>(value));<span class="built_in">memset</span>(w,<span class="number">0</span>,<span class="keyword">sizeof</span>(w));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;value[i]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;w[i]);</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=vtot;j&gt;=w[i];j--)</span><br><span class="line">                dp[j]=<span class="built_in">max</span>(dp[j],dp[j-w[i]]+value[i]);</span><br><span class="line">        <span class="keyword">int</span> ans=dp[vtot];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>01èƒŒåŒ…</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>01èƒŒåŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU1018 - Big Number</title>
    <url>/2019/02/24/HDU1018-Big-Number/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-1018" rel="external nofollow noopener noreferrer" target="_blank">Big Number</a></p>
<p>&emsp;&emsp;ç›´æ¥å¥—ç”¨stirlingæ•°çš„å…¬å¼å³å¯ã€‚å…³äºstrlingæ•°ï¼Œå¯å‚è€ƒä¸‹å›¾</p>
<p><img src="https://pic.superbed.cn/item/5c72a85b3a213b0417767d95" alt><br><a id="more"></a><br>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x7fffffff</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> pi acos(-1.0)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> e=<span class="number">2.718281828459</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">5</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line"><span class="comment">//    cout&lt;&lt;log10(103)&lt;&lt;endl;</span></span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">double</span> n;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        ll ans=<span class="number">0</span>;</span><br><span class="line">        ans=(<span class="keyword">int</span>)(<span class="built_in">floor</span>((<span class="built_in">log10</span>((<span class="number">2</span>*pi*n)))/<span class="number">2</span>+n*<span class="built_in">log10</span>(n/e))+<span class="number">1</span>);        <span class="comment">//stirlingå…¬å¼ </span></span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**/</span></span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>æ•°è®º</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>æ•°è®º</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU1171 - Big Event in HDU</title>
    <url>/2019/02/17/HDU1171-Big-Event-in-HDU/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-1171" rel="external nofollow noopener noreferrer" target="_blank">Big Event in HDU</a></p>
<p>&emsp;&emsp;è¿™é“é¢˜æ˜¯è®©æˆ‘ä»¬å°†è®¾å¤‡æ ¹æ®ä»·å€¼å°½å¯èƒ½åœ°å¹³å‡åˆ†æˆä¸¤åŠï¼Œå…¶å®å°±æ˜¯æŠŠè®¾å¤‡çš„ä»·å€¼æ€»å’Œå¹³åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼Œç„¶åä»¥æ­¤ä¸ºèƒŒåŒ…ï¼Œå°†è¿™ä¸ªèƒŒåŒ…å°½å¯èƒ½å¡«æ»¡ã€‚å› ä¸ºè¿™é‡Œçš„â€œä½“ç§¯â€å’Œâ€œä»·å€¼â€éƒ½æ˜¯è®¾å¤‡çš„ä»·å€¼ï¼Œæ‰€ä»¥å…¶å®å°±æ˜¯æ±‚ä»·å€¼çš„æœ€å¤§å€¼ã€‚é¢˜ç›®è¿˜è¦æ±‚è¾“å‡ºæ—¶ï¼Œå¤§çš„åœ¨å‰é¢ï¼Œå°çš„åœ¨åé¢ï¼Œè¿™å¯ä»¥åˆ©ç”¨æ•´é™¤çš„ç‰¹æ€§åšåˆ°ï¼Œå› ä¸ºä¸€ä¸ªæ•´æ•°aæ•´é™¤2å¾—åˆ°çš„ç»“æœä¸€å®šæ˜¯å°äºæˆ–ç­‰äºa/2(éæ•´é™¤)çš„ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> v[<span class="number">5005</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1000000</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)!=EOF&amp;&amp;n&gt;<span class="number">0</span>)</span><br><span class="line">    &#123;    </span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">        <span class="built_in">memset</span>(v,<span class="number">0</span>,<span class="keyword">sizeof</span>(v));</span><br><span class="line">        <span class="keyword">int</span> half=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> idx=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;    </span><br><span class="line">            <span class="keyword">int</span> val,temp;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;val,&amp;temp);</span><br><span class="line">            <span class="keyword">while</span>(temp--)</span><br><span class="line">            &#123;</span><br><span class="line">                v[idx++]=val;</span><br><span class="line">                half+=val;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> tmp=half;</span><br><span class="line">        half/=<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;idx;i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=half;j&gt;=v[i];j--)</span><br><span class="line">                dp[j]=<span class="built_in">max</span>(dp[j],dp[j-v[i]]+v[i]);</span><br><span class="line">        <span class="keyword">int</span> a,b;</span><br><span class="line">        a=tmp-dp[half];</span><br><span class="line">        b=dp[half];</span><br><span class="line">      <span class="comment">//cout&lt;&lt;max(a,b)&lt;&lt;" "&lt;&lt;min(a,b)&lt;&lt;endl;</span></span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;a&lt;&lt;<span class="string">" "</span>&lt;&lt;b&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>01èƒŒåŒ…</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>01èƒŒåŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU1248 - å¯’å†°ç‹åº§</title>
    <url>/2019/02/22/HDU1248-%E5%AF%92%E5%86%B0%E7%8E%8B%E5%BA%A7/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-1248" rel="external nofollow noopener noreferrer" target="_blank">å¯’å†°ç‹åº§</a></p>
<a id="more"></a>
<p>&emsp;&emsp;å¥—ç”¨æ¨¡æ¿å³å¯</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e4</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> money[<span class="number">5</span>]=&#123;<span class="number">150</span>,<span class="number">200</span>,<span class="number">350</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> dp[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;    </span><br><span class="line">        mst(dp,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=money[i];j&lt;=n;j++)</span><br><span class="line">                dp[j]=<span class="built_in">max</span>(dp[j],dp[j-money[i]]+money[i]);</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;n-dp[n]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>å®Œå…¨èƒŒåŒ…</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>å®Œå…¨èƒŒåŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU1301 - Jungle Roads</title>
    <url>/2019/02/27/HDU1301-Jungle-Roads/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-1301" rel="external nofollow noopener noreferrer" target="_blank">Jungle Roads</a></p>
<p>å¥—ç”¨Kruskalæˆ–Primçš„æ¨¡æ¿å³å¯ã€‚è¿™é‡Œæˆ‘ç”¨çš„æ—¶Kruskalã€‚</p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> from,to,cost; </span><br><span class="line">&#125;edge;</span><br><span class="line">edge arr[<span class="number">100</span>];</span><br><span class="line"><span class="keyword">int</span> pre[<span class="number">100</span>];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(edge e1,edge e2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> e1.cost&lt;e2.cost;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        pre[i]=i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findr</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x==pre[x])</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">return</span> pre[x]=findr(pre[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">kruskal</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> rsl=<span class="number">0</span>;<span class="keyword">int</span> num=<span class="number">0</span>;</span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;cnt;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> fx=findr(arr[i].from);</span><br><span class="line">        <span class="keyword">int</span> fy=findr(arr[i].to);</span><br><span class="line">        <span class="keyword">if</span>(fx!=fy)</span><br><span class="line">        &#123;</span><br><span class="line">            pre[fx]=fy;</span><br><span class="line">            rsl+=arr[i].cost;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> rsl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&amp;&amp;n)</span><br><span class="line">    &#123;    </span><br><span class="line">        cnt=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n<span class="number">-1</span>;i++)</span><br><span class="line">        &#123;        </span><br><span class="line">            <span class="keyword">char</span> ch,ch1;</span><br><span class="line">            <span class="keyword">int</span> k,aacm;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;ch&gt;&gt;k;</span><br><span class="line">            getchar();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=k;j++)</span><br><span class="line">            &#123;    </span><br><span class="line">                edge tmp;</span><br><span class="line">                <span class="built_in">cin</span>&gt;&gt;ch1&gt;&gt;aacm;</span><br><span class="line">                getchar();</span><br><span class="line">                tmp.from=ch-<span class="string">'A'</span>+<span class="number">1</span>;</span><br><span class="line">                tmp.to=ch1-<span class="string">'A'</span>+<span class="number">1</span>;</span><br><span class="line">                tmp.cost=aacm;</span><br><span class="line">                arr[cnt++]=tmp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(arr,arr+cnt,cmp);</span><br><span class="line">        <span class="keyword">int</span> ans=kruskal();</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>å›¾è®º</category>
        <category>æœ€å°ç”Ÿæˆæ ‘</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>Kruskal</tag>
        <tag>å›¾è®º</tag>
        <tag>æœ€å°ç”Ÿæˆæ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU1811 - Rank of Tetris</title>
    <url>/2019/03/21/HDU1811-Rank-of-Tetris/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-1811" rel="external nofollow noopener noreferrer" target="_blank">Rank of Tetris</a><br><br></p>
<p>&emsp;&emsp;æ ¹æ®é¢˜å•çš„æç¤ºï¼Œè¿™æ˜¯ä¸€é“æ‹“è¡¥æ’åº+å¹¶æŸ¥é›†çš„é¢˜ç›®ï¼Œç„¶è€Œæˆ‘å¹¶ä¸ä¼šæ‹“è¡¥æ’åºâ€¦â€¦æ‰€ä»¥è¿™é‡Œå…ˆå†™ä¸€ä¸‹æ‹“è¡¥æ’åºç›¸å…³çš„ä¸œè¥¿å§â€¦â€¦</p>
<p>&emsp;&emsp;é¦–å…ˆï¼Œæ‹“è¡¥æ’åºæ˜¯å¯¹ä¸€ç³»åˆ—æœ‰å…ˆåé¡ºåºçš„â€œæ´»åŠ¨â€çš„æ’åºã€‚ä½•ä¸ºâ€œæœ‰å…ˆåé¡ºåºçš„â€˜æ´»åŠ¨â€™â€ï¼Ÿä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚ç°åœ¨æŸäººè¦ç©¿è¡£æœï¼Œé‚£ä»–å¿…é¡»è¦å…ˆç©¿å†…è¡£å†ç©¿ä¸­é—´çš„æ¯›è¡£ï¼Œæœ€åå†ç©¿å¤–å¥—ã€‚æ‹“è¡¥æ’åºå°±æ˜¯ä½¿ç”¨æœ‰å‘æ— ç¯å›¾(DAG)æ¥å¯¹è¿™äº›æœ‰å…ˆåé¡ºåºçš„æ´»åŠ¨è¿›è¡Œæ’åºï¼Œå¾—åˆ°ä¸€ä¸ªå¯è¡Œçš„é¡ºåºã€‚å¯¹äºåŒä¸€ç³»åˆ—çš„æ´»åŠ¨ï¼Œå¯èƒ½æœ‰å¤šäºä¸€ç§é¡ºåºå¯ä»¥ä½¿ä»–ä»¬æ»¡è¶³æ‹“è¡¥æ’åºã€‚è¿™è·Ÿç©¿è¡£æœæ—¶å¯ä»¥å…ˆç©¿è£¤å­å†ç©¿æ¯›è¡£ç„¶åå†ç©¿å¤–å¥—ï¼Œä¹Ÿå¯ä»¥å…ˆç©¿æ¯›è¡£å†ç©¿è£¤å­ç„¶åç©¿å¤–å¥—æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>&emsp;&emsp;æ‹“è¡¥æ’åºçš„å®ç°ï¼šå…ˆæ‰¾å‡ºå…¥åº¦ä¸º0çš„ç‚¹ï¼Œç„¶åå°†è¿™ä¸ªç‚¹ä»¥åŠä¸è¿™ä¸ªç‚¹ç›¸è¿çš„è¾¹åˆ é™¤ï¼Œå¹¶å°†ä¸è¿™ä¸ªç‚¹ç›´æ¥ç›¸è¿çš„ç‚¹çš„å…¥åº¦éƒ½å‡ä¸€ã€‚å†æ‰¾å‡ºå½“å‰å…¥åº¦ä¸º0çš„ç‚¹ï¼Œé‡å¤ä¸Šè¿°è¿‡ç¨‹â€¦â€¦.å½“æ‰€æœ‰ç‚¹çš„å…¥åº¦éƒ½ä¸º0æ—¶ï¼Œè¯´æ˜æ‰€æœ‰çš„ç‚¹éƒ½å·²ç»è¢«å®‰æ’äº†ä¸€ä¸ªæ‹“è¡¥åºï¼Œæ‹“è¡¥æ’åºå®Œæˆã€‚å¦‚æœä¸èƒ½ä½¿æ‰€æœ‰ç‚¹çš„å…¥åº¦éƒ½ä¸º0ï¼Œåˆ™å¯ä»¥åˆ¤æ–­å½“å‰è¿™ä¸ªå›¾ä¸æ˜¯DAGã€‚å› æ­¤ï¼Œæ‹“è¡¥æ’åºè¿˜å¯ä»¥ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæœ‰å‘å›¾æ˜¯å¦æœ‰ç¯</p>
<p>&emsp;&emsp;å…·ä½“åˆ°è¿™é“é¢˜ã€‚æ€è·¯æ˜¯ï¼Œå¯¹äºratingç›¸ç­‰çš„ä¸¤ä¸ªç‚¹ï¼Œæ¯”å¦‚è¯´aå’Œbï¼Œå› ä¸ºå®ƒä»¬ä¹‹é—´çš„åºå·ä¸€å®šä¸ä¸€æ ·ï¼Œæ‰€ä»¥ä¸¤è€…ä¹‹é—´ä¸€å®šèƒ½å¤Ÿè¿æ¥ä¸€æ¡æœ‰å‘è¾¹ã€‚å¯æ˜¯å¦‚æœæ¥ä¸‹æ¥åˆå‡ºç°äº†ä¸€ä¸ªb = cå‘¢ï¼Ÿé‚£bå’Œcä¹‹é—´ä¹Ÿè¦è¿ä¸€æ¡æœ‰å‘è¾¹ã€‚ä¸ä»…å¦‚æ­¤ï¼Œaå’Œcä¹‹é—´ä¹Ÿè¦è¿ä¸€æ¡æœ‰å‘è¾¹ã€‚æ‰€ä»¥å¦‚æœå‡ºç°äº†a = b = c = d = e = â€¦çš„æƒ…å†µï¼Œè¿™ä¸ªå›¾å°±ä¼šå¾ˆå¤æ‚ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨å¹¶æŸ¥é›†å°†é‚£äº›ratingç›¸ç­‰çš„ç‚¹éƒ½è¿æ¥èµ·æ¥ï¼Œç„¶åå°†ä»–ä»¬çš„æ ¹èŠ‚ç‚¹ä½œä¸ºä»–ä»¬çš„ä»£è¡¨å…ƒç´ ï¼Œå³å°†è¿™äº›ç‚¹çœ‹æˆæ˜¯ä¸€ä¸ªç‚¹ã€‚ç„¶åå†ç”¨æ‹“è¡¥æ’åºåˆ¤ä¸€ä¸‹ç¯å³å¯ã€‚</p>
<p>&emsp;&emsp;éœ€è¦æ³¨æ„çš„ç»†èŠ‚æ˜¯ï¼Œå¦‚æœä¹‹å‰å·²ç»å‡ºç°äº†a = bï¼Œå¾€åå¯èƒ½ä¼šå‡ºç°a &gt; bæˆ–è€…a &lt; bï¼Œè¿™æ˜¯è¦åˆ¤æ–­ä¸ºCONFLICT</p>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e4</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="comment">//nä¸ªç‚¹ï¼Œmæ¡è¾¹</span></span><br><span class="line"><span class="comment">//å°†'='çš„ç‚¹ç”¨å¹¶æŸ¥é›†èšåˆä¸ºä¸€ä¸ªç‚¹</span></span><br><span class="line"><span class="keyword">int</span> pre[<span class="number">2</span>*maxn];</span><br><span class="line"><span class="keyword">int</span> head[<span class="number">2</span>*maxn];</span><br><span class="line"><span class="keyword">int</span> deg[<span class="number">2</span>*maxn];        <span class="comment">//è®°å½•æ¯ä¸ªç‚¹çš„å…¥åº¦</span></span><br><span class="line"><span class="keyword">int</span> tot;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> next;</span><br><span class="line">&#125;;</span><br><span class="line">edge edges[<span class="number">2</span>*maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    tot=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        pre[i]=i;</span><br><span class="line">    mst(head,<span class="number">-1</span>);mst(deg,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_edge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edges[tot].to=v;</span><br><span class="line">    edges[tot].next=head[u];</span><br><span class="line">    head[u]=tot++;</span><br><span class="line">    deg[v]++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findr</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x==pre[x])</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">return</span> pre[x]=findr(pre[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">topo</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; que;</span><br><span class="line">    <span class="keyword">int</span> root_cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> in_que_cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">bool</span> flag=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(pre[i]==i)&#123;</span><br><span class="line">            root_cnt++;</span><br><span class="line">            <span class="keyword">if</span>(deg[i]==<span class="number">0</span>)</span><br><span class="line">                que.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!que.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(que.<span class="built_in">size</span>()&gt;<span class="number">1</span>)</span><br><span class="line">            flag=<span class="number">0</span>;</span><br><span class="line">        in_que_cnt++;</span><br><span class="line">        <span class="keyword">int</span> fro=que.front();</span><br><span class="line">        que.pop();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=head[fro];i!=<span class="number">-1</span>;i=edges[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> tmp=findr(edges[i].to);</span><br><span class="line">            deg[tmp]--;</span><br><span class="line">            <span class="keyword">if</span>(deg[tmp]==<span class="number">0</span>)</span><br><span class="line">                que.push(tmp);        <span class="comment">//ä¸ºä»€ä¹ˆè¿™é‡Œä¸éœ€è¦å°†å…¥é˜Ÿæ¬¡æ•°++?</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(in_que_cnt&lt;root_cnt)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;        <span class="comment">//å†²çª(æœ‰ç¯)</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(!flag)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;        <span class="comment">//ä¸å¯ç¡®å®šå…³ç³»</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;        <span class="comment">//ok</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> a[maxn],b[maxn],ch[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;m)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        init();</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %c %d"</span>,&amp;a[i],&amp;ch[i],&amp;b[i]);</span><br><span class="line">            getchar();</span><br><span class="line">            <span class="keyword">if</span>(ch[i]==<span class="string">'='</span>)&#123;</span><br><span class="line">                <span class="keyword">int</span> fa=findr(a[i]);</span><br><span class="line">                <span class="keyword">int</span> fb=findr(b[i]);</span><br><span class="line">                <span class="keyword">if</span>(fa!=fb)        <span class="comment">//è‹¥ratingç›¸ç­‰ï¼Œåˆ™åˆå¹¶ï¼Œå› ä¸ºaå’Œbçš„åºå·</span></span><br><span class="line">                                <span class="comment">//ä¸€å®šä¸ä¸€è‡´ï¼Œç»å¯¹å¯ä»¥æ¯”å‡ºå¤§å°</span></span><br><span class="line">                    pre[fa]=fb;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> fa=findr(a[i]);</span><br><span class="line">            <span class="keyword">int</span> fb=findr(b[i]);</span><br><span class="line">            <span class="keyword">if</span>(ch[i]!=<span class="string">'='</span>&amp;&amp;fa==fb)&#123;</span><br><span class="line">                ans=<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(ch[i]==<span class="string">'&lt;'</span>)&#123;        <span class="comment">//a &lt; b</span></span><br><span class="line">                add_edge(findr(b[i]),findr(a[i]));</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(ch[i]==<span class="string">'&gt;'</span>)&#123;</span><br><span class="line">                add_edge(findr(a[i]),findr(b[i]));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(ans==<span class="number">0</span>)</span><br><span class="line">            ans=topo();</span><br><span class="line">        <span class="keyword">if</span>(ans==<span class="number">1</span>)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"CONFLICT"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(ans==<span class="number">-1</span>)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"UNCERTAIN"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"OK"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>å›¾è®º</category>
        <category>æ‹“è¡¥æ’åº</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>å›¾è®º</tag>
        <tag>å¹¶æŸ¥é›†</tag>
        <tag>æ‹“è¡¥æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU1864 - æœ€å¤§æŠ¥é”€é¢</title>
    <url>/2019/02/18/HDU1864-%E6%9C%80%E5%A4%A7%E6%8A%A5%E9%94%80%E9%A2%9D/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-1864" rel="external nofollow noopener noreferrer" target="_blank">æœ€å¤§æŠ¥é”€é¢</a></p>
<p>&emsp;&emsp;è¿™é“é¢˜æœ‰ä¸¤ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼šä¸€æ˜¯é¢˜ç›®è¯´çš„â€œæ¯é¡¹â€å…¶å®æ˜¯â€œæ¯ç±»â€ï¼Œä¹Ÿå°±æ˜¯Aç±»,Bç±»å’ŒCç±»ï¼Œè€Œä¸æ˜¯æ¯ä¸ªç‰©å“â€¦â€¦(è¿™é¢˜ç›®è¡¨è¿°æœ‰é—®é¢˜å•Šï¼)ï¼›äºŒæ˜¯åœ¨è®¡ç®—æ—¶è¦å°†æ‰€æœ‰çš„æ•°æ®æ‰©å¤§100å€ç„¶åå†è½¬ä¸ºintï¼Œè®¡ç®—å‡ºæœ€åç»“æœåå†ç¼©å°ä¸ºåŸæ¥çš„å€ç‡ï¼Œå¦åˆ™æ— æ³•ç”¨é’±æ•°æ¥åšèƒŒåŒ…(æµ®ç‚¹æ•°æ— æ³•ä½œä¸ºæ•°ç»„ä¸‹æ ‡)ã€‚</p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">double</span> dp[<span class="number">3000005</span>];</span><br><span class="line"><span class="keyword">int</span> m[<span class="number">35</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> q;<span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;q&gt;&gt;n)</span><br><span class="line">    &#123;    </span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">0</span>)        <span class="keyword">break</span>;</span><br><span class="line">        q*=<span class="number">100</span>;</span><br><span class="line">        <span class="keyword">int</span> qtmp=(<span class="keyword">int</span>)q;</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));<span class="built_in">memset</span>(m,<span class="number">0</span>,<span class="keyword">sizeof</span>(m));</span><br><span class="line">        <span class="keyword">bool</span> flag;<span class="keyword">int</span> idx=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        &#123;    </span><br><span class="line">            <span class="keyword">double</span> sum=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">char</span> ch;<span class="keyword">double</span> a,b,c,tmp;</span><br><span class="line">            <span class="keyword">int</span> num;</span><br><span class="line">            flag=<span class="number">1</span>;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;num;getchar();</span><br><span class="line">            a=b=c=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(num--)</span><br><span class="line">            &#123;    </span><br><span class="line">                tmp=<span class="number">0</span>;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%c:%lf"</span>,&amp;ch,&amp;tmp);<span class="keyword">char</span> c=getchar();</span><br><span class="line">                tmp*=<span class="number">100</span>;</span><br><span class="line">                <span class="keyword">if</span>(ch==<span class="string">'A'</span>)</span><br><span class="line">                    a+=tmp;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(ch==<span class="string">'B'</span>)</span><br><span class="line">                    b+=tmp;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(ch==<span class="string">'C'</span>)</span><br><span class="line">                    c+=tmp;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    flag=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">if</span>(flag)</span><br><span class="line">                    sum+=tmp;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(sum&gt;<span class="number">100000</span>||a&gt;<span class="number">60000</span>||b&gt;<span class="number">60000</span>||c&gt;<span class="number">60000</span>)</span><br><span class="line">                flag=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(flag)</span><br><span class="line">                m[idx++]=(<span class="keyword">int</span>)sum;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=idx;i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=qtmp;j&gt;=m[i];j--)</span><br><span class="line">                dp[j]=<span class="built_in">max</span>(dp[j],dp[j-m[i]]+m[i]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%.2lf\n"</span>,dp[qtmp]/<span class="number">100.0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>01èƒŒåŒ…</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>01èƒŒåŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU2067 - å°å…”çš„æ£‹ç›˜ </title>
    <url>/2019/02/24/HDU2067-%E5%B0%8F%E5%85%94%E7%9A%84%E6%A3%8B%E7%9B%98/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-2067" rel="external nofollow noopener noreferrer" target="_blank">å°å…”çš„æ£‹ç›˜</a></p>
<p>&emsp;&emsp;è¿™é“é¢˜æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€æ˜¯dpï¼ŒäºŒæ˜¯ç”¨å¡ç‰¹å…°æ•°(äº‹å®ä¸Šæˆ‘è§‰å¾—dpæ˜¯å¾ˆè‡ªç„¶çš„æƒ³æ³•)</p>
<p>&emsp;&emsp;å…ˆè¯´dpã€‚å¯¹äºæ£‹ç›˜çš„ç¬¬0è¡Œ(ä»ä¸‹å¾€ä¸Šã€ä»å·¦å¾€å³æ•°),é™¤äº†(0,0)å¤–ï¼Œæ‰€æœ‰çš„ç‚¹éƒ½åªèƒ½ç”±å·¦è¾¹èµ°æ¥ï¼›å¯¹äºæ£‹ç›˜çš„ç¬¬0åˆ—ï¼Œé™¤äº†(0,0)å¤–ï¼Œæ‰€æœ‰çš„ç‚¹éƒ½åªèƒ½ç”±å·¦è¾¹èµ°æ¥ã€‚è€Œå¯¹äºå¯¹è§’çº¿ä¸Šçš„ç‚¹ï¼Œå› ä¸ºä¸èƒ½è·¨è¶Šå¯¹è§’çº¿ï¼Œæ‰€ä»¥è¿™äº›ç‚¹éƒ½åªèƒ½ç”±ä¸‹è¾¹èµ°æ¥ã€‚è€Œä»¥ä¸Šä¸‰ç§æƒ…å†µéƒ½ä¸ç¬¦åˆçš„ç‚¹ï¼Œåˆ™å¯ä»¥ç”±å·¦è¾¹æˆ–ä¸‹è¾¹çš„ç‚¹èµ°æ¥ã€‚æ•…æœ‰ä¸€ä¸‹dpä»£ç ï¼š<br><a id="more"></a><br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">35</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=<span class="number">35</span>;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(i==j)</span><br><span class="line">                d[i][j]+=d[i<span class="number">-1</span>][j];</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                d[i][j]+=d[i<span class="number">-1</span>][j]+d[i][j<span class="number">-1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>å®Œæ•´ç‰ˆçš„ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x7fffffff</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line">ll d[<span class="number">40</span>][<span class="number">40</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dp</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    freopen(<span class="string">"rabbit.txt"</span>,<span class="string">"w"</span>,<span class="built_in">stdout</span>);</span><br><span class="line">    d[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    mst(d,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> col=<span class="number">0</span>;col&lt;=<span class="number">35</span>;col++)</span><br><span class="line">        d[<span class="number">0</span>][col]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> row=<span class="number">0</span>;row&lt;=<span class="number">35</span>;row++)</span><br><span class="line">        d[row][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">35</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=<span class="number">35</span>;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(i==j)</span><br><span class="line">                d[i][j]+=d[i<span class="number">-1</span>][j];</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                d[i][j]+=d[i<span class="number">-1</span>][j]+d[i][j<span class="number">-1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    dp();</span><br><span class="line">    ll n;</span><br><span class="line">    <span class="keyword">int</span> kase=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">35</span>;i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d %lld %lld\n"</span>,++kase,i,d[i][i]*<span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;ç¬¬äºŒç§æ–¹æ³•ï¼Œå¡ç‰¹å…°æ•°ã€‚äº‹å®ä¸Šæˆ‘å®Œå…¨ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™é¢˜å¯ä»¥ç”¨å¡ç‰¹å…°æ•°æ¥è§£ï¼Œç½‘ä¸Šçš„é¢˜è§£è¯´çš„æ˜¯â€œç»†å¿ƒè§‚å¯Ÿï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°è¿™é“é¢˜æ°å¥½ç¬¦åˆå¡ç‰¹å…°æ•°â€(â€¦â€¦)ã€‚é‚£æˆ‘ä»¬å°±ç”¨ä¸€ä¸‹å§â€¦â€¦</p>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x7fffffff</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line">ll cata[<span class="number">40</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_catalan</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cata[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">35</span>;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;=i<span class="number">-1</span>;j++)</span><br><span class="line">            cata[i]+=cata[j]*cata[i-j<span class="number">-1</span>];            <span class="comment">//æŠ„å…¬å¼ã€‚ã€‚ã€‚ </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">int</span> kase=<span class="number">0</span>;</span><br><span class="line">    mst(cata,<span class="number">0</span>);get_catalan();</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&amp;&amp;n!=<span class="number">-1</span>)</span><br><span class="line">    &#123;    </span><br><span class="line">        kase++;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;kase&lt;&lt;<span class="string">" "</span>&lt;&lt;n&lt;&lt;<span class="string">" "</span>&lt;&lt;<span class="number">2</span>*cata[n]&lt;&lt;<span class="built_in">endl</span>;         </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;å…³äºå¡ç‰¹å…°æ•°ï¼Œå¯ä»¥çœ‹è¿™ä¸ªï¼š</p>
<p><img src="https://pic.superbed.cn/item/5c72ad323a213b041776b839" alt></p>
<p><img src="https://pic.superbed.cn/item/5c72ad563a213b041776b9f8" alt></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>ç»„åˆæ•°å­¦</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>ç»„åˆæ•°å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU2191 - æ‚¼å¿µ512æ±¶å·å¤§åœ°éœ‡é‡éš¾åŒèƒâ€”â€”çæƒœç°åœ¨ï¼Œæ„Ÿæ©ç”Ÿæ´»</title>
    <url>/2019/02/22/HDU2191-%E6%82%BC%E5%BF%B5512%E6%B1%B6%E5%B7%9D%E5%A4%A7%E5%9C%B0%E9%9C%87%E9%81%87%E9%9A%BE%E5%90%8C%E8%83%9E%E2%80%94%E2%80%94%E7%8F%8D%E6%83%9C%E7%8E%B0%E5%9C%A8%EF%BC%8C%E6%84%9F%E6%81%A9%E7%94%9F%E6%B4%BB/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-2191" rel="external nofollow noopener noreferrer" target="_blank">æ‚¼å¿µ512æ±¶å·å¤§åœ°éœ‡é‡éš¾åŒèƒâ€”â€”çæƒœç°åœ¨ï¼Œæ„Ÿæ©ç”Ÿæ´»</a></p>
<p>&emsp;&emsp;ç›´æ¥å¥—ç”¨å¤šé‡èƒŒåŒ…æ¨¡æ¿å³å¯</p>
<a id="more"></a>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e4</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> v[<span class="number">105</span>],val[<span class="number">105</span>],k[<span class="number">105</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">105</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">zero_one</span><span class="params">(<span class="keyword">int</span> cost,<span class="keyword">int</span> val,<span class="keyword">int</span> vtot)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=vtot;j&gt;=cost;j--)</span><br><span class="line">        dp[j]=<span class="built_in">max</span>(dp[j],dp[j-cost]+val);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">complete</span><span class="params">(<span class="keyword">int</span> cost,<span class="keyword">int</span> val,<span class="keyword">int</span> vtot)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=cost;j&lt;=vtot;j++)</span><br><span class="line">        dp[j]=<span class="built_in">max</span>(dp[j],dp[j-cost]+val);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">multiple</span><span class="params">(<span class="keyword">int</span> cost,<span class="keyword">int</span> val,<span class="keyword">int</span> num,<span class="keyword">int</span> vtot)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> k=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(cost*num&gt;=vtot)</span><br><span class="line">    &#123;</span><br><span class="line">        complete(cost,val,vtot);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(k&lt;num)</span><br><span class="line">    &#123;</span><br><span class="line">        zero_one(k*cost,k*val,vtot);</span><br><span class="line">        num-=k;</span><br><span class="line">        k&lt;&lt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    zero_one(num*cost,num*val,vtot);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;    </span><br><span class="line">        mst(dp,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> n,m;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;v[i]&gt;&gt;val[i]&gt;&gt;k[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">            multiple(v[i],val[i],k[i],n);</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;dp[n]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>å¤šé‡èƒŒåŒ…</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>å¤šé‡èƒŒåŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU2049 - ä¸å®¹æ˜“ç³»åˆ—ä¹‹(4)â€”â€”è€ƒæ–°éƒ</title>
    <url>/2019/02/24/HDU2049-%E4%B8%8D%E5%AE%B9%E6%98%93%E7%B3%BB%E5%88%97%E4%B9%8B-4-%E2%80%94%E2%80%94%E8%80%83%E6%96%B0%E9%83%8E/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-2049" rel="external nofollow noopener noreferrer" target="_blank">ä¸å®¹æ˜“ç³»åˆ—ä¹‹(4)â€”â€”è€ƒæ–°éƒ</a></p>
<p>&emsp;&emsp;é”™æ’å…¬å¼çš„åº”ç”¨ã€‚å› ä¸ºnä¸ªæ–°éƒä¸­æœ‰mä¸ªâ€œé”™æ’â€äº†ï¼Œæ‰€ä»¥å…ˆç”¨C(n,m)æ±‚å‡ºä»nä¸ªæ–°éƒä¸­æŒ‘mä¸ªå‡ºæ¥çš„æ–¹æ¡ˆæ•°ï¼Œå†ä¹˜ä»¥é”™æ’æ•°å³å¯ã€‚</p>
<p>&emsp;&emsp;å…³äºé”™æ’å…¬å¼ï¼Œå¯çœ‹è¿™é‡Œï¼š</p>
<p><img src="https://pic.superbed.cn/item/5c72aa803a213b0417769896" alt></p>
<p><img src="https://pic.superbed.cn/item/5c72aaa23a213b0417769b58" alt><br><a id="more"></a></p>
<p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x7fffffff</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">5</span>;</span><br><span class="line">ll combi[<span class="number">25</span>];</span><br><span class="line">ll d[<span class="number">25</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">make_com</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    combi[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        combi[i]=combi[i<span class="number">-1</span>]*(n-i+<span class="number">1</span>)/i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">make_mistake</span><span class="params">(<span class="keyword">int</span> m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    d[<span class="number">1</span>]=<span class="number">0</span>,d[<span class="number">2</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">3</span>;i&lt;=m;i++)</span><br><span class="line">        d[i]=(i<span class="number">-1</span>)*(d[i<span class="number">-1</span>]+d[i<span class="number">-2</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;    </span><br><span class="line">        mst(combi,<span class="number">0</span>);mst(d,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> n,m;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">        make_com(n);make_mistake(m);</span><br><span class="line">        ll ans=combi[m]*d[m];</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>ç»„åˆæ•°å­¦</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>ç»„åˆæ•°å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU1969 - Pie</title>
    <url>/2019/02/22/HDU1969-Pie/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-1969" rel="external nofollow noopener noreferrer" target="_blank">Pie</a></p>
<p>&emsp;&emsp;äºŒåˆ†ç­”æ¡ˆçš„ç»å…¸é¢˜ã€‚æ‰€è°“äºŒåˆ†ç­”æ¡ˆï¼Œå³åœ¨æ•´ä¸ªå¯èƒ½çš„ç­”æ¡ˆç©ºé—´å†…è¿›è¡ŒäºŒåˆ†æ“ä½œï¼Œæ¯æ¬¡éƒ½æ£€éªŒä¸€ä¸‹midï¼Œå¹¶æ ¹æ®æ£€éªŒç»“æœè°ƒæ•´lefå’Œrigçš„å€¼ã€‚</p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> pi acos(-1.0)        <span class="comment">//ç”¨åä¸‰è§’å‡½æ•°è®¡ç®—Pi</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">double</span> arr[<span class="number">10005</span>];</span><br><span class="line"><span class="keyword">int</span> f,n;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">double</span> a,<span class="keyword">double</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a&lt;b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">double</span> todo)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        sum+=(<span class="keyword">int</span>)(arr[i]/todo);        <span class="comment">//è®¡ç®—å½“å‰ä½“ç§¯ä¸‹èƒ½åˆ†å‡ºå¤šå°‘ä»½æ´¾</span></span><br><span class="line">    <span class="keyword">if</span>(sum&gt;=f)    <span class="comment">//å¦‚æœå¯ä»¥åˆ†å‡ºä¸å°‘äºf(fåœ¨mainä¸­ä¿®æ”¹è¿‡ï¼Œf=f+1)å—ï¼Œåˆ™å½“å‰ä½“ç§¯å¯è¡Œ</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;f;</span><br><span class="line">        f+=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;arr[i];</span><br><span class="line">            arr[i]=arr[i]*arr[i]*pi;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(arr,arr+n,cmp);</span><br><span class="line">        <span class="keyword">double</span> l=<span class="number">0</span>;<span class="keyword">double</span> r=arr[n<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">double</span> mid=l+((r-l)/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">while</span>(r-l&gt;<span class="number">1e-6</span>)                <span class="comment">//æ³¨æ„ç²¾åº¦</span></span><br><span class="line">        &#123;</span><br><span class="line">            mid=l+((r-l)/<span class="number">2</span>);</span><br><span class="line">            <span class="keyword">if</span>(check(mid))    <span class="comment">//æœ‰äº›æ—¶å€™ä¸ä¸€å®šæ˜¯l=midæˆ–r=midï¼Œæœ‰å¯èƒ½æ˜¯l=mid+1æˆ–</span></span><br><span class="line">                l=mid;       <span class="comment">//r=mid-1ï¼Œè¿™è¦æ ¹æ®æƒ…å†µè€Œå®šã€‚ä½†ä¸€èˆ¬è€Œè¨€ï¼Œå¦‚æœæ˜¯æµ®ç‚¹æ•°ï¼Œ              </span></span><br><span class="line">            <span class="keyword">else</span>             <span class="comment">//åªéœ€l=midæˆ–r=mid</span></span><br><span class="line">                r=mid;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%.4lf\n"</span>,mid);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>äºŒåˆ†</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>äºŒåˆ†</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU2222 &amp; HDU2896 - ACè‡ªåŠ¨æœºæ¨¡æ¿</title>
    <url>/2019/08/31/HDU2222-HDU2896-AC%E8%87%AA%E5%8A%A8%E6%9C%BA%E6%A8%A1%E6%9D%BF/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/H65722373b7674099b56790ec509eb5a8B.jpg" alt></p>
<a id="more"></a>
<p>å±¯æ¿å­å±¯æ¿å­â€¦â€¦</p>
<p><a href="https://cn.vjudge.net/problem/HDU-2222" rel="external nofollow noopener noreferrer" target="_blank">HDU2222 - Keywords Search</a></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Trie</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> next[<span class="number">500005</span>][<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">int</span> fail[<span class="number">500005</span>];</span><br><span class="line">    <span class="keyword">int</span> ed[<span class="number">500005</span>];</span><br><span class="line">    <span class="keyword">int</span> rt,L;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; que;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">newnode</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">26</span>;i++)&#123;</span><br><span class="line">            next[L][i]=<span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ed[L]=<span class="number">0</span>;<span class="keyword">int</span> tmpL=L;L++;</span><br><span class="line">        <span class="keyword">return</span> tmpL;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">        L=<span class="number">0</span>;</span><br><span class="line">        rt=newnode();</span><br><span class="line">        <span class="keyword">while</span>(!que.empty())    que.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert_</span><span class="params">(<span class="built_in">string</span> str)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len=str.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">int</span> cur=rt;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)&#123;</span><br><span class="line">            <span class="keyword">char</span> ch=str[i];</span><br><span class="line">            <span class="keyword">if</span>(next[cur][ch-<span class="string">'a'</span>]==<span class="number">-1</span>)&#123;</span><br><span class="line">                next[cur][ch-<span class="string">'a'</span>]=newnode();</span><br><span class="line">            &#125;</span><br><span class="line">            cur=next[cur][ch-<span class="string">'a'</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        ed[cur]++;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">()</span></span>&#123;</span><br><span class="line">        fail[rt]=rt;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">26</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(next[rt][i]==<span class="number">-1</span>)&#123;</span><br><span class="line">                next[rt][i]=rt;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                fail[next[rt][i]]=rt;</span><br><span class="line">                que.push(next[rt][i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!que.empty())&#123;</span><br><span class="line">            <span class="keyword">int</span> u=que.front();</span><br><span class="line">            que.pop();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">26</span>;i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(next[u][i]==<span class="number">-1</span>)&#123;</span><br><span class="line">                    next[u][i]=next[fail[u]][i];</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    fail[next[u][i]]=next[fail[u]][i];</span><br><span class="line">                    que.push(next[u][i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">queue</span><span class="params">(<span class="built_in">string</span> str)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len=str.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">int</span> now=rt;</span><br><span class="line">        <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)&#123;</span><br><span class="line">            now=next[now][str[i]-<span class="string">'a'</span>];</span><br><span class="line">            <span class="keyword">int</span> tmp=now;</span><br><span class="line">            <span class="keyword">while</span>(tmp!=rt)&#123;</span><br><span class="line">                ans+=ed[tmp];</span><br><span class="line">                ed[tmp]=<span class="number">0</span>;</span><br><span class="line">                tmp=fail[tmp];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"i = "</span>&lt;&lt;i&lt;&lt;<span class="string">" "</span>&lt;&lt;ed[i]&lt;&lt;<span class="string">"\n"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">Trie acmaton;        <span class="comment">//å†…éƒ¨æœ‰å¤§æ•°ç»„ï¼Œéœ€è¦å¼€å…¨å±€å˜é‡ </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="keyword">int</span> n;<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        acmaton.init();</span><br><span class="line">        <span class="built_in">string</span> tmps;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;tmps;acmaton.insert_(tmps);</span><br><span class="line">        &#125;</span><br><span class="line">        acmaton.build();</span><br><span class="line"><span class="comment">//        acmaton.show();</span></span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;tmps;</span><br><span class="line">        <span class="keyword">int</span> ans=acmaton.<span class="built_in">queue</span>(tmps);</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vjudge.net/problem/HDU-2896" rel="external nofollow noopener noreferrer" target="_blank">HDU2896 - ç—…æ¯’ä¾µè¢­</a></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ansvec;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Trie</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> next[<span class="number">100005</span>][<span class="number">128</span>];</span><br><span class="line">    <span class="keyword">int</span> fail[<span class="number">100005</span>];</span><br><span class="line">    <span class="keyword">int</span> edstr[<span class="number">100005</span>];</span><br><span class="line">    <span class="keyword">int</span> rt,L;</span><br><span class="line">    <span class="keyword">int</span> scnt;    <span class="comment">//å­—ç¬¦ä¸²æ•°é‡ </span></span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; que;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">newnode</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">128</span>;i++)&#123;</span><br><span class="line">            next[L][i]=<span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        edstr[L]=<span class="number">0</span>;<span class="keyword">int</span> tmpL=L;L++;</span><br><span class="line">        <span class="keyword">return</span> tmpL;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">        L=<span class="number">0</span>;scnt=<span class="number">0</span>;</span><br><span class="line">        rt=newnode();</span><br><span class="line">        <span class="keyword">while</span>(!que.empty())    que.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert_</span><span class="params">(<span class="keyword">char</span> str[])</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len=<span class="built_in">strlen</span>(str);</span><br><span class="line">        <span class="keyword">int</span> cur=rt;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)&#123;</span><br><span class="line">            <span class="keyword">char</span> ch=str[i];</span><br><span class="line">            <span class="keyword">if</span>(next[cur][ch]==<span class="number">-1</span>)&#123;</span><br><span class="line">                next[cur][ch]=newnode();</span><br><span class="line">            &#125;</span><br><span class="line">            cur=next[cur][ch];</span><br><span class="line">        &#125;</span><br><span class="line">        edstr[cur]=++scnt;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">()</span></span>&#123;</span><br><span class="line">        fail[rt]=rt;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">128</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(next[rt][i]==<span class="number">-1</span>)&#123;</span><br><span class="line">                next[rt][i]=rt;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                fail[next[rt][i]]=rt;</span><br><span class="line">                que.push(next[rt][i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!que.empty())&#123;</span><br><span class="line">            <span class="keyword">int</span> u=que.front();</span><br><span class="line">            que.pop();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">128</span>;i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(next[u][i]==<span class="number">-1</span>)&#123;</span><br><span class="line">                    next[u][i]=next[fail[u]][i];</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    fail[next[u][i]]=next[fail[u]][i];</span><br><span class="line">                    que.push(next[u][i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">(<span class="keyword">char</span> str[])</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len=<span class="built_in">strlen</span>(str);</span><br><span class="line">        <span class="keyword">int</span> now=rt;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)&#123;</span><br><span class="line">            now=next[now][str[i]];</span><br><span class="line">            <span class="keyword">int</span> tmp=now;</span><br><span class="line">            <span class="keyword">while</span>(tmp!=rt)&#123;</span><br><span class="line">                <span class="keyword">if</span>(edstr[tmp]!=<span class="number">0</span>)</span><br><span class="line">                    ansvec.push_back(edstr[tmp]);</span><br><span class="line">                tmp=fail[tmp];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"i = "</span>&lt;&lt;i&lt;&lt;<span class="string">" edstr[i] = "</span>&lt;&lt;edstr[i]&lt;&lt;<span class="string">"\n"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">Trie acmaton;        <span class="comment">//å†…éƒ¨æœ‰å¤§æ•°ç»„ï¼Œéœ€è¦å¼€å…¨å±€å˜é‡ </span></span><br><span class="line"><span class="keyword">char</span> cha[<span class="number">205</span>];</span><br><span class="line"><span class="keyword">char</span> web[<span class="number">10005</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)!=EOF)&#123;</span><br><span class="line">        acmaton.init();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>,cha);acmaton.insert_(cha);</span><br><span class="line">        &#125;</span><br><span class="line">        acmaton.build();</span><br><span class="line">        <span class="keyword">int</span> m;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;m);</span><br><span class="line">        <span class="keyword">int</span> webtot=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">            ansvec.<span class="built_in">clear</span>();</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>,web);</span><br><span class="line">    <span class="comment">//        printf("web: %s\n",web);</span></span><br><span class="line">            acmaton.query(web);</span><br><span class="line">            <span class="keyword">int</span> cntt=ansvec.<span class="built_in">size</span>();</span><br><span class="line">    <span class="comment">//        debug;</span></span><br><span class="line">            <span class="keyword">if</span>(cntt&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                sort(ansvec.<span class="built_in">begin</span>(),ansvec.<span class="built_in">end</span>());</span><br><span class="line">                webtot++;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"web %d: "</span>,i+<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">int</span> sz=ansvec.<span class="built_in">size</span>();</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;sz;i++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(i==sz<span class="number">-1</span>)    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ansvec[i]);</span><br><span class="line">                    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%d "</span>,ansvec[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="comment">//    cout&lt;&lt;"total: "&lt;&lt;webtot&lt;&lt;"\n";//</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"total: %d\n"</span>,webtot);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>å­—ç¬¦ä¸²</category>
        <category>ACè‡ªåŠ¨æœº</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>ACè‡ªåŠ¨æœº</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU2376 &amp; HDU5723</title>
    <url>/2019/04/22/HDU2376-HDU5723/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/HTB1l7AwSCzqK1RjSZPxq6A4tVXaO.jpg" alt></p>
<p><del>(å°é¢å›¾ä¸å†…å®¹å®Œå…¨æ— å…³ï¼Œåªæ˜¯å› ä¸ºå›¾å¥½çœ‹æ‰æ”¾ä¸Šæ¥)</del><br><a id="more"></a></p>
<p>è¿™æ¬¡æ‰“ç®—æŠŠHDU3276å’ŒHDU5723ä¸¤é“é¢˜æ”¾åœ¨ä¸€èµ·è®²ï¼Œä¸»è¦æ˜¯å› ä¸ºè¿™ä¸¤é“é¢˜éƒ½æ¶‰åŠåˆ°äº†æ±‚æ ‘ä¸Šä»»æ„ä¸¤ç‚¹çš„è·ç¦»çš„æ€»å’Œï¼›HDU5723é™¤æ­¤ä¹‹å¤–è¿˜å¤šäº†ä¸€ç‚¹å°±æ˜¯æ±‚æœ€å°ç”Ÿæˆæ ‘ã€‚ä¸è¿‡è®²çœŸï¼Œä¸ªäººè®¤ä¸ºå…¶å®HDU5723å°†å¯¹è¿™ä¸¤è€…èåˆå¾—å¹¶ä¸å¥½ï¼Œæ±‚æœ€å°ç”Ÿæˆæ ‘ä»¥åŠæ±‚è·ç¦»å’Œè¿™ä¸¤ä¸ªä¹‹é—´çš„è”ç³»æœ‰ç‚¹ç‰µå¼ºâ€¦â€¦emmmmmmï¼Œæ¯•ç«Ÿåªæ˜¯ç­¾åˆ°é¢˜ï¼Ÿ</p>
<p>å…ˆè¯´<a href="https://cn.vjudge.net/problem/HDU-2376" rel="external nofollow noopener noreferrer" target="_blank">HDU3276</a></p>
<p>ç›´æ¥æšä¸¾æ¯ä¸€ä¸ªç‚¹å¯¹ç„¶åå¯¹ç‚¹å¯¹dfsè‚¯å®šæ˜¯è¡Œä¸é€šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆè€ƒè™‘ï¼šå¯¹äºä¸€æ¡è¾¹è€Œè¨€ï¼Œå®ƒå¯¹äºè·ç¦»æ€»å’Œçš„â€œè´¡çŒ®â€ï¼Œå³ä¸ºå®ƒè¢«èµ°è¿‡çš„æ¬¡æ•°ä¹˜ä»¥å®ƒçš„é•¿åº¦ã€‚è€Œå®ƒè¢«èµ°è¿‡çš„æ¬¡æ•°ï¼Œå°±æ˜¯å®ƒç¬¦åˆè¿™æ ·çš„æ¡ä»¶çš„ç‚¹å¯¹çš„ä¸ªæ•°ï¼šä¸€ä¸ªç‚¹åœ¨è¿™æ¡è¾¹çš„ä¸€ä¾§ï¼Œå¦ä¸€ä¸ªç‚¹åœ¨è¿™æ¡è¾¹çš„å¦ä¸€ä¾§ã€‚ç”±æ­¤å³å¯æ±‚å‡ºè¿™æ¡è¾¹çš„è´¡çŒ®ã€‚æ€»çš„è·ç¦»ä¹‹å’Œå³ä¸ºæ‰€æœ‰è¾¹çš„è´¡çŒ®çš„æ€»å’Œã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e4</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    ll wei;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">vector</span>&lt;edge&gt; gra[maxn];</span><br><span class="line"><span class="keyword">double</span> ans=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line">ll sum[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> fa)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum[rt]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;gra[rt].<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> son=gra[rt][i].to;</span><br><span class="line">        <span class="keyword">if</span>(son==fa)        <span class="keyword">continue</span>;</span><br><span class="line">        edge&amp; e=gra[rt][i];</span><br><span class="line">        dfs(son,rt);</span><br><span class="line">        sum[rt]+=sum[son];</span><br><span class="line">        ans+=sum[son]*((ll)n-sum[son])*e.wei;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        ans=<span class="number">0</span>;<span class="built_in">memset</span>(sum,<span class="number">0</span>,<span class="keyword">sizeof</span>(sum));</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            gra[i].<span class="built_in">clear</span>();        <span class="comment">//è®°å¾—æ¸…ç©ºï¼Œå¦åˆ™å¯èƒ½mle</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> a,b;ll d;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d %lld"</span>,&amp;a,&amp;b,&amp;d);</span><br><span class="line">            gra[a].push_back(edge&#123;b,d&#125;);</span><br><span class="line">            gra[b].push_back(edge&#123;a,d&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(<span class="number">0</span>,<span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">double</span> tot=ans/(((<span class="keyword">double</span>)(n<span class="number">-1</span>)*(<span class="keyword">double</span>)n)/<span class="number">2</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%.6lf\n"</span>,tot);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note warning">
    <p>æ³¨æ„é¢˜ç›®ä¸­çš„ç²¾åº¦æ˜¯10<sup>-6</sup>!æ‰€ä»¥è¦%.6lf!å¦å¤–å› ä¸ºè¿™é¢˜æ˜¯spjï¼Œæ‰€ä»¥è™½ç„¶çœ‹èµ·æ¥æ ·ä¾‹æ²¡è¿‡ï¼Œå…¶å®æ²¡å…³ç³»</p>
</div>

<p>ç„¶åæ˜¯<a href="https://cn.vjudge.net/problem/HDU-5723" rel="external nofollow noopener noreferrer" target="_blank">HDU5723</a></p>
<p>å…¶å®åªæ˜¯åœ¨ä¸Šé¢é¢˜ç›®çš„åŸºç¡€ä¸Šå¤šäº†ä¸ªæ±‚æœ€å°ç”Ÿæˆæ ‘ï¼Œkruskalæ±‚ä¸€ä¸‹å³å¯ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> n,m; </span><br><span class="line"><span class="keyword">int</span> pre[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> from;</span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    ll wei;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tree[maxn];</span><br><span class="line">edge arr[maxn*<span class="number">10</span>];</span><br><span class="line">ll sum[maxn];</span><br><span class="line">ll ans; </span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(edge a,edge b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.wei&lt;b.wei;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        pre[i]=i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findr</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(pre[x]==x)</span><br><span class="line">        <span class="keyword">return</span> pre[x];</span><br><span class="line">    <span class="keyword">return</span> pre[x]=findr(pre[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">kruskal</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll rsl=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> num=<span class="number">0</span>;</span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> fx=findr(arr[i].from);</span><br><span class="line">        <span class="keyword">int</span> fy=findr(arr[i].to);</span><br><span class="line">        <span class="keyword">if</span>(fx!=fy)</span><br><span class="line">        &#123;</span><br><span class="line">            pre[fx]=fy;</span><br><span class="line">            rsl+=arr[i].wei;</span><br><span class="line">            num++;</span><br><span class="line">            tree[arr[i].from].push_back(i);</span><br><span class="line">            tree[arr[i].to].push_back(i); </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(num==n<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> rsl;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">exp=1/(n*(n-1))*(tot_len*2)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> fa)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum[rt]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;tree[rt].<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        <span class="keyword">int</span>&amp; idx=tree[rt][i];        <span class="comment">//treeæ•°ç»„ä¸­å­˜çš„æ˜¯è¾¹çš„ç¼–å· </span></span><br><span class="line">        <span class="keyword">int</span> son;</span><br><span class="line">        <span class="keyword">if</span>(rt==arr[idx].from)</span><br><span class="line">            son=arr[idx].to;</span><br><span class="line">        <span class="keyword">if</span>(rt==arr[idx].to)</span><br><span class="line">            son=arr[idx].from;</span><br><span class="line">        <span class="keyword">if</span>(son==fa)        <span class="keyword">continue</span>;</span><br><span class="line">        dfs(son,rt);</span><br><span class="line">        sum[rt]+=sum[son];</span><br><span class="line">        ans+=(ll)((sum[son]*((ll)n-sum[son]))*(arr[idx].wei));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        ans=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(sum,<span class="number">0</span>,<span class="keyword">sizeof</span>(sum));</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;m);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)        tree[i].<span class="built_in">clear</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> x,y;ll w;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d %lld"</span>,&amp;x,&amp;y,&amp;w);</span><br><span class="line">            arr[i]=edge&#123;x,y,w&#125;;</span><br><span class="line">        &#125;    </span><br><span class="line">        sort(arr+<span class="number">1</span>,arr+m+<span class="number">1</span>,cmp);</span><br><span class="line">        ll min_cost=kruskal();</span><br><span class="line">        dfs(<span class="number">1</span>,<span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">double</span> <span class="built_in">exp</span>=(<span class="keyword">double</span>)ans*(<span class="number">2</span>/((<span class="keyword">double</span>)n*(<span class="keyword">double</span>)(n<span class="number">-1</span>)));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld %.2lf\n"</span>,min_cost,<span class="built_in">exp</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info">
    <p>treeå­˜çš„æ˜¯è¾¹åœ¨arrä¸­çš„ç¼–å·</p>
</div>]]></content>
      <categories>
        <category>ACM</category>
        <category>å›¾è®º</category>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>å›¾è®º</tag>
        <tag>æœ€å°ç”Ÿæˆæ ‘</tag>
        <tag>å¹¶æŸ¥é›†</tag>
        <tag>æ ‘ä¸Šæ±‚æ‰€æœ‰ç‚¹å¯¹çš„è·ç¦»çš„å’Œ</tag>
        <tag>dfs</tag>
        <tag>kruskal</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU2639 - Bone Collector II</title>
    <url>/2019/02/17/HDU2639-Bone-Collector-II/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-2639" rel="external nofollow noopener noreferrer" target="_blank">Bone Collector II</a></p>
<p>&emsp;&emsp;è¿™é“é¢˜ä¸Bone Collectorçš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œè¿™é“é¢˜æ±‚çš„æ˜¯ç¬¬kä¼˜è§£ï¼Œè€Œéæœ€ä¼˜è§£ã€‚é‚£åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p>
<p>&emsp;&emsp;é¦–å…ˆï¼Œ01èƒŒåŒ…çš„æ ¸å¿ƒæ–¹ç¨‹å¼dp[j] = max(dp[j] , dp[j - w[i]] + v[i]) ,ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸€ä¸ªæ–°çŠ¶æ€éƒ½æ˜¯ç”±dp[j]æˆ–dp[j - w[i]] + v[i]è½¬ç§»æ¥çš„ã€‚æˆ‘ä»¬é¦–å…ˆç”¨ä¸€ä¸ªæ•°ç»„a[]å’Œä¸€ä¸ªæ•°ç»„b[]å°†è¿™ä¸¤ä¸ªçŠ¶æ€å­˜èµ·æ¥ï¼Œç„¶åå†å¾ªç¯æ±‚å¾—ç¬¬kä¼˜è§£ã€‚è¿™ä¸ªè¿‡ç¨‹æœ‰ç‚¹åƒæ˜¯ï¼Œä¸€ä¸ªå¹´çº§æœ‰ä¸¤ä¸ªç­ï¼Œæˆ‘éœ€è¦çŸ¥é“å…¨å¹´çº§çš„å‰ååæ˜¯è°ï¼Œé‚£æˆ‘å°±å¯ä»¥é€šè¿‡å¾—åˆ°ç¬¬ä¸€ä¸ªç­çš„å‰åæ˜¯è°å’Œç¬¬äºŒä¸ªç­çš„å‰åæ˜¯è°æ¥æ±‚å¾—å…¨å¹´çº§çš„å‰åã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">int</span> val[<span class="number">1005</span>];</span><br><span class="line"><span class="keyword">int</span> wei[<span class="number">1005</span>];</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">1005</span>],b[<span class="number">1005</span>]; </span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1005</span>][<span class="number">31</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;    </span><br><span class="line">        mst(dp,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> n,vtot,k;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>,&amp;n,&amp;vtot,&amp;k);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)        <span class="built_in">cin</span>&gt;&gt;val[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)        <span class="built_in">cin</span>&gt;&gt;wei[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=vtot;j&gt;=wei[i];j--)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> q=<span class="number">0</span>;q&lt;k;q++)</span><br><span class="line">                &#123;</span><br><span class="line">                    a[q]=dp[j][q];</span><br><span class="line">                    b[q]=dp[j-wei[i]][q]+val[i];</span><br><span class="line">                &#125;</span><br><span class="line">                a[k]=<span class="number">-1</span>;b[k]=<span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">int</span> idx1=<span class="number">0</span>;<span class="keyword">int</span> idx2=<span class="number">0</span>;<span class="keyword">int</span> idx3=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">while</span>((idx1&lt;k||idx2&lt;k)&amp;&amp;idx3&lt;k)</span><br><span class="line">                &#123;</span><br><span class="line">                    a[idx1]&gt;b[idx2]?dp[j][idx3]=a[idx1++]:dp[j][idx3]=b[idx2++];</span><br><span class="line">                    <span class="keyword">if</span>(idx3==<span class="number">0</span>||dp[j][idx3<span class="number">-1</span>]!=dp[j][idx3])        <span class="comment">//è¿™ä¸ªåˆ¤æ–­æ˜¯é˜²æ­¢æœ‰é‡å¤æ•°æ®</span></span><br><span class="line">                        idx3++; </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;dp[vtot][k<span class="number">-1</span>]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>01èƒŒåŒ…</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>01èƒŒåŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU2546 - é¥­å¡</title>
    <url>/2019/02/18/HDU2546-%E9%A5%AD%E5%8D%A1/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-2546" rel="external nofollow noopener noreferrer" target="_blank">é¥­å¡</a></p>
<p>&emsp;&emsp;ä¸€é“01èƒŒåŒ…çš„é¢˜ç›®ï¼Œç‰¹æ®Šä¹‹å¤„åœ¨äºè¦å…ˆæ‹¿å‡º5å…ƒç”¨æ¥ä¹°æœ€è´µçš„ä¸œè¥¿ï¼Œå‰©ä¸‹çš„é’±å³ä¸ºèƒŒåŒ…ï¼Œç„¶åå°±æ˜¯æ™®é€šçš„01èƒŒåŒ…äº†ã€‚</p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1005</span>;</span><br><span class="line"><span class="keyword">int</span> pri[maxn];</span><br><span class="line"><span class="keyword">int</span> dp[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)!=EOF&amp;&amp;n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(pri,<span class="number">0</span>,<span class="keyword">sizeof</span>(pri));</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;pri[i]);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;m);</span><br><span class="line">        <span class="keyword">if</span>(m&lt;<span class="number">5</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,m);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> vtot=m<span class="number">-5</span>;</span><br><span class="line">        sort(pri+<span class="number">1</span>,pri+<span class="number">1</span>+n);        <span class="comment">//è¦ä½™é¢æœ€å°ï¼Œåˆ™éœ€è¦å…ˆä¹°ä¾¿å®œçš„ï¼Œå†ä¹°è´µçš„ </span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=vtot;j&gt;=pri[i];j--)</span><br><span class="line">                dp[j]=<span class="built_in">max</span>(dp[j],dp[j-pri[i]]+pri[i]);</span><br><span class="line">        <span class="keyword">int</span> ans=m-pri[n]-dp[vtot];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>01èƒŒåŒ…</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>01èƒŒåŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU2647 - Reward</title>
    <url>/2019/03/21/HDU2647-Reward/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-2647" rel="external nofollow noopener noreferrer" target="_blank">Reward</a><br></p>
<p>å…¶å®å°±æ˜¯ç”¨æ‹“è¡¥æ’åºåˆ¤ä¸€ä¸‹ç¯ï¼Œä½†éœ€è¦æ³¨æ„ä¸¤ç‚¹ï¼šä¸€æ˜¯åå‘å»ºå›¾ã€‚è¿™ä¸»è¦æ˜¯ä¸ºäº†è®¡ç®—å¥–é‡‘æ—¶çš„æ–¹ä¾¿ï¼Œå› ä¸ºåå‘å»ºå›¾å°±å¯ä»¥ä»å¥–é‡‘æœ€å°‘çš„é‚£ä¸ªäººå‡ºå‘ï¼Œéå†æ•´ä¸ªå›¾ï¼Œé€æ­¥ç´¯åŠ å¾—åˆ°ç­”æ¡ˆï¼›å¦‚æœæ˜¯æ­£å‘å»ºå›¾ï¼Œåˆ™éœ€è¦å…ˆæ‰¾åˆ°å¥–é‡‘æœ€å°‘çš„é‚£ä¸ªäººï¼Œå°†ä»–ä½œä¸ºèµ·ç‚¹â€¦â€¦äºŒæ˜¯è¿™é“é¢˜å…¶å®æ˜¯æ ¹æ®æ¯ä¸ªç‚¹(äºº)åœ¨å›¾ä¸­çš„æ·±åº¦æ¥ç¡®å®šæ¯ä¸ªç‚¹(äºº)çš„å¥–é‡‘çš„ã€‚å·²ä¸‹å›¾ä¸ºä¾‹ï¼š</p>
<p><br></p>
<center>![](https://pic.superbed.cn/item/5c9392d03a213b0417d8b072)</center>

<p>3å’Œ4çš„æ·±åº¦æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥ä¸¤è€…çš„å¥–é‡‘ä¹Ÿä¸€æ ·ã€‚å› æ­¤ï¼Œä¸èƒ½ç®€å•åœ°è®¤ä¸ºï¼Œå¦‚æœå¯ä»¥æ‹“è¡¥æ’åºäº†ï¼Œç­”æ¡ˆå°±æ˜¯888 + (n * (n - 1)) / 2</p>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e4</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> head[<span class="number">2</span>*maxn];</span><br><span class="line"><span class="keyword">int</span> n,m;        <span class="comment">//nä¸ªç‚¹,mæ¡è¾¹ </span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> next;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">int</span> tot;</span><br><span class="line"><span class="keyword">int</span> maxi; </span><br><span class="line">edge edges[<span class="number">2</span>*maxn];</span><br><span class="line"><span class="keyword">int</span> deg[<span class="number">2</span>*maxn];</span><br><span class="line"><span class="keyword">int</span> dep[<span class="number">2</span>*maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_edge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edges[tot].to=v;</span><br><span class="line">    edges[tot].next=head[u];</span><br><span class="line">    head[u]=tot++;</span><br><span class="line">    deg[v]++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">topo</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; que;</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(deg[i]==<span class="number">0</span>)&#123;</span><br><span class="line">            que.push(i);</span><br><span class="line">            deg[i]--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!que.empty())</span><br><span class="line">    &#123;    </span><br><span class="line">        cnt++;</span><br><span class="line">        <span class="keyword">int</span> fro=que.front();</span><br><span class="line">        ans+=(<span class="number">888</span>+dep[fro]);</span><br><span class="line">        que.pop();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=head[fro];i!=<span class="number">-1</span>;i=edges[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> ito=edges[i].to;</span><br><span class="line">            deg[ito]--;</span><br><span class="line">            <span class="keyword">if</span>(deg[ito]==<span class="number">0</span>)&#123;</span><br><span class="line">                dep[ito]=dep[fro]+<span class="number">1</span>;</span><br><span class="line">                que.push(ito);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cnt==n)</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;m)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        tot=<span class="number">0</span>;mst(head,<span class="number">-1</span>);</span><br><span class="line">        mst(deg,<span class="number">0</span>);mst(dep,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> a,b;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line">            add_edge(b,a);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> rsl=topo();</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;rsl&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>å›¾è®º</category>
        <category>æ‹“è¡¥æ’åº</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>å›¾è®º</tag>
        <tag>æ‹“è¡¥æ’åº</tag>
        <tag>åå‘å»ºå›¾</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU2464 - A Pair of Graphs</title>
    <url>/2019/04/10/HDU2464-A-Pair-of-Graphs/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-2464" rel="external nofollow noopener noreferrer" target="_blank">A Pair of Graphs</a></p>
<p>ä¸€é“åŒæ„å›¾çš„é¢˜ç›®ã€‚å¤§æ„å°±æ˜¯ç»™å‡ºä¸¤å¹…å›¾ï¼ŒåŒæ—¶å¯ä»¥æ‰§è¡Œä¸¤ç§æ“ä½œï¼Œåˆ†åˆ«æ˜¯åŠ è¾¹å’Œåˆ è¾¹ï¼Œåœ¨Aå›¾ä¸ŠåŠ è¾¹ã€åˆ è¾¹çš„ä»£ä»·æ˜¯Iaï¼ŒDaï¼›åœ¨Bå›¾ä¸ŠåŠ è¾¹ã€åˆ è¾¹çš„ä»£ä»·æ˜¯Ibï¼ŒDbã€‚ç°åœ¨è¦é€šè¿‡è¿™ä¸¤ç§æ“ä½œä½¿å¾—ä¸¤å¹…å›¾åŒæ„ï¼Œé—®æ€æ ·çš„æ“ä½œä»£ä»·æœ€å°ï¼Œæ±‚è¿™ä¸ªæœ€å°ä»£ä»·</p>
<p>å› ä¸ºæ•°æ®èŒƒå›´å¾ˆå°ï¼ŒN&lt;=8ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æšä¸¾ã€‚å…·ä½“è§ä»£ç </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="comment">/*åœ¨æ— å‘å›¾ä¸­ï¼Œå…³è”ä¸€å¯¹é¡¶ç‚¹çš„æ— å‘è¾¹å¦‚æœå¤šäº1æ¡ï¼Œåˆ™ç§°è¿™äº›è¾¹ä¸ºå¹³è¡Œè¾¹ï¼Œ</span></span><br><span class="line"><span class="comment">å¹³è¡Œè¾¹çš„æ¡æ•°ç§°ä¸ºé‡æ•°ã€‚åœ¨æœ‰å‘å›¾ä¸­ï¼Œå…³è”ä¸€å¯¹é¡¶ç‚¹çš„æœ‰å‘è¾¹å¦‚æœå¤šäº1æ¡ï¼Œ</span></span><br><span class="line"><span class="comment">å¹¶ä¸”è¿™äº›è¾¹çš„å§‹ç‚¹ä¸ç»ˆç‚¹ç›¸åŒ(ä¹Ÿå°±æ˜¯å®ƒä»¬çš„çš„æ–¹å‘ç›¸åŒ)ï¼Œç§°è¿™äº›è¾¹ä¸ºå¹³è¡Œè¾¹ã€‚</span></span><br><span class="line"><span class="comment">å«å¹³è¡Œè¾¹çš„å›¾ç§°ä¸ºå¤šé‡å›¾ï¼Œæ—¢ä¸å«å¹³è¡Œè¾¹ä¹Ÿä¸åŒ…å«è‡ªç¯çš„å›¾ç§°ä¸ºç®€å•å›¾*/</span></span><br><span class="line"><span class="keyword">bool</span> ga[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="keyword">bool</span> gb[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">int</span> es_a,es_bb;</span><br><span class="line">    <span class="keyword">int</span> kase=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;es_a&gt;&gt;es_bb)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">0</span>&amp;&amp;es_a==<span class="number">0</span>&amp;&amp;es_bb==<span class="number">0</span>)        <span class="keyword">break</span>;</span><br><span class="line">        mst(ga,<span class="number">0</span>);mst(gb,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> ia,ib,da,db;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;ia&gt;&gt;ib&gt;&gt;da&gt;&gt;db;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;es_a;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> x,y;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;x,&amp;y);</span><br><span class="line">            ga[x][y]=ga[y][x]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;es_bb;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> x,y;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;x,&amp;y);</span><br><span class="line">            gb[x][y]=gb[y][x]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> arr[<span class="number">10</span>];</span><br><span class="line">        <span class="keyword">int</span> ans=INF;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            arr[i]=i;</span><br><span class="line">        <span class="keyword">int</span> fac=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)        fac*=i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;fac;k++)&#123;</span><br><span class="line">            <span class="keyword">int</span> tmp=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;n;j++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(ga[i][j]!=gb[arr[i]][arr[j]])&#123;        <span class="comment">//å¦‚æœä¸¤ä¸ªæ¡è¾¹ä¹‹é—´çš„å…³ç³»ä¸ä¸€è‡´</span></span><br><span class="line">                        <span class="keyword">if</span>(ga[i][j])</span><br><span class="line">                            tmp+=<span class="built_in">min</span>(da,ib);</span><br><span class="line">                        <span class="keyword">else</span></span><br><span class="line">                            tmp+=<span class="built_in">min</span>(ia,db);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ans=<span class="built_in">min</span>(ans,tmp);</span><br><span class="line">            next_permutation(arr,arr+n);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case #%d: %d\n"</span>,++kase,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>å›¾è®º</category>
        <category>åŒæ„å›¾</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>å›¾è®º</tag>
        <tag>åŒæ„å›¾</tag>
        <tag>æš´åŠ›æšä¸¾</tag>
      </tags>
  </entry>
  <entry>
    <title>POJ2104 - Kth number ä¸»å¸­æ ‘oråˆ’åˆ†æ ‘æ¨¡æ¿</title>
    <url>/2019/09/07/HDU2665-Kth-Number-%E4%B8%BB%E5%B8%AD%E6%A0%91or%E5%88%92%E5%88%86%E6%A0%91%E6%A8%A1%E6%9D%BF/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/He1712fd2c08f40a985b1ef436e9be051G.jpg" alt></p>
<a id="more"></a>
<p><a href="http://poj.org/problem?id=2104" rel="external nofollow noopener noreferrer" target="_blank">Kth number</a></p>
<p>æ¨¡æ¿é¢˜ï¼Œé¢˜æ„æ˜¯æ±‚åŒºé—´ç¬¬kå¤§ï¼Œå¥—ä¸€ä¸‹ä¸»å¸­æ ‘æ¨¡æ¿æˆ–è€…åˆ’åˆ†æ ‘æ¨¡æ¿å³å¯ï¼ˆå±¯æ¿å­ï¼‰</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<p>ä¸»å¸­æ ‘ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> rt[maxn&lt;&lt;<span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span> sum[maxn&lt;&lt;<span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span> ls[maxn&lt;&lt;<span class="number">5</span>],rs[maxn&lt;&lt;<span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span> tot;</span><br><span class="line"><span class="keyword">int</span> p;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span>&amp; root)</span>        <span class="comment">//å…¶å®å°±æ˜¯ä¸€ä¸ªä¸ºå„èŠ‚ç‚¹åˆ†é…idçš„è¿‡ç¨‹ </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    root=++tot;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)    <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    build(lef,mid,ls[root]);</span><br><span class="line">    build(mid+<span class="number">1</span>,rig,rs[root]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> root)</span>        </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> root_=++tot;        <span class="comment">//å»ºä¸€æ£µæ–°æ ‘ </span></span><br><span class="line">    ls[root_]=ls[root];</span><br><span class="line">    rs[root_]=rs[root];</span><br><span class="line">    sum[root_]=sum[root]+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)    <span class="keyword">return</span> root_;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(p&lt;=mid)&#123;</span><br><span class="line">        ls[root_]=update(lef,mid,ls[root_]);        <span class="comment">//å¦‚æœä¿®æ”¹ç‚¹åœ¨å·¦å„¿å­ï¼Œå°±æ–°å»ºä¸€ä¸ªå·¦å„¿å­ </span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        rs[root_]=update(mid+<span class="number">1</span>,rig,rs[root_]);        <span class="comment">//å¦‚æœä¿®æ”¹ç‚¹åœ¨å³å„¿å­ï¼Œå°±æ–°å»ºä¸€ä¸ªå³å„¿å­ </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root_;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> x=sum[ls[v]]-sum[ls[u]];</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)    <span class="keyword">return</span> lef;</span><br><span class="line">    <span class="keyword">if</span>(x&gt;=k)&#123;</span><br><span class="line">        ans=query(ls[u],ls[v],lef,mid,k);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        ans=query(rs[u],rs[v],mid+<span class="number">1</span>,rig,k-x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> arr[maxn];</span><br><span class="line"><span class="keyword">int</span> lisan[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    tot=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> n,m;<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)    <span class="built_in">cin</span>&gt;&gt;arr[i],lisan[i]=arr[i];</span><br><span class="line">    sort(lisan+<span class="number">1</span>,lisan+<span class="number">1</span>+n);</span><br><span class="line">    <span class="keyword">int</span> len=unique(lisan+<span class="number">1</span>,lisan+<span class="number">1</span>+n)-lisan<span class="number">-1</span>;</span><br><span class="line">    build(<span class="number">1</span>,len,rt[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        p=lower_bound(lisan+<span class="number">1</span>,lisan+<span class="number">1</span>+len,arr[i])-lisan;</span><br><span class="line">        rt[i]=update(<span class="number">1</span>,len,rt[i<span class="number">-1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> L,R,k;<span class="built_in">cin</span>&gt;&gt;L&gt;&gt;R&gt;&gt;k;</span><br><span class="line">        ans=query(rt[L<span class="number">-1</span>],rt[R],<span class="number">1</span>,len,k);</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;lisan[ans]&lt;&lt;<span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ’åˆ†æ ‘ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">50</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> tree[<span class="number">20</span>][maxn];</span><br><span class="line"><span class="keyword">int</span> to_lef[<span class="number">20</span>][maxn]; </span><br><span class="line"><span class="keyword">int</span> sorted[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> lev)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>; </span><br><span class="line">    <span class="keyword">int</span> sup=mid-lef+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=lef;i&lt;=rig;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(tree[lev][i]&lt;sorted[mid])&#123;</span><br><span class="line">            sup--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> sublef=lef;<span class="keyword">int</span> subrig=mid+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=lef;i&lt;=rig;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i==lef)&#123;</span><br><span class="line">            to_lef[lev][i]=<span class="number">0</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            to_lef[lev][i]=to_lef[lev][i<span class="number">-1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(tree[lev][i]&lt;sorted[mid]||tree[lev][i]==sorted[mid]&amp;&amp;sup&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            tree[lev+<span class="number">1</span>][sublef++]=tree[lev][i];</span><br><span class="line">            to_lef[lev][i]++;</span><br><span class="line">            <span class="keyword">if</span>(tree[lev][i]==sorted[mid])    sup--;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            tree[lev+<span class="number">1</span>][subrig++]=tree[lev][i]; </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    build(lef,mid,lev+<span class="number">1</span>);</span><br><span class="line">    build(mid+<span class="number">1</span>,rig,lev+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> lev,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(L==R)    <span class="keyword">return</span> tree[lev][L];</span><br><span class="line">    <span class="keyword">int</span> lef_,tolef;</span><br><span class="line">    <span class="keyword">if</span>(L==lef)&#123;</span><br><span class="line">        lef_=<span class="number">0</span>;tolef=to_lef[lev][R];</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        lef_=to_lef[lev][L<span class="number">-1</span>];</span><br><span class="line">        tolef=to_lef[lev][R]-lef_;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(k&lt;=tolef)&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp_lef=lef+lef_;</span><br><span class="line">        <span class="keyword">int</span> tmp_rig=lef+lef_+tolef<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">return</span> query(lev+<span class="number">1</span>,lef,mid,tmp_lef,tmp_rig,k);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp_lef=mid+L-lef-lef_+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> tmp_rig=mid+R-lef-lef_-tolef+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> query(lev+<span class="number">1</span>,mid+<span class="number">1</span>,rig,tmp_lef,tmp_rig,k-tolef);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;sorted[i]);</span><br><span class="line">        tree[<span class="number">0</span>][i]=sorted[i];</span><br><span class="line">    &#125;</span><br><span class="line">    sort(sorted+<span class="number">1</span>,sorted+<span class="number">1</span>+n);</span><br><span class="line">    build(<span class="number">1</span>,n,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> x,y,k;<span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>,&amp;x,&amp;y,&amp;k);</span><br><span class="line">        <span class="keyword">int</span> ans=query(<span class="number">0</span>,<span class="number">1</span>,n,x,y,k);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ACM</category>
        <category>æ•°æ®ç»“æ„</category>
        <category>ä¸»å¸­æ ‘</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>ä¸»å¸­æ ‘</tag>
        <tag>åˆ’åˆ†æ ‘</tag>
        <tag>å±¯æ¿å­</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU3466 - Proud Merchant</title>
    <url>/2019/02/18/HDU3466-Proud-Merchant/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-3466" rel="external nofollow noopener noreferrer" target="_blank">Proud Merchant</a></p>
<p>&emsp;&emsp;è¿™é“é¢˜æœ€éš¾æçš„åœ°æ–¹åœ¨äºå¦‚ä½•å¤„ç†â€œå°äºqiæ—¶ä¸èƒ½ä¹°â€è¿™ä¸€è¦æ±‚ã€‚è‹¦æ€å†¥æƒ³è®¸ä¹…ï¼Œä¾ç„¶ä¸çŸ¥å¦‚ä½•è§£å†³ï¼Œäºæ˜¯åªå¥½å»çœ‹é¢˜è§£â€¦â€¦</p>
<p>&emsp;&emsp;è¿™é“é¢˜çš„åšæ³•æ˜¯é¦–å…ˆå°†â€œå•†äººâ€æŒ‰ç…§q-pæ’åºï¼Œç„¶åå†è¿›è¡Œ01èƒŒåŒ…ã€‚ä¸ºä»€ä¹ˆæ˜¯æŒ‰ç…§q-pæ’åºå‘¢ï¼Ÿå‡è®¾æœ‰ä¸¤ä»¶ç‰©å“A,B,ä»–ä»¬å¯¹åº”çš„p,qåˆ†åˆ«æ˜¯p1,q1å’Œp2,q2ã€‚å¦‚æœè¿™ä¸¤ä»¶ä¸œè¥¿éƒ½è¦ä¹°ï¼Œé‚£ä¹ˆï¼Œå¦‚æœå…ˆä¹°Aï¼Œå°±è‡³å°‘éœ€è¦p1 + q2çš„é’±æ‰èƒ½æŠŠä¸¤ä»¶ä¸œè¥¿éƒ½ä¹°åˆ°ï¼›å¦‚æœå…ˆä¹°Bï¼Œå°±è‡³å°‘éœ€è¦p2 + q1çš„é’±æ‰èƒ½æŠŠä¸¤ä»¶ä¸œè¥¿éƒ½ä¹°åˆ°ã€‚ä¸ºäº†ä¹°åˆ°å°½å¯èƒ½å¤šçš„ä¸œè¥¿ï¼Œè·å¾—å°½å¯èƒ½å¤§çš„ä»·å€¼ï¼Œå°±åº”è¯¥æŒ‰ç…§ä»£ä»·å°çš„æ–¹å¼æ¥ä¹°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå‡å¦‚å…ˆä¹°Aæ¯”å…ˆä¹°Bæ‰€éœ€çš„ä»£ä»·æ›´å°ï¼Œå°±æœ‰p1 + q2 &lt; p2 + q1ï¼Œå³q1 - p1 &lt; q2 - p2ã€‚</p>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> p,q,v;</span><br><span class="line">&#125;mer;</span><br><span class="line">mer arr[<span class="number">505</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">100000</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(mer a,mer b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (a.q-a.p)&lt;(b.q-b.p);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m)</span><br><span class="line">    &#123;    </span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;arr[i].p&gt;&gt;arr[i].q&gt;&gt;arr[i].v;</span><br><span class="line">        sort(arr,arr+n,cmp);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=m;j&gt;=arr[i].q;j--)</span><br><span class="line">                dp[j]=<span class="built_in">max</span>(dp[j],dp[j-arr[i].p]+arr[i].v);</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;dp[m]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>01èƒŒåŒ…</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>01èƒŒåŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU2669 - Romantic</title>
    <url>/2019/03/02/HDU2669-Romantic/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-2669" rel="external nofollow noopener noreferrer" target="_blank">Romantic</a></p>
<p>&emsp;&emsp;ä¸€é“æ‹“å±•æ¬§å‡ é‡Œå¾—çš„é¢˜ç›®ï¼Œå› ä¸ºæ˜¯ax + by = 1,æ‰€ä»¥å¯ä»¥ç›´æ¥ç”¨æ±‚é€†å…ƒçš„æ–¹æ³•æ¥æ±‚å‡ºx,å†æ ¹æ®y = (1 - ax) / bæ±‚å¾—yã€‚é¢˜ç›®è¦æ±‚xæ˜¯éè´Ÿçš„ï¼Œè¿™åœ¨æ±‚é€†å…ƒçš„è¿‡ç¨‹ä¸­å·²å¾—åˆ°äº†è§£å†³ã€‚</p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹:<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;assert.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">5</span>;</span><br><span class="line"><span class="function">ll <span class="title">exgcd</span><span class="params">(ll a,ll b,ll&amp; x,ll&amp; y)</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    ll r;</span><br><span class="line">    <span class="keyword">if</span>(b==<span class="number">0</span>)&#123;    </span><br><span class="line">        x=<span class="number">1</span>;y=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        r=exgcd(b,a%b,y,x);</span><br><span class="line">        y-=x*(a/b);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r; </span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">solve</span><span class="params">(ll a,ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    ll x,y;</span><br><span class="line">    ll g=exgcd(a,b,x,y);</span><br><span class="line">    <span class="keyword">if</span>(<span class="number">1</span>%g)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    x*=<span class="number">1</span>/g;</span><br><span class="line">    <span class="keyword">if</span>(b&lt;<span class="number">0</span>)        b=-b;</span><br><span class="line">    ll ans=x%b;</span><br><span class="line">    <span class="keyword">if</span>(ans&lt;=<span class="number">0</span>)</span><br><span class="line">        ans+=b;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll a,b;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b)</span><br><span class="line">    &#123;</span><br><span class="line">        ll ans=solve(a,b);</span><br><span class="line">        <span class="keyword">if</span>(ans==<span class="number">-1</span>)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"sorry"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            ll ansx=ans;</span><br><span class="line">            ll ansy=(<span class="number">1</span>-a*ansx)/b;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;ansx&lt;&lt;<span class="string">" "</span>&lt;&lt;ansy&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
  </entry>
  <entry>
    <title>HDU2955 - Robberies</title>
    <url>/2019/02/17/HDU2955-Robberies/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-2955" rel="external nofollow noopener noreferrer" target="_blank">Robberies</a></p>
<p>&emsp;&emsp;ä¾ç„¶æ˜¯01èƒŒåŒ…ï¼Œä½†è¿™æ¬¡çš„æœ‰ç‚¹ç‰¹æ®Šã€‚ç‰¹æ®Šä¹‹å¤„åœ¨äºï¼ŒèƒŒåŒ…çš„æ€»ä½“ç§¯æ˜¯å¯ä»¥è·å¾—çš„é’±çš„æœ€å¤§å€¼( å¦‚æœæ˜¯ä»¥æ¦‚ç‡ä¸ºèƒŒåŒ…ä¹Ÿä¸èƒ½æšä¸¾å•Š23333 )ï¼Œç„¶åç”¨åŠ¨æ€è§„åˆ’æ±‚å¾—è·å¾—è¯¥é’±æ•°è¢«æŠ“çš„æœ€å¤§æ¦‚ç‡( å¦‚æœåœ¨æœ€å¤§æ¦‚ç‡çš„æƒ…å†µä¸‹éƒ½ä¸ä¼šè¢«æŠ“ï¼Œé‚£å°±è‚¯å®šä¸ä¼šè¢«æŠ“ )ã€‚</p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> m[<span class="number">105</span>];</span><br><span class="line"><span class="keyword">double</span> p[<span class="number">105</span>];</span><br><span class="line"><span class="keyword">double</span> dp[<span class="number">10000</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;    </span><br><span class="line">        mst(dp,<span class="number">0</span>);mst(m,<span class="number">0</span>);mst(p,<span class="number">0</span>);</span><br><span class="line">        dp[<span class="number">0</span>]=<span class="number">1.0</span>;</span><br><span class="line">        <span class="keyword">int</span> n;<span class="keyword">double</span> ptot;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;ptot&gt;&gt;n;</span><br><span class="line">        <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        &#123;    </span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;m[i]&gt;&gt;p[i];</span><br><span class="line">            sum+=m[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=sum;j&gt;=m[i];j--)</span><br><span class="line">                dp[j]=<span class="built_in">max</span>(dp[j],dp[j-m[i]]*(<span class="number">1.0</span>-p[i]));</span><br><span class="line">      <span class="comment">//è¿™é‡Œå…ˆæ±‚ä¸ä¼šè¢«æŠ“çš„æ¦‚ç‡ç„¶åç”¨1å‡å»è¿™ä¸ªæ¦‚ç‡ï¼Œå°±æ˜¯è¢«æŠ“çš„æ¦‚ç‡(é«˜ä¸­æ•°å­¦)</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=sum;j&gt;=<span class="number">0</span>;j--)</span><br><span class="line">        &#123;    </span><br><span class="line">            <span class="keyword">double</span> ans=<span class="number">1.0</span>-dp[j];</span><br><span class="line">            <span class="keyword">if</span>(ptot-ans&gt;<span class="number">1e-9</span>)&#123;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;j&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;        </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>01èƒŒåŒ…</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>01èƒŒåŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU4015 - Mario and Mushrooms( The 36th ACM/ICPC Asia Regional Shanghai Site â€”â€” Warmup Eé¢˜)</title>
    <url>/2019/03/24/HDU4015-Mario-and-Mushrooms-The-36th-ACM-ICPC-Asia-Regional-Shanghai-Site-%E2%80%94%E2%80%94-Warmup-E%E9%A2%98/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-4015" rel="external nofollow noopener noreferrer" target="_blank">Mario and Mushrooms</a></p>
<p>ä¸€é“æ•°å­¦é¢˜ï¼Œå’Œpzcæ¨äº†å·®ä¸å¤šä¸€å°æ—¶çš„å¼å­ï¼Œç»“æœè¿˜æ˜¯é”™äº†OTZï¼Œ<del>é‚çœ‹é¢˜è§£</del><br>ç„¶åå‘ç°è¿™é¢˜å…¶å®å°±æ˜¯ç›´æ¥æŠŠRaneyå¼•ç†å¥—ä¸€å¥—å°±è¡Œäº†<del>(Raneyå¼•ç†åˆæ˜¯ä»€ä¹ˆç¥ä»™ï¼Ÿï¼Ÿï¼Ÿ)</del></p>
<p>Raneyå¼•ç†:</p>
<blockquote>
<p>è®¾æ•´æ•°åºåˆ—A={Ai,i=1,2,â€¦,N}ï¼Œä¸”éƒ¨åˆ†å’Œä¸ºSk=A1+,â€¦,+Akï¼Œåºåˆ—ä¸­çš„æ‰€æœ‰çš„æ•°å­—ä¹‹å’Œä¸ºSn=1ï¼›åˆ™åœ¨Açš„Nä¸ªå¾ªç¯è¡¨ç¤ºä¸­ï¼Œæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªåºåˆ—Bï¼Œæ»¡è¶³Bçš„ä»»æ„éƒ¨åˆ†å’ŒSiå‡å¤§äºé›¶ã€‚</p>
</blockquote>
<p>ä¸€ç¯‡æ–‡ç« :<br><a href="https://blog.csdn.net/a363514083/article/details/6760409?locationNum=15" rel="external nofollow noopener noreferrer" target="_blank">HDOJ4105å’Œraneyå¼•ç†</a></p>
<p><del>æ‰€ä»¥å½“æ—¶ä¸ºä»€ä¹ˆä¸ç›´æ¥æ‰“è¡¨</del></p>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">int</span> kase=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">double</span> m,k;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;m&gt;&gt;k;</span><br><span class="line">        <span class="keyword">double</span> ans=<span class="number">1</span>/(m*k+k+<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case #%d: %.8lf\n"</span>,++kase,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é™„:è‡ªå·±æ¨å‡ºæ¥çš„é”™è¯¯å¼å­ï¼Œç•™ä¸ªçºªå¿µ</p>
<p>\begin{equation}<br>\frac{\frac{k(k+1)m}{2}}{C_{km+1+k}^{k}}<br>\end{equation}</p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>ç»„åˆæ•°å­¦</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>ç»„åˆæ•°å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU3926 - Hand in Hand</title>
    <url>/2019/04/06/HDU3926-Hand-in-Hand/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-3926" rel="external nofollow noopener noreferrer" target="_blank">Hand in Hand</a></p>
<p>é¢˜ç›®å¤§æ„æ˜¯ç»™ä½ ä¸¤å¼ å›¾ï¼Œè®©ä½ åˆ¤æ–­è¿™ä¸¤å¼ å›¾æ˜¯å¦åŒæ„ï¼Œæ¡ä»¶æ˜¯ä¸¤å¼ å›¾ä¸Šçš„ç‚¹æœ€å¤šéƒ½åªæœ‰ä¸¤ä¸ªåº¦æ•°ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªç®€å•çš„åŒæ„å›¾é—®é¢˜ã€‚</p>
<p>é¦–å…ˆè¯´ä¸€ä¸‹ä»€ä¹ˆæ˜¯åŒæ„å›¾</p>
<p>æŒ‰å­—é¢æ„æ€ç†è§£ï¼ŒåŒæ„å›¾å³ä¸ºâ€ç›¸åŒç»“æ„çš„å›¾â€ï¼Œç”¨å›¾è®ºä¸­çš„æœ¯è¯­æè¿°å°±æ˜¯</p>
<blockquote>
<p>å›¾è®ºå½“ä¸­çš„æœ¯è¯­ï¼Œå‡è®¾G=(V,E)å’ŒG1=(V1ï¼ŒE1)æ˜¯ä¸¤ä¸ªå›¾ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªåŒå°„(å³ä¸€ä¸€æ˜ å°„)mï¼šVâ†’V1ï¼Œä½¿å¾—å¯¹æ‰€æœ‰çš„x,yâˆˆVå‡æœ‰xyâˆˆEç­‰ä»·äºm(x)m(y)âˆˆE1ï¼Œåˆ™ç§°Gå’ŒG1æ˜¯åŒæ„çš„,è¿™æ ·çš„ä¸€ä¸ªæ˜ å°„mç§°ä¹‹ä¸ºä¸€ä¸ªåŒæ„</p>
</blockquote>
<p>è€Œæˆ‘å¯¹äºåŒæ„å›¾çš„ç†è§£æ˜¯ï¼Œä¸€ä¸ªåŒæ„å›¾ï¼Œåº”å…·æœ‰ç›¸åŒçš„è¿é€šæ€§ï¼Œé“¾/ç¯çš„ä¸ªæ•°ä»¥åŠé“¾ä¸Š/ç¯ä¸Šçš„ç‚¹çš„ä¸ªæ•°åº”ç›¸åŒï¼Œç‚¹ä¸ç‚¹ã€è¾¹ä¸è¾¹ä¹‹é—´çš„å¯¹åº”å…³ç³»åº”ç›¸åŒ</p>
<p>æ¯”æ–¹è¯´ï¼Œä¸‹é¢çš„å°±æ˜¯ä¸€å¯¹åŒæ„å›¾</p>
<p><img src="https://ae01.alicdn.com/kf/HTB12WwabSWD3KVjSZSgq6ACxVXaa.jpg" alt></p>
<p>å·¦å›¾æ˜¯ä¸€ä¸ªåªç”±äº”å…ƒç¯ç»„æˆçš„å›¾ï¼Œè€Œå³å›¾çœ‹èµ·æ¥å’Œå·¦å›¾å¾ˆä¸ä¸€æ ·ï¼Œä½†å®é™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªäº”å…ƒç¯ï¼Œè¾¹ã€ç‚¹ä¸€ä¸€å¯¹åº”ï¼Œæ•…ä¸¤è€…åŒæ„</p>
<p>å›åˆ°è¿™é“é¢˜ç›®ä¸Šã€‚è¦åˆ¤æ–­ä¸¤ä¸ªå›¾æ˜¯å¦åŒæ„ï¼Œå®é™…ä¸Šæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„é—®é¢˜ã€‚ä¸€ä¸ªæ¯”è¾ƒç®€å•ç²—æš´çš„æ–¹æ³•æ˜¯æ¯”è¾ƒä¸¤ä¸ªå›¾çš„é‚»æ¥çŸ©é˜µï¼Œè‹¥ç»è¿‡æœ‰é™æ¬¡çš„è¡Œå˜æ¢å’Œåˆ—å˜æ¢åä¸¤ä¸ªçŸ©é˜µç›¸åŒï¼Œåˆ™ä¸¤å›¾åŒæ„ã€‚ä¹Ÿæœ‰ç”¨æœç´¢çš„æ–¹æ³•åšçš„â€¦â€¦å…·ä½“çš„å°±ä¸è¯´äº†ã€‚ä½†å› ä¸ºè¿™é“é¢˜æ¯ä¸ªç‚¹æœ€å¤šåªæœ‰ä¸¤ä¸ªåº¦ï¼Œæ‰€ä»¥é—®é¢˜å¤§å¤§ç®€åŒ–ï¼Œæ•…å¯ä»¥ä½¿ç”¨å¹¶æŸ¥é›†æ¥åšï¼Œå³ç”¨å¹¶æŸ¥é›†æ£€æŸ¥ä¸¤å¼ å›¾ä¸Šé“¾ä¸ç¯çš„æ•°é‡ï¼ŒåŒæ—¶æ£€æŸ¥é“¾/ç¯ä¸Šç‚¹çš„æ•°ç›®ï¼Œæ¯”è¾ƒä¸€ä¸‹ï¼Œå¦‚æœéƒ½ç›¸ç­‰åˆ™ä¸ºåŒæ„ï¼Œå¦åˆ™ä¸åŒæ„ã€‚</p>
<p>ä»£ç å¦‚ä¸‹</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e4</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> n1,n2,m;</span><br><span class="line"><span class="keyword">int</span> pre[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">kid</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> rcnt;</span><br><span class="line">    <span class="keyword">int</span> ccnt;</span><br><span class="line">    kid():rcnt(<span class="number">0</span>),ccnt(<span class="number">1</span>)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(kid node1,kid node2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node1.ccnt==node2.ccnt)</span><br><span class="line">        <span class="keyword">return</span> node1.rcnt&lt;node2.rcnt;</span><br><span class="line">    <span class="keyword">return</span> node1.ccnt&lt;node2.ccnt;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        pre[i]=i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findr</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x==pre[x])        <span class="keyword">return</span> pre[x];</span><br><span class="line">    <span class="keyword">return</span> pre[x]=findr(pre[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">int</span> kase=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;    </span><br><span class="line">        kid k1[maxn];</span><br><span class="line">        kid k2[maxn];</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n1&gt;&gt;m;init(n1);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> u,v;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;u,&amp;v);</span><br><span class="line">            <span class="keyword">int</span> fu=findr(u);</span><br><span class="line">            <span class="keyword">int</span> fv=findr(v);</span><br><span class="line">            <span class="keyword">if</span>(fu!=fv)&#123;</span><br><span class="line">                pre[fu]=fv;        <span class="comment">//å°†fuæ¥åˆ°fvä¸Š</span></span><br><span class="line">                k1[fv].ccnt+=k1[fu].ccnt;</span><br><span class="line">                k1[fu].ccnt=<span class="number">0</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                k1[fv].rcnt++;        <span class="comment">//ä»¥fvä¸ºä»£è¡¨å…ƒç´ çš„ç¯æœ‰å¤šå°‘ä¸ªå…ƒç´ </span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n2&gt;&gt;m;init(n2);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> u,v;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;u,&amp;v);</span><br><span class="line">            <span class="keyword">int</span> fu=findr(u);</span><br><span class="line">            <span class="keyword">int</span> fv=findr(v);</span><br><span class="line">            <span class="keyword">if</span>(fu!=fv)&#123;</span><br><span class="line">                pre[fu]=fv;</span><br><span class="line">                k2[fv].ccnt+=k2[fu].ccnt;</span><br><span class="line">                k2[fu].ccnt=<span class="number">0</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                k2[fv].rcnt++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">bool</span> flag=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(n1!=n2)&#123;</span><br><span class="line">            flag=<span class="number">0</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            sort(k1+<span class="number">1</span>,k1+n1+<span class="number">1</span>,cmp);</span><br><span class="line">            sort(k2+<span class="number">1</span>,k2+n2+<span class="number">1</span>,cmp);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n1;i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(k1[i].ccnt!=k2[i].ccnt||k1[i].rcnt!=k2[i].rcnt)&#123;</span><br><span class="line">                    flag=<span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"Case #%d: YES\n"</span>,++kase);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"Case #%d: NO\n"</span>,++kase);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>å›¾è®º</category>
        <category>åŒæ„å›¾</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>å›¾è®º</tag>
        <tag>åŒæ„å›¾</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU4020 - Ads Proposal(The 36th ACM/ICPC Asia Regional Shanghai Site â€”â€” Warmup Jé¢˜)</title>
    <url>/2019/03/24/HDU4020-Ads-Proposal-The-36th-ACM-ICPC-Asia-Regional-Shanghai-Site-%E2%80%94%E2%80%94-Warmup-J%E9%A2%98/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-4020" rel="external nofollow noopener noreferrer" target="_blank">Ads Proposal</a></p>
<p>ç½‘ä¸Šæœ‰ç”¨æ ‘çŠ¶æ•°ç»„åšçš„ï¼Œä½†æˆ‘å¯¹æ ‘çŠ¶æ•°ç»„éå¸¸ä¸ç†Ÿâ€¦â€¦æ‰€ä»¥åªèƒ½ç”¨æ¯”è¾ƒæš´åŠ›çš„åšæ³•ï¼Œset+å‰ç¼€å’ŒOTZ<del>(å…¶å®ä¹Ÿå†™äº†ä¸€ä¸ªæ ‘çŠ¶æ•°ç»„çš„ï¼Œåªä¸è¿‡åŸºæœ¬å°±æ˜¯åœ¨æŠ„é¢˜è§£hhhhhhh)</del></p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ad</span>&#123;</span></span><br><span class="line">    ll cli;</span><br><span class="line">    ll len;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> ad&amp; a) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> cli&gt;a.cli;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">ll sum[maxn*<span class="number">5</span>];</span><br><span class="line"><span class="built_in">set</span>&lt;ad&gt; cus[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">int</span> kase=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> n,m,q;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>,&amp;n,&amp;m,&amp;q);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=n;i++)</span><br><span class="line">            cus[i].<span class="built_in">clear</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">            ad tmp;<span class="keyword">int</span> u;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %lld %lld"</span>,&amp;u,&amp;tmp.cli,&amp;tmp.len);</span><br><span class="line">            cus[u].insert(tmp);</span><br><span class="line">        &#125;</span><br><span class="line">        mst(sum,<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">set</span>&lt;ad&gt;::iterator it;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> idx=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(it=cus[i].<span class="built_in">begin</span>();it!=cus[i].<span class="built_in">end</span>();it++)&#123;</span><br><span class="line">                sum[idx++]+=(*it).len;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">            sum[i]=sum[i]+sum[i<span class="number">-1</span>];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case #%d:\n"</span>,++kase);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;q;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> k;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;k);</span><br><span class="line">            k=<span class="built_in">min</span>(k,m); </span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,sum[k]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯è®¡ç®—å‰ç¼€å’Œçš„éƒ¨åˆ†ï¼Œè¿™é‡Œè§£é‡Šä¸€ä¸‹ã€‚å…¶å®å°±æ˜¯å¯¹äºæ¯ä¸€ä¸ªcustomerï¼ŒæŠŠä»–æ¯ä¸€ä¸ªå¹¿å‘Šçš„é•¿åº¦åŠ åˆ°å¯¹åº”çš„ç¬¬iä¸ªå¹¿å‘Šé•¿åº¦å’Œä¸Šï¼Œç„¶åå°†è¿™ä¸ªè¿‡ç¨‹å¾ªç¯èµ·æ¥ã€‚æœ€åå†åœ¨è¿™ä¸ªåŸºç¡€ä¸Šæ±‚ä¸ªå‰ç¼€å’Œå³å¯</p>
]]></content>
  </entry>
  <entry>
    <title>HDU4054-Hexadecimal View</title>
    <url>/2019/02/11/HDU4054-Hexadecimal-View/</url>
    <content><![CDATA[<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=4054" rel="external nofollow noopener noreferrer" target="_blank">Hexadecimal View</a></p>
<p><img src="https://pic.superbed.cn/item/5c6147a15f3e509ed92f7690" alt></p>
<p>æ­¤é¢˜æ²¡æœ‰è€ƒæŸ¥ä»»ä½•ä¸€ä¸ªç®—æ³•çŸ¥è¯†ç‚¹ï¼Œåªæ˜¯ä¸€é“ç”¨æ¥ç»ƒä»£ç ç†Ÿæ‚‰åº¦çš„é¢˜ç›®<br><a id="more"></a><br>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">bool</span> vis[<span class="number">4100</span>];</span><br><span class="line"><span class="keyword">int</span> addr=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> pos=<span class="number">0</span>;<span class="keyword">int</span> postmp=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">conv</span><span class="params">(<span class="built_in">string</span>&amp; s)</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="keyword">int</span> len=s.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=postmp;i&lt;postmp+<span class="number">16</span>&amp;&amp;i!=len;i++)</span><br><span class="line">    &#123;    </span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">islower</span>(s[i]))</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%c"</span>,s[i]-(<span class="string">'a'</span>-<span class="string">'A'</span>));</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">isupper</span>(s[i]))</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%c"</span>,s[i]+(<span class="string">'a'</span>-<span class="string">'A'</span>));</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%c"</span>,s[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">row</span><span class="params">(<span class="built_in">string</span>&amp; s)</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%04x: "</span>,addr);</span><br><span class="line">    <span class="keyword">int</span> idx=pos;<span class="keyword">int</span> cnt=<span class="number">0</span>;<span class="keyword">int</span> cnt2=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> len=s.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">int</span> col=<span class="number">0</span>;</span><br><span class="line">    postmp=pos; </span><br><span class="line">    <span class="keyword">for</span>(;cnt&lt;<span class="number">16</span>&amp;&amp;!vis[len<span class="number">-1</span>];idx++)</span><br><span class="line">    &#123;    </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%02x"</span>,s[idx]);col+=<span class="number">2</span>;</span><br><span class="line">        vis[idx]=<span class="number">1</span>;</span><br><span class="line">        cnt2++;cnt++;</span><br><span class="line">        <span class="keyword">if</span>(cnt2==<span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">" "</span>);col++;</span><br><span class="line">            cnt2=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">39</span>-col;i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">    pos=idx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> str;</span><br><span class="line">    <span class="keyword">while</span>(getline(<span class="built_in">cin</span>,str))</span><br><span class="line">    &#123;    </span><br><span class="line">        addr=<span class="number">0</span>;pos=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">        <span class="keyword">int</span> len=str.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(;!vis[len<span class="number">-1</span>];addr+=<span class="number">16</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            row(str);</span><br><span class="line">            conv(str);</span><br><span class="line">        &#125;</span><br><span class="line">        str=<span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>å…¶ä»–</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU4133 - StrangeStandard</title>
    <url>/2019/03/02/HDU4133-StrangeStandard/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-4133" rel="external nofollow noopener noreferrer" target="_blank">StrangeStandard</a></p>
<p>&emsp;&emsp;ä¸€é“åç´ æ•°çš„é¢˜ç›®ï¼Œæ±‚çš„æ˜¯åŒºé—´å†…çš„æœ€å¤§åç´ æ•°ã€‚ä¸€å¼€å§‹åšæˆ‘æ˜¯æ‰“è¡¨çš„<del>(è€Œä¸”è¿™è¡¨è¿˜ä¸æ˜¯è‡ªå·±æ‰“å‡ºæ¥çš„)</del>,ä»£ç å¦‚ä¸‹:</p>
<a id="more"></a>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;assert.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> ans[<span class="number">200</span>]=&#123;<span class="number">2000000001</span>,<span class="number">1396755360</span>,<span class="number">1102701600</span>,<span class="number">735134400</span>,<span class="number">698377680</span>,</span><br><span class="line"><span class="number">551350800</span>,<span class="number">367567200</span>,<span class="number">294053760</span>,<span class="number">245044800</span>,</span><br><span class="line"><span class="number">183783600</span>,<span class="number">147026880</span>,<span class="number">122522400</span>,<span class="number">110270160</span>,</span><br><span class="line"><span class="number">73513440</span>,<span class="number">61261200</span>,<span class="number">43243200</span>,<span class="number">36756720</span>,</span><br><span class="line"><span class="number">32432400</span>,<span class="number">21621600</span>,<span class="number">17297280</span>,<span class="number">14414400</span>,<span class="number">10810800</span>,</span><br><span class="line"><span class="number">8648640</span>,<span class="number">7207200</span>,<span class="number">6486480</span>,<span class="number">4324320</span>,<span class="number">3603600</span>,<span class="number">2882880</span>,</span><br><span class="line"><span class="number">2162160</span>,<span class="number">1441440</span>,<span class="number">1081080</span>,<span class="number">720720</span>,<span class="number">665280</span>,<span class="number">554400</span>,<span class="number">498960</span>,</span><br><span class="line"><span class="number">332640</span>,<span class="number">277200</span>,<span class="number">221760</span>,<span class="number">166320</span>,<span class="number">110880</span>,<span class="number">83160</span>,<span class="number">55440</span>,<span class="number">50400</span>,</span><br><span class="line"><span class="number">45360</span>,<span class="number">27720</span>,<span class="number">25200</span>,<span class="number">20160</span>,<span class="number">15120</span>,<span class="number">10080</span>,<span class="number">7560</span>,<span class="number">5040</span>,<span class="number">2520</span>,<span class="number">1680</span>,</span><br><span class="line"><span class="number">1260</span>,<span class="number">840</span>,<span class="number">720</span>,<span class="number">360</span>,<span class="number">240</span>,<span class="number">180</span>,<span class="number">120</span>,<span class="number">60</span>,<span class="number">48</span>,<span class="number">36</span>,<span class="number">24</span>,<span class="number">12</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">int</span> kase=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;;i++)</span><br><span class="line">            <span class="keyword">if</span>(ans[i]&lt;=n)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"Case #%d: %d\n"</span>,++kase,ans[i]);</span><br><span class="line">                <span class="keyword">break</span>; </span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;è¿™é¢˜éæ‰“è¡¨çš„æ–¹æ³•æ˜¯ç”¨dfsã€‚å…·ä½“ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">500005</span>;</span><br><span class="line">ll n,ans;</span><br><span class="line">ll maxi=<span class="number">-1</span>;</span><br><span class="line">ll prime[<span class="number">20</span>]=&#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">17</span>,<span class="number">19</span>,<span class="number">23</span>,<span class="number">29</span>,<span class="number">31</span>,<span class="number">37</span>,<span class="number">41</span>,<span class="number">43</span>,<span class="number">47</span>,<span class="number">53</span>&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> dep,<span class="keyword">int</span> now,<span class="keyword">int</span> cnt)</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="keyword">if</span>(dep&gt;=<span class="number">16</span>)</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">if</span>(cnt==maxi&amp;&amp;ans&gt;now)</span><br><span class="line">        ans=now;</span><br><span class="line">    <span class="keyword">if</span>(cnt&gt;maxi)</span><br><span class="line">    &#123;</span><br><span class="line">        maxi=cnt;</span><br><span class="line">        ans=now;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">100</span>;i++)</span><br><span class="line">    &#123;    </span><br><span class="line">        <span class="keyword">if</span>(now*prime[dep]&gt;n)        <span class="keyword">break</span>;</span><br><span class="line">        now*=prime[dep];</span><br><span class="line">        dfs(dep+<span class="number">1</span>,now,cnt*(i+<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">int</span> kase=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;    </span><br><span class="line">        ans=<span class="number">0</span>;maxi=<span class="number">-1</span>;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        dfs(<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case #%d: %lld\n"</span>,++kase,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>æ•°è®º</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>æ•°è®º</tag>
        <tag>åç´ æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU5922 - Minimumâ€™s Revenge(2016CCPCä¸œåŒ—åœ°åŒºå¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›Aé¢˜)</title>
    <url>/2019/03/23/HDU5922-Minimum%E2%80%99s-Revenge-2016CCPC%E4%B8%9C%E5%8C%97%E5%9C%B0%E5%8C%BA%E5%A4%A7%E5%AD%A6%E7%94%9F%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AB%9E%E8%B5%9BA%E9%A2%98/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/HDU-5922" rel="external nofollow noopener noreferrer" target="_blank">Minimumâ€™s Revenge</a></p>
<p>å› ä¸ºè¾¹æƒæ˜¯ä¸¤ä¸ªæ•°ä¹‹é—´çš„lcmï¼Œè€Œå¯¹äºæ‰€æœ‰çš„æ•°ï¼Œ1å’Œä»»æ„æ•°çš„lcméƒ½æ˜¯æœ€å°çš„ï¼Œæ•…åªéœ€è¦æ±‚2 + 3  + 4 + 5 + â€¦â€¦ + nå³å¯<br><a id="more"></a></p>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    ll n;</span><br><span class="line">    ll kase=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        ll ans=((n+<span class="number">2</span>)*(n<span class="number">-1</span>))/<span class="number">2</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case #%lld: %lld\n"</span>,++kase,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU5924 - Mr. Frogâ€™s Problem( 2016CCPCä¸œåŒ—åœ°åŒºå¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›Cé¢˜)</title>
    <url>/2019/03/23/HDU5924-Mr-Frog%E2%80%99s-Problem-2016CCPC%E4%B8%9C%E5%8C%97%E5%9C%B0%E5%8C%BA%E5%A4%A7%E5%AD%A6%E7%94%9F%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AB%9E%E8%B5%9BC%E9%A2%98/</url>
    <content><![CDATA[<p>æ‰“è¡¨å¯çŸ¥ï¼Œç­”æ¡ˆå°±æ˜¯è¾“å…¥çš„é‚£ä¸¤ä¸ªæ•°ï¼Œåªè¦æŒ‰ç…§é¢˜ç›®è¦æ±‚çš„é¡ºåºè¾“å‡ºå³å¯ã€‚<br><a id="more"></a><br>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    ll kase=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        ll a,b;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        <span class="keyword">if</span>(a==b)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"Case #%lld:\n"</span>,++kase);</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;a&lt;&lt;<span class="string">" "</span>&lt;&lt;b&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"Case #%lld:\n"</span>,++kase);</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="number">2</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;a&lt;&lt;<span class="string">" "</span>&lt;&lt;b&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;b&lt;&lt;<span class="string">" "</span>&lt;&lt;a&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU5926 - Mr. Frogâ€™s Game( 2016CCPCä¸œåŒ—åœ°åŒºå¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›Eé¢˜)</title>
    <url>/2019/03/23/HDU5926-Mr-Frog%E2%80%99s-Game-2016CCPC%E4%B8%9C%E5%8C%97%E5%9C%B0%E5%8C%BA%E5%A4%A7%E5%AD%A6%E7%94%9F%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AB%9E%E8%B5%9BE%E9%A2%98/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/contest/290420#problem/E" rel="external nofollow noopener noreferrer" target="_blank">Mr. Frogâ€™s Game</a></p>
<p>å› ä¸ºæ•°æ®é‡å¾ˆå°ï¼Œæ‰€ä»¥ç›´æ¥æš´åŠ›å³å¯ã€‚å…ˆæ£€æŸ¥ä¸€ä¸‹æœ‰æ²¡æœ‰ç›¸é‚»çš„å¯ä»¥æ¶ˆé™¤ï¼Œå†æ£€æŸ¥ä¸€ä¸‹åŒä¸€æ¡è¾¹ç•Œä¸Šå¯ä»¥æ¶ˆé™¤çš„(æ ¹æ®æ¸¸æˆè§„åˆ™ï¼Œå¦‚æœä¸¤ä¸ªæ–¹å—å¯ä»¥æ¶ˆé™¤ä¸”ä¸ç›¸é‚»ï¼Œåªæœ‰å¯èƒ½åœ¨åŒä¸€æ¡è¾¹ç•Œä¸Š)<br><a id="more"></a><br>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line">ll gra[<span class="number">35</span>][<span class="number">35</span>];</span><br><span class="line">ll kase=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">(ll n,ll m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="keyword">for</span>(ll j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">            <span class="keyword">if</span>(gra[i][j]==gra[i<span class="number">-1</span>][j]||gra[i][j]==gra[i+<span class="number">1</span>][j]||gra[i][j]==gra[i][j<span class="number">-1</span>]||gra[i][j]==gra[i][j+<span class="number">1</span>])&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"Case #%lld: Yes\n"</span>,++kase);</span><br><span class="line">                <span class="keyword">return</span> ;</span><br><span class="line">            &#125;</span><br><span class="line">    <span class="keyword">for</span>(ll j=<span class="number">1</span>;j&lt;=m;j++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(ll k=j+<span class="number">1</span>;k&lt;=m;k++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(gra[<span class="number">1</span>][j]==gra[<span class="number">1</span>][k])&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"Case #%lld: Yes\n"</span>,++kase);</span><br><span class="line">                <span class="keyword">return</span> ;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(ll j=<span class="number">1</span>;j&lt;=m;j++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(ll k=j+<span class="number">1</span>;k&lt;=m;k++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(gra[n][j]==gra[n][k])&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"Case #%lld: Yes\n"</span>,++kase);</span><br><span class="line">                <span class="keyword">return</span> ;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(ll k=i+<span class="number">1</span>;k&lt;=n;k++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(gra[i][<span class="number">1</span>]==gra[k][<span class="number">1</span>])&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"Case #%lld: Yes\n"</span>,++kase);</span><br><span class="line">                <span class="keyword">return</span> ;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(ll k=i+<span class="number">1</span>;k&lt;=n;k++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(gra[i][m]==gra[k][m])&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"Case #%lld: Yes\n"</span>,++kase);</span><br><span class="line">                <span class="keyword">return</span> ;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Case #%lld: No\n"</span>,++kase);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        mst(gra,<span class="number">0x3f</span>);</span><br><span class="line">        ll n,m;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">        <span class="keyword">for</span>(ll i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            <span class="keyword">for</span>(ll j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">                <span class="built_in">cin</span>&gt;&gt;gra[i][j];</span><br><span class="line">        solve(n,m);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU6608 - Fansblog</title>
    <url>/2019/08/22/HDU6608-Fansblog/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/H527f9558b59e43299d761e5671297f57k.jpg" alt></p>
<a id="more"></a>
<h3 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h3><p><a href="https://cn.vjudge.net/problem/HDU-6608" rel="external nofollow noopener noreferrer" target="_blank">Fanblog</a></p>
<p>é¢˜æ„å°±æ˜¯ç»™ä½ ä¸€ä¸ªç´ æ•°$P$ï¼Œè®©ä½ æ‰¾å‡ºä¸€ä¸ªæœ€å¤§çš„ä¸”å°äº$P$çš„ç´ æ•°$Q$ï¼Œæ±‚$Q!\ mod\ P$ã€‚</p>
<p>emmmæ•°è®ºé¢˜ä¸€å‘æ˜¯å¼±åŠ¿ï¼Œè¿™é“é¢˜èƒ½åšå‡ºæ¥ä¹Ÿæ˜¯æŸ¥äº†å¤§ä½¬åšå®¢ä¸Šçš„ä¸€ä¸ªç»“è®ºï¼ˆé“¾æ¥è§é™„å½•ï¼‰ï¼Œç®€å•æ¥è¯´ï¼Œè‹¥è¦æ±‚</p>
<script type="math/tex; mode=display">
Q!\ mod\ P</script><p>åªéœ€è¦æ±‚</p>
<script type="math/tex; mode=display">
(-1)^{Q+1}\times inv((P-1-Q)!,P)</script><p>$inv(a,p)$è¡¨ç¤ºçš„æ˜¯$a$å¯¹$p$çš„é€†å…ƒ</p>
<p><del>åˆæ ¹æ®ççŒœç»“è®º</del>ï¼Œ$P$å’Œ$Q$ä¹‹é—´çš„è·ç¦»ä¸€å®šä¸ä¼šå¾ˆå¤§ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æš´åŠ›æ±‚$Q$ä»¥åŠ$(P-1-Q)!$ã€‚å¥—ä¸ªæ‹“å±•æ¬§å‡ é‡Œå¾—å°±æå®šäº†ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">20005</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line">ll p,q;</span><br><span class="line"><span class="function">ll <span class="title">exgcd</span><span class="params">(ll a,ll b,ll&amp; x,ll&amp; y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a==<span class="number">0</span>&amp;&amp;b==<span class="number">0</span>)  <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">if</span>(b==<span class="number">0</span>)&#123;</span><br><span class="line">        x=<span class="number">1</span>;y=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    ll d=exgcd(b,a%b,y,x);</span><br><span class="line">    y-=a/b*x;</span><br><span class="line">    <span class="keyword">return</span> d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">inv</span><span class="params">(ll a,ll pp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll x,y;</span><br><span class="line">    ll d=exgcd(a,pp,x,y);</span><br><span class="line">    <span class="keyword">if</span>(d==<span class="number">1</span>)    <span class="keyword">return</span> (x%pp+pp)%pp;</span><br><span class="line">    <span class="keyword">else</span>    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">chk</span><span class="params">(ll todo)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">2</span>;i*i&lt;=todo;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(todo%i==<span class="number">0</span>)   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">solve</span><span class="params">(ll todo)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(ll i=todo<span class="number">-1</span>;i&gt;=<span class="number">2</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(chk(i))  <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">frac</span><span class="params">(ll todo)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll ans=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">2</span>;i&lt;=todo;i++)</span><br><span class="line">        ans=ans%p*i%p;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;p;</span><br><span class="line">        q=solve(p);</span><br><span class="line">        ll ans=((q+<span class="number">1</span>)&amp;<span class="number">1</span>?<span class="number">-1</span>:<span class="number">1</span>)*inv(frac(p<span class="number">-1</span>-q),p);</span><br><span class="line">        ans%p;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h3><ul>
<li><p>æ­£æ–‡æ‰€æåˆ°çš„ç»“è®ºåœ¨æ­¤å¤„</p>
<p><a href="https://www.cnblogs.com/Judge/p/10755703.html#_label2" rel="external nofollow noopener noreferrer" target="_blank"><a href="https://www.cnblogs.com/Judge/p/10755703.html" rel="external nofollow noopener noreferrer" target="_blank">å¨å°”é€Šå®šç†å°è®²è§£</a></a></p>
</li>
<li><p>å¯¹äºç›¸é‚»ä¸¤ä¸ªç´ æ•°çš„è·ç¦»ï¼Œæœ€å¤§å¯èƒ½ä¸ºæ— ç©·å¤§ï¼Œä½†åœ¨é¢˜ç›®æ•°æ®èŒƒå›´å†…ï¼Œè¿™ä¸ªè·ç¦»ä¸ä¼šå¾ˆå¤§ã€‚å¯å‚è€ƒä»¥ä¸‹æ–‡ç« ï¼š<a href="https://wenku.baidu.com/view/e5a209acdd3383c4bb4cd2c6.html" rel="external nofollow noopener noreferrer" target="_blank">ä»»æ„ç›¸é‚»ä¸¤ä¸ªç´ æ•°ä¹‹é—´çš„æœ€å¤§è·ç¦»å…¬å¼</a></p>
</li>
</ul>
]]></content>
      <categories>
        <category>ACM</category>
        <category>æ•°è®º</category>
        <category>å¨å°”é€Šå®šç†</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C++</tag>
        <tag>æ•°è®º</tag>
        <tag>å¨å°”é€Šå®šç†</tag>
      </tags>
  </entry>
  <entry>
    <title>Knapsack Cryptosystemï¼ˆ2019ç‰›å®¢å¤šæ ¡ç¬¬9åœº  Dé¢˜ï¼‰</title>
    <url>/2019/08/16/Knapsack-Cryptosystem/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/H65115833a3a8484fbe57a426ff7b309fM.jpg" alt></p>
<p>From <strong>Google Earth</strong></p>
<a id="more"></a>
<p><a href="https://ac.nowcoder.com/acm/contest/889/D" rel="external nofollow noopener noreferrer" target="_blank">Knapsack Cryptosystem</a></p>
<p>é¢˜æ„å¾ˆç®€å•ï¼Œæ˜¯è¯´æœ‰ä¸€ä¸ªæ’å¥½åºçš„å‡åºæ­£æ•´æ•°åºåˆ—ï¼Œç°åœ¨ç»™å‡ºæ€»å’Œsï¼Œè®©ä½ ä»æ•°åˆ—ä¸­æŒ‘å‡ºè‹¥å¹²ä¸ªæ•°ï¼Œä½¿å¾—å®ƒä»¬ç›¸åŠ åæ€»å’Œä¸ºsã€‚</p>
<p>ç¬¬ä¸€ååº”å°±æ˜¯dfsï¼Œå› ä¸ºä¹‹å‰åšè¿‡å‡ ä¹ä¸€æ¨¡ä¸€æ ·çš„é¢˜ï¼Œä¸”è¿™é¢˜æ•°æ®èŒƒå›´å¾ˆå°ï¼Œæ•°åˆ—æœ€é•¿æ‰36ã€‚ä½†äº‹å®è¯æ˜ï¼Œdfsä¼šTé£â€¦â€¦æ— è®ºæ€ä¹ˆå‰ªæéƒ½æ²¡ç”¨ã€‚</p>
<p>æ­£ç¡®è§£æ³•æ˜¯ï¼Œå°†æ•°åˆ—æŠ˜åŠï¼Œå¯¹äºå‰ä¸€åŠï¼ŒçŠ¶å‹æšä¸¾å‡ºæ¯ä¸€ç§é€‰å–æƒ…å†µçš„æ€»å’Œï¼Œå°†å®ƒä»¬å­˜å…¥ä¸€ä¸ªmapé‡Œé¢ã€‚å¯¹äºåä¸€åŠï¼Œä¾ç„¶æ˜¯çŠ¶å‹æšä¸¾æ¯ç§é€‰å–æƒ…å†µçš„æ€»å’Œï¼Œè®°ä½œ$s_i$ï¼Œåœ¨ç®—å‡º$s_i$åï¼ŒäºŒåˆ†lower_bound()åœ¨mapä¸­æ‰¾$s-s_i$ï¼Œå¦‚æœæ‰¾åˆ°äº†ï¼Œå°±å¯ä»¥è¾“å‡ºç»“æœäº†ï¼Œç­”æ¡ˆå°±æ˜¯æ­¤æ—¶ååŠçš„é€‰å–æƒ…å†µä»¥åŠ$s-s_i$å¯¹åº”çš„å‰åŠé€‰å–æƒ…å†µã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lowbit(x) (x&amp;(-x))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line">ll s,arr[<span class="number">45</span>];</span><br><span class="line"><span class="keyword">int</span> p,q,n;</span><br><span class="line"><span class="built_in">map</span>&lt;ll,<span class="keyword">int</span>&gt; mp;</span><br><span class="line"><span class="keyword">int</span> to[(<span class="number">1</span>&lt;&lt;<span class="number">18</span>)+<span class="number">10</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> msk=<span class="number">2</span>;</span><br><span class="line">    to[<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">17</span>;i++)&#123;</span><br><span class="line">        to[msk]=i;</span><br><span class="line">        msk&lt;&lt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">(<span class="keyword">int</span> mskp,<span class="keyword">int</span> mskq)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;p;i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>,<span class="number">1</span>&amp;(mskp&gt;&gt;i));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;q;i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>,<span class="number">1</span>&amp;(mskq&gt;&gt;i));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %lld"</span>,&amp;n,&amp;s);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;arr[i]);</span><br><span class="line">    p=(n&gt;&gt;<span class="number">1</span>);</span><br><span class="line">    q=n-p;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;(<span class="number">1</span>&lt;&lt;p);i++)&#123;</span><br><span class="line">        ll tmp=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j;j-=(lowbit(j)))</span><br><span class="line">            tmp+=arr[to[lowbit(j)]];        </span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">            lowbit(x)è¿”å›xæœ€å³ç«¯çš„1æ‰€è¡¨ç¤ºçš„æ•°.</span></span><br><span class="line"><span class="comment">            å¦‚,9 = 1001 ,åˆ™lowbit(9) = 1 = 1;</span></span><br><span class="line"><span class="comment">            8 = 100 ,åˆ™lowbit(8) = 100 = 8. </span></span><br><span class="line"><span class="comment">            */</span> </span><br><span class="line">        mp[tmp]=i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">bool</span> flag=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;(<span class="number">1</span>&lt;&lt;q);i++)&#123;</span><br><span class="line">        ll tmp=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j;j-=lowbit(j))</span><br><span class="line">            tmp+=arr[to[lowbit(j)]+p];</span><br><span class="line">        <span class="keyword">auto</span> it=mp.lower_bound(s-tmp);</span><br><span class="line">        <span class="keyword">if</span>(it-&gt;first+tmp==s)&#123;</span><br><span class="line">            show(it-&gt;second,i);flag=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!flag)    <span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>æš´åŠ›</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C++</tag>
        <tag>ç‰›å®¢å¤šæ ¡</tag>
        <tag>çŠ¶å‹+æš´åŠ›</tag>
      </tags>
  </entry>
  <entry>
    <title>HDU6609 - Find the answer</title>
    <url>/2019/08/23/HDU6609-Find-the-answer/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/H113a5f2732fe4bb3bd03c7a0516eeb26n.jpg" alt></p>
<a id="more"></a>
<p><a href="https://cn.vjudge.net/problem/HDU-6609" rel="external nofollow noopener noreferrer" target="_blank">Find the answer</a></p>
<p>é¢˜æ„æ˜¯è¯´ï¼Œæœ‰ä¸€ä¸ªç»™å®šçš„åºåˆ—$W$ä¸æ•´æ•°$m$ï¼Œå¯¹äº$W$çš„å‰$k$é¡¹ï¼Œåˆ æ‰$d_k$é¡¹å°±å¯ä»¥è¯¥å­åºåˆ—çš„å‰ç¼€å’Œä¸å¤§äº$m$ã€‚é—®å¯¹äº$W$çš„æ‰€æœ‰å‰ç¼€å­åºåˆ—ï¼Œå…¶æœ€å°çš„$d$åˆ†åˆ«æ˜¯å¤šå°‘ã€‚</p>
<p>æ€è·¯å°±æ˜¯é€šè¿‡çº¿æ®µæ ‘ç»´æŠ¤åŒºé—´å’Œä»¥åŠåŒºé—´ä¸­æ•°å­—ä¸ªæ•°ï¼ŒæŸ¥è¯¢æ—¶äºŒåˆ†æ‰¾åˆ°ç¬¦åˆè¦æ±‚çš„åŒºé—´ï¼ŒæŸ¥è¯¢å…¶æ•°å­—ä¸ªæ•°ï¼Œæ­¤æ—¶çš„æ•°å­—ä¸ªæ•°æ˜¯éœ€è¦ä¿ç•™ä¸‹æ¥çš„æ•°å­—çš„ä¸ªæ•°ï¼Œå› æ­¤ç­”æ¡ˆåº”è¯¥æ˜¯$i-1-tmp$ï¼ˆ$tmp$ä¸ºæŸ¥è¯¢ç»“æœï¼‰ã€‚å¦å¤–ï¼Œè¯¥é¢˜æ•°æ®èŒƒå›´æ¯”è¾ƒå¤§ï¼Œéœ€è¦åšç¦»æ•£åŒ–ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">200005</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> sum[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> cnt[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line">ll arr[maxn],lisan[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum[rt]=sum[rt&lt;&lt;<span class="number">1</span>]+sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>];</span><br><span class="line">    cnt[rt]=cnt[rt&lt;&lt;<span class="number">1</span>]+cnt[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        sum[rt]=cnt[rt]=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> pos,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        sum[rt]+=lisan[pos];</span><br><span class="line">        cnt[rt]++;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(pos&lt;=mid)</span><br><span class="line">        update(pos,lson);</span><br><span class="line">    <span class="keyword">else</span>    </span><br><span class="line">        update(pos,rson);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(ll val,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(sum[rt]&lt;=val)</span><br><span class="line">        <span class="keyword">return</span> cnt[rt];    </span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        <span class="keyword">if</span>(cnt[rt]==<span class="number">0</span>)  </span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> val/(sum[rt]/cnt[rt]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(sum[rt&lt;&lt;<span class="number">1</span>]&gt;val)</span><br><span class="line">        <span class="keyword">return</span> query(val,lson);</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">        <span class="keyword">return</span> cnt[rt&lt;&lt;<span class="number">1</span>]+query(val-sum[rt&lt;&lt;<span class="number">1</span>],rson);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> ans[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int32_t</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="keyword">int</span> n;<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        ll m;<span class="built_in">cin</span>&gt;&gt;m;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;arr[i];</span><br><span class="line">            lisan[i]=arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">        sort(lisan+<span class="number">1</span>,lisan+<span class="number">1</span>+n);</span><br><span class="line">        <span class="keyword">int</span> len=unique(lisan+<span class="number">1</span>,lisan+<span class="number">1</span>+n)-lisan<span class="number">-1</span>;</span><br><span class="line">        build(<span class="number">1</span>,len,<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> idx=lower_bound(lisan+<span class="number">1</span>,lisan+<span class="number">1</span>+n,arr[i])-lisan;</span><br><span class="line">            <span class="keyword">int</span> tmp=query(m-arr[i],<span class="number">1</span>,len,<span class="number">1</span>);</span><br><span class="line">            update(idx,<span class="number">1</span>,len,<span class="number">1</span>);</span><br><span class="line">            ans[i]=i-tmp<span class="number">-1</span>;     <span class="comment">//tmpæ˜¯å¯ä»¥ä¿ç•™ä¸‹æ¥çš„æ•°çš„ä¸ªæ•°</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)<span class="comment">//</span></span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;ans[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ACM</category>
        <category>æ•°æ®ç»“æ„</category>
        <category>çº¿æ®µæ ‘</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>çº¿æ®µæ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€æ¬¡Hexoåšå®¢ä¸ªæ€§åŒ–è®°å½•</title>
    <url>/2019/04/19/Hexo%E5%8D%9A%E5%AE%A2%E7%BE%8E%E5%8C%96%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/HTB14aAXbRWD3KVjSZKPq6yp7FXa9.jpg" alt></p>
<p>&emsp;&emsp;è¿™å‡ å¤©å¯¹åšå®¢åšäº†ä¸€æ¬¡å¤§æ›´æ–°ï¼Œæ¢äº†ã€æ·»åŠ äº†æŒºå¤šä¸œè¥¿çš„ï¼Œæ‰“ç®—åšä¸ªè®°å½•ã€‚ä»¥ä¸‹æ‰€æœ‰æ›´æ”¹ï¼Œéƒ½åŸºäºNexTä¸»é¢˜</p>
<a id="more"></a>
<h5 id="å°†èƒŒæ™¯ä»åŸæœ¬çš„è‡ªåŠ¨æ›´æ¢çš„å›¾ç‰‡èƒŒæ™¯æ›´æ”¹ä¸ºåŠ¨æ€èƒŒæ™¯ã€‚"><a href="#å°†èƒŒæ™¯ä»åŸæœ¬çš„è‡ªåŠ¨æ›´æ¢çš„å›¾ç‰‡èƒŒæ™¯æ›´æ”¹ä¸ºåŠ¨æ€èƒŒæ™¯ã€‚" class="headerlink" title="å°†èƒŒæ™¯ä»åŸæœ¬çš„è‡ªåŠ¨æ›´æ¢çš„å›¾ç‰‡èƒŒæ™¯æ›´æ”¹ä¸ºåŠ¨æ€èƒŒæ™¯ã€‚"></a>å°†èƒŒæ™¯ä»åŸæœ¬çš„è‡ªåŠ¨æ›´æ¢çš„å›¾ç‰‡èƒŒæ™¯æ›´æ”¹ä¸ºåŠ¨æ€èƒŒæ™¯ã€‚</h5><p>æ–¹æ³•å¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ°ä»¥ä¸‹å†…å®¹ï¼Œå°†falseæ”¹æˆtrueå³å¯ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Canvas-nest</span></span><br><span class="line"><span class="attr">canvas_nest:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># three_waves</span></span><br><span class="line"> <span class="attr">three_waves:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># canvas_lines</span></span><br><span class="line"><span class="attr">canvas_lines:</span> <span class="literal">true</span>    <span class="string">//false-&gt;true</span>    </span><br><span class="line"></span><br><span class="line"><span class="comment"># canvas_sphere</span></span><br><span class="line"><span class="attr">canvas_sphere:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>åŒæ—¶ï¼Œå¯¹äºåŸæœ¬çš„å›¾ç‰‡èƒŒæ™¯ï¼Œåªéœ€è¿™æ ·å¤„ç†:<br><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line"><span class="deletion">- body &#123;</span></span><br><span class="line"><span class="deletion">-     background:url(https://unsplash.it/1600/900?random);</span></span><br><span class="line"><span class="deletion">-     background-repeat: no-repeat;</span></span><br><span class="line"><span class="deletion">-     background-attachment:fixed;</span></span><br><span class="line"><span class="deletion">-     background-position:50% 50%;</span></span><br><span class="line"><span class="deletion">- &#125;</span></span><br></pre></td></tr></table></figure></p>
<h5 id="æ›¿æ¢é¡¶éƒ¨åŠ è½½è¿›åº¦æ¡"><a href="#æ›¿æ¢é¡¶éƒ¨åŠ è½½è¿›åº¦æ¡" class="headerlink" title="æ›¿æ¢é¡¶éƒ¨åŠ è½½è¿›åº¦æ¡"></a>æ›¿æ¢é¡¶éƒ¨åŠ è½½è¿›åº¦æ¡</h5><p>å°†åŸæœ¬çš„è¿›åº¦æ¡æ›¿æ¢ä¸ºNexTè‡ªå¸¦çš„è¿›åº¦æ¡ã€‚<br>åœ¨ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ä¸­æ‰¾åˆ°ä¸‹é¢è¿™ä¸€æ®µï¼Œå°†paceæ”¹ä¸ºtrueï¼Œå¹¶åœ¨pace_themeå¤„é€‰æ‹©è‡ªå·±å–œæ¬¢çš„è¿›åº¦æ¡æ ·å¼ã€‚<br><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Progress bar in the top during page loading.</span></span><br><span class="line"><span class="attr">pace:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment"># Themes list:</span></span><br><span class="line"><span class="comment">#pace-theme-big-counter</span></span><br><span class="line"><span class="comment">#pace-theme-bounce</span></span><br><span class="line"><span class="comment">#pace-theme-barber-shop</span></span><br><span class="line"><span class="comment">#pace-theme-center-atom</span></span><br><span class="line"><span class="comment">#pace-theme-center-circle</span></span><br><span class="line"><span class="comment">#pace-theme-center-radar</span></span><br><span class="line"><span class="comment">#pace-theme-center-simple</span></span><br><span class="line"><span class="comment">#pace-theme-corner-indicator</span></span><br><span class="line"><span class="comment">#pace-theme-fill-left</span></span><br><span class="line"><span class="comment">#pace-theme-flash</span></span><br><span class="line"><span class="comment">#pace-theme-loading-bar</span></span><br><span class="line"><span class="comment">#pace-theme-mac-osx</span></span><br><span class="line"><span class="comment">#pace-theme-minimal</span></span><br><span class="line"><span class="comment"># For example</span></span><br><span class="line"><span class="comment"># pace_theme: pace-theme-center-simple</span></span><br><span class="line"><span class="attr">pace_theme:</span> <span class="string">pace-theme-minimal</span></span><br></pre></td></tr></table></figure></p>
<h5 id="åŠ å…¥â€fork-me-on-githubâ€çš„æ ‡ç­¾"><a href="#åŠ å…¥â€fork-me-on-githubâ€çš„æ ‡ç­¾" class="headerlink" title="åŠ å…¥â€fork me on githubâ€çš„æ ‡ç­¾"></a>åŠ å…¥â€fork me on githubâ€çš„æ ‡ç­¾</h5><p>åˆ°<a href="http://tholman.com/github-corners/" rel="external nofollow noopener noreferrer" target="_blank">è¿™ä¸ªç½‘ç«™</a>ä¸Šæ‰¾åˆ°è‡ªå·±å–œæ¬¢çš„æ ·å¼ï¼Œç„¶å<br>ç²˜è´´åˆ°themes/next/layout/_layout.swigä¸­ã€‚å…·ä½“æ¥è¯´å°±æ˜¯</p>
<figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">&lt;div class="&#123;&#123; container_class &#125;&#125; &#123;% block page_class %&#125;&#123;% endblock %&#125;"&gt;</span><br><span class="line">    &lt;div class="headband"&gt;&lt;/div&gt;</span><br><span class="line"><span class="addition">+    &lt;a href="your_github_url" class="github-corner" ...</span></span><br></pre></td></tr></table></figure>
<h5 id="ä¿®æ”¹é¼ æ ‡æŒ‡é’ˆæ ·å¼"><a href="#ä¿®æ”¹é¼ æ ‡æŒ‡é’ˆæ ·å¼" class="headerlink" title="ä¿®æ”¹é¼ æ ‡æŒ‡é’ˆæ ·å¼"></a>ä¿®æ”¹é¼ æ ‡æŒ‡é’ˆæ ·å¼</h5><p>åœ¨custom.stylä¸­åŠ å…¥ä»¥ä¸‹ä»£ç <br><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">// é¼ æ ‡æ ·å¼</span><br><span class="line">  * &#123;</span><br><span class="line">      <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">"https://0d077ef9e74d8.cdn.sohucs.com/rgaNVxD_png"</span>),auto<span class="meta">!important</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="æ·»åŠ â€œå…³äºâ€é¡µé¢ï¼Œå¹¶ä½¿ç”¨å±…ä¸­å¼•ç”¨æ¥å¼•ç”¨å¥å­"><a href="#æ·»åŠ â€œå…³äºâ€é¡µé¢ï¼Œå¹¶ä½¿ç”¨å±…ä¸­å¼•ç”¨æ¥å¼•ç”¨å¥å­" class="headerlink" title="æ·»åŠ â€œå…³äºâ€é¡µé¢ï¼Œå¹¶ä½¿ç”¨å±…ä¸­å¼•ç”¨æ¥å¼•ç”¨å¥å­"></a>æ·»åŠ â€œå…³äºâ€é¡µé¢ï¼Œå¹¶ä½¿ç”¨å±…ä¸­å¼•ç”¨æ¥å¼•ç”¨å¥å­</h5><p>å±…ä¸­å¼•ç”¨çš„HTMLä½¿ç”¨æ–¹æ³•ï¼š<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">blockquote</span> <span class="attr">class</span>=<span class="string">"blockquote-center"</span>&gt;</span></span><br><span class="line">    å¼±å°å’Œæ— çŸ¥ä¸æ˜¯ç”Ÿå­˜çš„éšœç¢ï¼Œå‚²æ…¢æ‰æ˜¯<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">b</span>&gt;</span>ã€Šä¸‰ä½“ã€‹<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>æ•ˆæœï¼š<br><img src="https://pic.superbed.cn/item/5cb9d2f03a213b04177eb09a" alt></p>
<h5 id="åœ¨å›åˆ°é¡¶éƒ¨æŒ‰é’®ä¸ŠåŠ å…¥æ˜¾ç¤ºå½“å‰é˜…è¯»è¿›åº¦çš„åŠŸèƒ½-åŒæ—¶å¯¹è¯¥æŒ‰é’®çš„æ ·å¼è¿›è¡Œä¿®æ”¹"><a href="#åœ¨å›åˆ°é¡¶éƒ¨æŒ‰é’®ä¸ŠåŠ å…¥æ˜¾ç¤ºå½“å‰é˜…è¯»è¿›åº¦çš„åŠŸèƒ½-åŒæ—¶å¯¹è¯¥æŒ‰é’®çš„æ ·å¼è¿›è¡Œä¿®æ”¹" class="headerlink" title="åœ¨å›åˆ°é¡¶éƒ¨æŒ‰é’®ä¸ŠåŠ å…¥æ˜¾ç¤ºå½“å‰é˜…è¯»è¿›åº¦çš„åŠŸèƒ½,åŒæ—¶å¯¹è¯¥æŒ‰é’®çš„æ ·å¼è¿›è¡Œä¿®æ”¹"></a>åœ¨å›åˆ°é¡¶éƒ¨æŒ‰é’®ä¸ŠåŠ å…¥æ˜¾ç¤ºå½“å‰é˜…è¯»è¿›åº¦çš„åŠŸèƒ½,åŒæ—¶å¯¹è¯¥æŒ‰é’®çš„æ ·å¼è¿›è¡Œä¿®æ”¹</h5><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­åšå¦‚ä¸‹ä¿®æ”¹ï¼š<br><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Scroll percent label in b2t button.</span></span><br><span class="line">  <span class="attr">scrollpercent:</span> <span class="literal">true</span>        <span class="string">//false-&gt;true</span></span><br></pre></td></tr></table></figure></p>
<p>è¿™ä¸ªæŒ‰é’®åŸæœ¬çš„å½¢çŠ¶æ˜¯æ–¹å½¢çš„ï¼ŒåŒæ—¶é‡Œé¢çš„ä¸‰æ¡çº¿æ˜¯ç™½è‰²çš„ï¼Œæˆ‘å°†å®ƒçš„å½¢çŠ¶æ”¹æˆäº†åœ†è§’æ–¹å½¢ï¼Œçº¿çš„é¢œè‰²æ”¹æˆäº†æ·¡è“è‰²,å¦å¤–è¿˜å¢åŠ äº†é˜´å½±æ•ˆæœã€‚è¿™ä¹Ÿåªéœ€è¦åœ¨custom.stylä¸­ä¿®æ”¹</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.back-to-top</span> &#123;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">29px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>);</span><br><span class="line">    <span class="attribute">padding-right</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">2.5px</span>;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">2.5px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">10px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.35</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="ä¸ºæ–‡ç« è¾¹æ¡†åŠ å…¥é˜´å½±æ•ˆæœã€‚"><a href="#ä¸ºæ–‡ç« è¾¹æ¡†åŠ å…¥é˜´å½±æ•ˆæœã€‚" class="headerlink" title="ä¸ºæ–‡ç« è¾¹æ¡†åŠ å…¥é˜´å½±æ•ˆæœã€‚"></a>ä¸ºæ–‡ç« è¾¹æ¡†åŠ å…¥é˜´å½±æ•ˆæœã€‚</h5><p>æ–¹æ³•è¿˜æ˜¯ä¿®æ”¹custom.styl</p>
<figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">.main-inner &#123; </span><br><span class="line">    margin-top: 60px;</span><br><span class="line">    padding: 60px 60px 60px 60px;</span><br><span class="line">    background: #fff;</span><br><span class="line"><span class="addition">+    box-shadow: 0px 10px 10px 0px rgba(0, 0, 0, 0.35);</span></span><br><span class="line">    opacity: 0.75;</span><br><span class="line">    min-height: 500px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="å–æ¶ˆé¡µé¢ä¸Šæ–¹é»‘è¾¹"><a href="#å–æ¶ˆé¡µé¢ä¸Šæ–¹é»‘è¾¹" class="headerlink" title="å–æ¶ˆé¡µé¢ä¸Šæ–¹é»‘è¾¹"></a>å–æ¶ˆé¡µé¢ä¸Šæ–¹é»‘è¾¹</h5><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒNexTä¼šåœ¨é¡µé¢çš„ä¸Šæ–¹åŠ ä¸€æ¡é»‘è¾¹<del>åˆ°åº•ä¸ºä»€ä¹ˆè¦åšè¿™ç§æ²¡ç”¨çš„äº‹</del>ï¼Œå–æ¶ˆé»‘è¾¹çš„æ–¹æ³•æ˜¯åœ¨custom.stylä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">//å–æ¶ˆé¡µé¢ä¸Šæ–¹çš„é»‘æ¡</span><br><span class="line"><span class="selector-class">.headband</span> &#123; <span class="attribute">display</span>: none; &#125;</span><br></pre></td></tr></table></figure>
<h5 id="ä¿®æ”¹ä¾§è¾¹æ»šåŠ¨æ¡"><a href="#ä¿®æ”¹ä¾§è¾¹æ»šåŠ¨æ¡" class="headerlink" title="ä¿®æ”¹ä¾§è¾¹æ»šåŠ¨æ¡"></a>ä¿®æ”¹ä¾§è¾¹æ»šåŠ¨æ¡</h5><p>åœ¨custom.stylä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">//ä¾§è¾¹æ»šåŠ¨æ¡</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">9px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-button</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-button</span><span class="selector-pseudo">:start</span><span class="selector-pseudo">:increment</span>,<span class="selector-pseudo">::-webkit-scrollbar-button</span><span class="selector-pseudo">:end</span><span class="selector-pseudo">:decrement</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-corner</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-thumb</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">5</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-track</span>,<span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;</span><br><span class="line">  <span class="attribute">border-right</span>: <span class="number">1px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">1px</span> solid transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-track</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-button</span><span class="selector-pseudo">:start</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(../images/scrollbar_arrow.png) no-repeat <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-button</span><span class="selector-pseudo">:start</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(../images/scrollbar_arrow.png) no-repeat -<span class="number">15px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-button</span><span class="selector-pseudo">:start</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(../images/scrollbar_arrow.png) no-repeat -<span class="number">30px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-button</span><span class="selector-pseudo">:end</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(../images/scrollbar_arrow.png) no-repeat <span class="number">0</span> -<span class="number">18px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-button</span><span class="selector-pseudo">:end</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(../images/scrollbar_arrow.png) no-repeat -<span class="number">15px</span> -<span class="number">18px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-button</span><span class="selector-pseudo">:end</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(../images/scrollbar_arrow.png) no-repeat -<span class="number">30px</span> -<span class="number">18px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="ä¿®æ”¹ç½‘ç«™æ ‡é¢˜ä¸º-xGeminix-ä¿®æ”¹ç½‘ç«™å‰¯æ ‡é¢˜ä¸º-TayEâ€™s-Blog"><a href="#ä¿®æ”¹ç½‘ç«™æ ‡é¢˜ä¸º-xGeminix-ä¿®æ”¹ç½‘ç«™å‰¯æ ‡é¢˜ä¸º-TayEâ€™s-Blog" class="headerlink" title="ä¿®æ”¹ç½‘ç«™æ ‡é¢˜ä¸º -xGeminix- ;ä¿®æ”¹ç½‘ç«™å‰¯æ ‡é¢˜ä¸º TayEâ€™s Blog"></a>ä¿®æ”¹ç½‘ç«™æ ‡é¢˜ä¸º -xGeminix- ;ä¿®æ”¹ç½‘ç«™å‰¯æ ‡é¢˜ä¸º TayEâ€™s Blog</h5><p>åœ¨blog_config.ymlä¸­æ‰¾åˆ°titleå’Œsubtitleä¿®æ”¹å³å¯ã€‚</p>
<div class="note warning"><p>è¿™ä¸¤é¡¹ä¿®æ”¹éƒ½éœ€è¦éƒ¨ç½²åæ‰èƒ½çœ‹åˆ°æ•ˆæœï¼</p></div>

<h5 id="åŠ å…¥äº†åˆ†äº«åŠŸèƒ½"><a href="#åŠ å…¥äº†åˆ†äº«åŠŸèƒ½" class="headerlink" title="åŠ å…¥äº†åˆ†äº«åŠŸèƒ½"></a>åŠ å…¥äº†åˆ†äº«åŠŸèƒ½</h5><p>æ–¹æ³•æ˜¯åœ¨ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ä¸­æ‰¾åˆ°ä¸‹é¢è¿™ä¸€æ®µï¼Œç„¶åæŠŠenableçš„falseæ”¹ä¸ºtrueï¼Œå†æ ¹æ®è‡ªå·±æƒ³è¦çš„æ ·å¼å°†floatæˆ–postbottomä¸­çš„enableæ”¹ä¸ºtrue</p>
<div class="note info"><p>å› ä¸ºå¾®ä¿¡åˆ†äº«æœ‰ç‚¹é—®é¢˜(äºŒç»´ç å›¾ç‰‡æ— æ³•åŠ è½½)ï¼Œè€Œæˆ‘åˆä¸ä¼šä¿®å¤ï¼Œæ‰€ä»¥å°±åˆ æ‰äº†è¿™ä¸€åŠŸèƒ½</p></div>

<h5 id="ä¿å­˜å½“å‰é˜…è¯»è¿›åº¦ï¼Œä¸‹æ¬¡é˜…è¯»æ—¶ç›´æ¥ä»ä¸Šæ¬¡ç»“æŸé˜…è¯»çš„ä½ç½®å¼€å§‹"><a href="#ä¿å­˜å½“å‰é˜…è¯»è¿›åº¦ï¼Œä¸‹æ¬¡é˜…è¯»æ—¶ç›´æ¥ä»ä¸Šæ¬¡ç»“æŸé˜…è¯»çš„ä½ç½®å¼€å§‹" class="headerlink" title="ä¿å­˜å½“å‰é˜…è¯»è¿›åº¦ï¼Œä¸‹æ¬¡é˜…è¯»æ—¶ç›´æ¥ä»ä¸Šæ¬¡ç»“æŸé˜…è¯»çš„ä½ç½®å¼€å§‹"></a>ä¿å­˜å½“å‰é˜…è¯»è¿›åº¦ï¼Œä¸‹æ¬¡é˜…è¯»æ—¶ç›´æ¥ä»ä¸Šæ¬¡ç»“æŸé˜…è¯»çš„ä½ç½®å¼€å§‹</h5><p>æ–¹æ³•æ˜¯å°†ä¸»é¢˜é…ç½®æ–‡ä»¶çš„save_scrollæ”¹ä¸ºtrue</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Automatically saving scroll position on each post/page in cookies.</span></span><br><span class="line"><span class="attr">save_scroll:</span> <span class="literal">true</span>    <span class="string">//false-&gt;true</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>ä¸ªæ€§åŒ–</tag>
        <tag>ç¾åŒ–</tag>
        <tag>ä¸åŠ¡æ­£ä¸šç³»åˆ—</tag>
        <tag>ä¸æŠ˜è…¾ä¼šæ­»ç³»åˆ—</tag>
      </tags>
  </entry>
  <entry>
    <title>JSä¸­çš„å±•å¼€è¯­æ³•</title>
    <url>/2020/08/04/JS%E4%B8%AD%E7%9A%84%E5%B1%95%E5%BC%80%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<p><img src="https://pic.downk.cc/item/5f29068a14195aa594529081.jpg" alt><br><a id="more"></a></p>
<p>çœ‹ä»£ç çš„æ—¶å€™é‡åˆ°äº†ä¸‹é¢è¿™æ ·ä¸€æ®µï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">generateSkeleton</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// æ–‡å­—èŠ‚ç‚¹</span></span><br><span class="line">  ;[...document.querySelectorAll(<span class="string">'*'</span>)]</span><br><span class="line">    .filter(</span><br><span class="line">      (node) =&gt;</span><br><span class="line">        ![<span class="string">'script'</span>, <span class="string">'style'</span>, <span class="string">'html'</span>, <span class="string">'body'</span>, <span class="string">'head'</span>, <span class="string">'title'</span>].includes(</span><br><span class="line">          node.tagName.toLowerCase()</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">    .map(<span class="function">(<span class="params">node</span>) =&gt;</span> [...node.childNodes].filter(<span class="function">(<span class="params">node</span>) =&gt;</span> node <span class="keyword">instanceof</span> Text))</span><br><span class="line">    .flat(<span class="literal">Infinity</span>)</span><br><span class="line">    .forEach(<span class="function">(<span class="params">node</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> span = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>)</span><br><span class="line">      node.parentNode.insertBefore(span, node)</span><br><span class="line">      span.appendChild(node)</span><br><span class="line">      span.style = <span class="string">`</span></span><br><span class="line"><span class="string">        background: #f2f2f2;</span></span><br><span class="line"><span class="string">        color: transparent !important;</span></span><br><span class="line"><span class="string">      `</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>(ä»£ç é“¾æ¥ï¼š<a href="https://zhuanlan.zhihu.com/p/166009071" rel="external nofollow noopener noreferrer" target="_blank">https://zhuanlan.zhihu.com/p/166009071</a>)</p>
<p>å‘ç°æœ‰â€œâ€¦â€è¿™æ ·çš„è¯­æ³•ã€‚æŸ¥äº†ä¸€ä¸‹æ–‡æ¡£ï¼ŒåŸæ¥è¿™æ˜¯jsä¸­çš„å±•å¼€è¯­æ³•ã€‚MDNä¸Šçš„å®šä¹‰ä¸º:</p>
<blockquote>
<p><strong>å±•å¼€è¯­æ³•(Spread syntax),</strong> å¯ä»¥åœ¨å‡½æ•°è°ƒç”¨/æ•°ç»„æ„é€ æ—¶, å°†æ•°ç»„è¡¨è¾¾å¼æˆ–è€…stringåœ¨è¯­æ³•å±‚é¢å±•å¼€ï¼›è¿˜å¯ä»¥åœ¨æ„é€ å­—é¢é‡å¯¹è±¡æ—¶, å°†å¯¹è±¡è¡¨è¾¾å¼æŒ‰key-valueçš„æ–¹å¼å±•å¼€ã€‚</p>
</blockquote>
<p>ä»¥ä¸Šé¢ä»£ç ä¸­çš„</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">...document.querySelectorAll(<span class="string">'*'</span>)</span><br></pre></td></tr></table></figure>
<p>ä¸ºä¾‹ï¼Œåœ¨chromeä¸­çš„è¿è¡Œç»“æœæ˜¯ï¼š</p>
<p><img src="https://pic.downk.cc/item/5f29032d14195aa59450fba2.jpg" alt></p>
<p>åœ¨è¿™é‡Œï¼Œâ€¦æŠŠä¸€ä¸ªnodelistå±•å¼€æ¥ï¼Œä½œä¸ºArrayçš„æ„é€ å‚æ•°ã€‚</p>
<p>å†çœ‹ä¸€ä¸ªåœ¨Stringä¸­åº”ç”¨çš„ä¸€ä¸ªä¾‹å­</p>
<p><img src="https://pic.downk.cc/item/5f29040c14195aa5945151b3.jpg" alt></p>
<p>ä¸éš¾æ˜ç™½ï¼Œâ€œâ€¦â€œçš„ä½œç”¨å…¶å®å°±æ˜¯æŠŠnodelistï¼Œstringç­‰å¯è¿­ä»£çš„ä¸œè¥¿å±•å¼€æ¥ã€‚</p>
]]></content>
  </entry>
  <entry>
    <title>POJ - 1330 Nearest Common Ancestors (Tarjanæ±‚LCAæ¨¡æ¿)</title>
    <url>/2019/08/07/POJ-1330-Nearest-Common-Ancestors-Tarjan%E6%B1%82LCA%E6%A8%A1%E6%9D%BF/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/Hefa1fd510a004e5b986687c88e78c004A.jpg" alt></p>
<p>From <strong>Google Earth</strong></p>
<a id="more"></a>
<p><a href="https://cn.vjudge.net/problem/POJ-1330" rel="external nofollow noopener noreferrer" target="_blank">Nearest Common Ancestors</a></p>
<p>å…¶å®å°±æ˜¯LCAçš„æ¨¡æ¿é¢˜â€¦â€¦å±¯ä¸€ä¸‹æ¿å­</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> next; </span><br><span class="line">&#125;;</span><br><span class="line">edge es[maxn];</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    es[cnt].to=v;</span><br><span class="line">    es[cnt].next=head[u];</span><br><span class="line">    head[u]=cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> in[maxn];</span><br><span class="line"><span class="keyword">int</span> fa[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        fa[i]=i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find_fa</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(fa[x]!=x)    </span><br><span class="line">        fa[x]=find_fa(fa[x]);</span><br><span class="line">    <span class="keyword">return</span> fa[x]; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">join</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> fx=find_fa(x);</span><br><span class="line">    <span class="keyword">int</span> fy=find_fa(y);</span><br><span class="line">    <span class="keyword">if</span>(fx!=fy)&#123;</span><br><span class="line">        fa[fy]=fx;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> ans;</span><br><span class="line"><span class="keyword">int</span> qx,qy;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">lca</span><span class="params">(<span class="keyword">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=head[u];i!=<span class="number">-1</span>;i=es[i].next)&#123;</span><br><span class="line">        <span class="keyword">int</span> v=es[i].to;</span><br><span class="line">        lca(v);</span><br><span class="line">        join(u,v);</span><br><span class="line">        vis[v]=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(qx==u&amp;&amp;vis[qy])</span><br><span class="line">        ans=find_fa(qy);</span><br><span class="line">    <span class="keyword">if</span>(qy==u&amp;&amp;vis[qx])</span><br><span class="line">        ans=find_fa(qx);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;;</span><br><span class="line">        mst(vis,<span class="number">0</span>);</span><br><span class="line">        mst(head,<span class="number">-1</span>);mst(in,<span class="number">0</span>);</span><br><span class="line">        ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> n;<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        init(n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n<span class="number">-1</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> u,v;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;u&gt;&gt;v;</span><br><span class="line">            add(u,v);in[v]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> rt;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(in[i]==<span class="number">0</span>)&#123;</span><br><span class="line">                rt=i;<span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;qx&gt;&gt;qy;</span><br><span class="line">        lca(rt);</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>POJ - 3734 Block</title>
    <url>/2019/02/22/POJ-3734-Block/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/POJ-3734" rel="external nofollow noopener noreferrer" target="_blank">Block</a></p>
<p>&emsp;&emsp;è¿™æ˜¯å†¬è®­çš„ä¸€é“å…³äºçŸ©é˜µå¿«é€Ÿå¹‚çš„é¢˜ç›®ï¼Œä½†æˆ‘ç¡¬æ˜¯æƒ³ä¸å‡ºé€’æ¨å¼ï¼Œäºæ˜¯åªå¥½ç¡¬æ¨å…¬å¼(<del>åŒæ—¶éƒ¨åˆ†å‚è€ƒé¢˜è§£</del>)</p>
<a id="more"></a>
<p>æ¨å¯¼è¿‡ç¨‹å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://pic.superbed.cn/item/5c7009045f3e509ed9471ca9" alt></p>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line">ll mod=<span class="number">10007</span>;</span><br><span class="line"><span class="function">ll <span class="title">fpow</span><span class="params">(ll a,ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll ans=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>)</span><br><span class="line">            ans=(ans*a)%mod;</span><br><span class="line">        a=(a*a)%mod;</span><br><span class="line">        b&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        ll ans=((fpow(<span class="number">2</span>,n<span class="number">-1</span>)<span class="number">-1</span>)*fpow(<span class="number">2</span>,n<span class="number">-1</span>)+fpow(<span class="number">2</span>,n)+mod)%mod;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>ç»„åˆæ•°å­¦</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>ç»„åˆæ•°å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>POJ1182-é£Ÿç‰©é“¾</title>
    <url>/2019/01/26/POJ1182-%E9%A3%9F%E7%89%A9%E9%93%BE/</url>
    <content><![CDATA[<p>é¢˜ç›®é“¾æ¥ï¼š<a href="http://poj.org/problem?id=1182" rel="external nofollow noopener noreferrer" target="_blank">1182-é£Ÿç‰©é“¾</a><br><a id="more"></a><br>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">int</span> pre[<span class="number">50010</span>];</span><br><span class="line"><span class="keyword">int</span> rankrr[<span class="number">50010</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">50000</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findr</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> r;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    t=pre[x];</span><br><span class="line">    <span class="keyword">if</span>(pre[x]==x)        <span class="keyword">return</span> pre[x];</span><br><span class="line">    r=findr(pre[x]);        <span class="comment">//é€’å½’æŸ¥æ‰¾æ ¹èŠ‚ç‚¹ </span></span><br><span class="line">    pre[x]=r;                <span class="comment">//è·¯å¾„å‹ç¼© </span></span><br><span class="line">    rankrr[x]=(rankrr[x]+rankrr[t])%<span class="number">3</span>;        <span class="comment">//æ”¹å˜å­èŠ‚ç‚¹çš„æƒå€¼</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"find......done\n"</span>); </span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> d)</span></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"merge......done\n"</span>);</span><br><span class="line">    <span class="keyword">int</span> rx,ry;</span><br><span class="line">    rx=findr(x);</span><br><span class="line">    ry=findr(y);</span><br><span class="line">    pre[rx]=ry;</span><br><span class="line">    rankrr[rx]=(rankrr[y]-rankrr[x]+<span class="number">3</span>+d)%<span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> fake=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> n,k;</span><br><span class="line">    <span class="keyword">int</span> x,y,d;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;k);</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=maxn;i++)&#123;</span><br><span class="line">        pre[i]=i;</span><br><span class="line">        rankrr[i]=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(k--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>,&amp;d,&amp;x,&amp;y);</span><br><span class="line">        <span class="keyword">if</span>((x&gt;n||y&gt;n)||(d==<span class="number">2</span>&amp;&amp;x==y))&#123;</span><br><span class="line">            fake++;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"fake++\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">int</span> fx=findr(x);</span><br><span class="line">            <span class="keyword">int</span> fy=findr(y);</span><br><span class="line">            <span class="keyword">if</span>(fx!=fy)&#123;</span><br><span class="line">                merge(x,y,d<span class="number">-1</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>((rankrr[x]-rankrr[y]+<span class="number">3</span>)%<span class="number">3</span>!=d<span class="number">-1</span>)&#123;</span><br><span class="line">                    fake++;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"fake++\n"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,fake);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¦–å…ˆè¿™é“é¢˜è¦å¼„æ˜ç™½çš„æ˜¯é¢˜ç›®ä¸­çš„â€œå½“å‰çš„è¯ä¸å‰é¢çš„æŸäº›çœŸçš„è¯å†²çªï¼Œå°±æ˜¯å‡è¯â€åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€ã€‚äº‹å®ä¸Šï¼Œç¬¬ä¸€å¥è¯è‚¯å®šæ˜¯çœŸçš„ï¼Œå› ä¸ºå‡å¦‚ç¬¬ä¸€å¥è¯æ˜¯å‡çš„ï¼Œé‚£æˆ‘ä»¬å°±æ²¡æœ‰å¯ä»¥åˆ¤æ–­ç¬¬äºŒå¥è¯çœŸå‡çš„ä¾æ®äº†ã€‚æ¥ä¸‹æ¥è¦åšçš„å…¶å®åªæ˜¯åˆ¤æ–­å½“å‰çš„è¯ä¸ä¸Šé¢çš„è¯æ˜¯å¦å†²çªã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœå½“å‰æè¿°ä¸‹ï¼Œxä¸pre[x]æ— ç¡®å®šçš„å…³ç³»ï¼Œå³fx!=fyï¼Œåˆ™å°†å½“å‰è¯´æ³•çœ‹ä½œæ˜¯æ­£ç¡®çš„æ¥è¿›è¡Œmergeã€‚å¦‚æœæœ‰ç¡®å®šçš„å…³ç³»ï¼Œå†æ ¹æ®(rankr[x]-rankr[y]+3)%3ä¸d-1çš„å…³ç³»æ¥åˆ¤æ–­å¯¹é”™ã€‚å¦‚æœä¸¤è€…ä¸ç›¸ç­‰ï¼Œåˆ™ä¸ºé”™ï¼›å¦åˆ™ï¼Œå¯¹ã€‚<br>é‚£ä¹ˆï¼Œå¦‚ä½•è¿›è¡Œé›†åˆçš„åˆ’åˆ†å‘¢ï¼Ÿåœ¨è¿™é“é¢˜é‡Œï¼Œé›†åˆçš„åˆ’åˆ†ä¾æ®ä¸æ˜¯æ˜¯å¦ä¸ºåŒç±»ï¼Œè€Œæ˜¯â€œæ˜¯å¦èƒ½ç¡®å®šä¸¤è€…ä¹‹é—´çš„å…³ç³»â€ã€‚ï¼ˆâ€œ æ³¨æ„ï¼Œè¿™é‡Œä¸æ˜¯æ ¹æ®xä¸father[x]æ˜¯å¦æ˜¯åŒç±»æ¥åˆ’åˆ†ã€‚è€Œæ˜¯æ ¹æ®â€œxä¸father[x]èƒ½å¦ç¡®å®šä¸¤è€…ä¹‹é—´çš„å…³ç³»â€æ¥åˆ’åˆ†ï¼Œè‹¥èƒ½ç¡®å®šxä¸father[x]çš„å…³ç³»ï¼Œåˆ™å®ƒä»¬åŒå±ä¸€ä¸ªé›†åˆâ€ï¼Œæ‘˜è‡ªé¢˜è§£ï¼‰<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨åˆ¤æ–­çš„æ—¶å€™ï¼Œå¦‚æœè¾“å…¥çš„ä¸¤åªåŠ¨ç‰©ä¸æ˜¯é™„å±äºåŒä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼ŒåŠä¸èƒ½ç¡®å®šä¸¤è€…çš„å…³ç³»ï¼Œå°±è¿›è¡Œmergeï¼Œmergeçš„æ—¶å€™è¿˜è¦æ›´æ–°è¢«å¹¶å…¥çš„é‚£ä¸ªé›†åˆï¼ˆå³æ–°çš„å­æ ‘ï¼‰çš„æ ¹èŠ‚ç‚¹çš„æƒå€¼ï¼ˆå³ä»–ä¸æ–°çš„æ ¹èŠ‚ç‚¹çš„å…³ç³»ï¼‰ã€‚å†åˆå¹¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦è¿›è¡Œæ ¹èŠ‚ç‚¹çš„æƒå€¼æ›´æ–°ï¼Œè¢«å¹¶å…¥çš„é›†åˆçš„å­èŠ‚ç‚¹çš„æƒå€¼é€šè¿‡findrï¼ˆï¼‰é¡ºå¸¦æ›´æ–°ï¼ˆè¿™ä¹Ÿæ˜¯å¸¦æƒå¹¶æŸ¥é›†çš„ç²¾é«“å’Œéš¾ç‚¹ï¼‰<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è¿™é“é¢˜ä¸­ï¼Œå¹¶æŸ¥é›†å¹¶ä¸æ˜¯è¦ä½“ç°å±‚çº§å…³ç³»ã€‚åŒä¸€æ£µæ ‘ä¸­çš„å„ä¸ªèŠ‚ç‚¹ä¹‹é—´å…¶å®åªæ˜¯å¹³ç­‰çš„å‡ ä½•å…ƒç´ å…³ç³»ï¼Œè€Œæ²¡æœ‰ä¸Šä¸‹çº§å…³ç³»ï¼ˆæˆ–è€…è¯´ä¸Šä¸‹çº§å…³ç³»å¯¹è¿™é“é¢˜è€Œè¨€æ²¡ç”¨ï¼‰</p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>å›¾è®º</category>
        <category>å¹¶æŸ¥é›†</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>å›¾è®º</tag>
        <tag>å¹¶æŸ¥é›†</tag>
      </tags>
  </entry>
  <entry>
    <title>POJ1328-Radar Installation(è´ªå¿ƒ)</title>
    <url>/2019/01/26/POJ1328-Radar-Installation-%E8%B4%AA%E5%BF%83/</url>
    <content><![CDATA[<p>&#160; &#160; &#160; &#160;æ€è·¯ï¼šä»¥å²›å±¿ä¸ºåœ†å¿ƒä½œåŠå¾„ä¸ºdçš„åœ†ï¼Œåˆ™æ¯ä¸ªå¯ä»¥è¢«è¦†ç›–çš„å²›å±¿ï¼ˆå³y&lt;=dï¼‰éƒ½å¯ä»¥åœ¨xè½´ä¸Šå½¢æˆä¸€ä¸ªæˆ–ä¸¤ä¸ªäº¤ç‚¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªå²›å±¿åœ¨ç”»åœ†åéƒ½åœ¨xè½´ä¸Šå½¢æˆä¸€ä¸ªé•¿åº¦å¤§äºæˆ–ç­‰äº0çš„åŒºé—´ã€‚è¿™äº›åŒºé—´å³ä¸ºå®‰è£…é›·è¾¾çš„åœ°æ–¹ã€‚æ¥ä¸‹æ¥è¦åšçš„å°±æ˜¯å°†è¿™äº›åŒºé—´çš„ç›¸äº¤åŒºé—´ï¼ˆå³äº¤é›†ï¼‰æ‰¾å‡ºæ¥å¹¶è®¡æ•°ã€‚ç›¸äº¤åŒºé—´çš„æ•°ç›®å³ä¸ºé›·è¾¾çš„æ•°ç›®ã€‚<br><a id="more"></a><br><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    <span class="keyword">double</span> x;</span><br><span class="line">    <span class="keyword">double</span> y;</span><br><span class="line">&#125;island;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    <span class="keyword">double</span> L;</span><br><span class="line">    <span class="keyword">double</span> R;</span><br><span class="line">&#125;interval;</span><br><span class="line">island a[<span class="number">1010</span>];</span><br><span class="line">interval b[<span class="number">1010</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">const</span> interval &amp;a,<span class="keyword">const</span> interval &amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.L&lt;b.L;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> num;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="keyword">double</span> d;</span><br><span class="line">    <span class="keyword">int</span> n,test;</span><br><span class="line">    <span class="keyword">int</span> no;</span><br><span class="line">    <span class="keyword">int</span> i,j;</span><br><span class="line">    <span class="keyword">int</span> ans;</span><br><span class="line">    <span class="keyword">for</span>(test=<span class="number">1</span>,num=<span class="number">0</span>;<span class="built_in">scanf</span>(<span class="string">"%d %lf"</span>,&amp;n,&amp;d)!=EOF;test++)</span><br><span class="line">    &#123;    </span><br><span class="line">        ans=<span class="number">0</span>;no=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> flag=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(!n&amp;&amp;!d)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="keyword">sizeof</span>(a));</span><br><span class="line">        <span class="built_in">memset</span>(b,<span class="number">0</span>,<span class="keyword">sizeof</span>(b));</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lf %lf"</span>,&amp;a[i].x,&amp;a[i].y);</span><br><span class="line">            <span class="keyword">if</span>(a[i].y&gt;d)&#123;</span><br><span class="line">                flag=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"Case %d: -1\n"</span>,test);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            b[i].L=a[i].x-<span class="built_in">sqrt</span>(d*d-((a[i].y)*(a[i].y)));</span><br><span class="line">            b[i].R=a[i].x+<span class="built_in">sqrt</span>(d*d-((a[i].y)*(a[i].y)));</span><br><span class="line">        &#125;</span><br><span class="line">        sort(b+<span class="number">1</span>,b+n+<span class="number">1</span>,cmp);</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>,ans=<span class="number">0</span>;i&lt;=n;i++)&#123;        <span class="comment">//i++ï¼šå½“æ‰¾åˆ°ä¸€ä¸ªç›¸äº¤åŒºé—´åï¼ŒæŸ¥æ‰¾ä¸‹ä¸€ä¸ªç›¸äº¤åŒºé—´çš„èµ·å§‹å·¦ç«¯ç‚¹å€¼å³ä¸ºä¸Šä¸€ä¸ªç›¸äº¤åŒºé—´ï¼ˆå°±æ˜¯å·²ç»è¢«æ‰¾åˆ°äº†çš„é‚£ä¸ªï¼‰çš„å·¦ç«¯ç‚¹å€¼çš„ä¸‹ä¸€ä¸ª</span></span><br><span class="line">            ans++;</span><br><span class="line">            <span class="keyword">double</span> right=b[i].R;</span><br><span class="line">            <span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(b[j].L&lt;=right)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(b[j].R&lt;right)&#123;</span><br><span class="line">                        right=b[j].R;        <span class="comment">//å°†å³ç«¯ç‚¹å·¦ç§»</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    i++;            <span class="comment">//å°†å·¦ç«¯ç‚¹å³ç§»</span></span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: %d\n"</span>,test,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>&#160; &#160; &#160; &#160;æ‰¾ç›¸äº¤åŒºé—´éƒ¨åˆ†çš„è®²è§£ï¼šæ‰¾ç›¸äº¤åŒºé—´å°±æ˜¯è¦æ‰¾åˆ°å°½å¯èƒ½å¤§çš„å·¦ç«¯ç‚¹å’Œå³ç«¯ç‚¹ã€‚å…ˆå°†ç»“æ„æ•°ç»„b[]æŒ‰æ¯ä¸ªåŒºé—´çš„å·¦ç«¯ç‚¹å¤§å°å‡åºæ’åˆ—ï¼Œè¿™æ ·æ˜¯ä¸ºäº†æ‰¾åˆ°å°½å¯èƒ½å¤§çš„å·¦ç«¯ç‚¹ã€‚æ¯æ¬¡å¾ªç¯ä¸­åŒæ—¶å°†å·¦ç«¯ç‚¹å³ç§»ã€å³ç«¯ç‚¹å·¦ç§»ç›´åˆ°å·¦ç«¯ç‚¹å¤§äºå³ç«¯ç‚¹ã€‚å› ä¸ºæ¯ä¸€è½®å¾ªç¯éƒ½å¿…å®šèƒ½æ‰¾åˆ°ä¸€ä¸ªç›¸äº¤åŒºé—´ï¼Œæ•…æ¯ä¸€è½®å¾ªç¯éƒ½è¦ans++ã€‚</p>
<p>åŸåšæ³•ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    <span class="keyword">double</span> x;</span><br><span class="line">    <span class="keyword">double</span> y;</span><br><span class="line">&#125;island;</span><br><span class="line">island a[<span class="number">1010</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">const</span> island &amp;a,<span class="keyword">const</span> island &amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.x&lt;b.x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> tag[<span class="number">1010</span>];</span><br><span class="line"><span class="keyword">int</span> num;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="keyword">double</span> d;</span><br><span class="line">    <span class="keyword">int</span> n,test;</span><br><span class="line">    <span class="keyword">int</span> no;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">int</span> ans;</span><br><span class="line">    <span class="keyword">for</span>(test=<span class="number">1</span>,num=<span class="number">0</span>;<span class="built_in">scanf</span>(<span class="string">"%d %lf"</span>,&amp;n,&amp;d)!=EOF;test++)</span><br><span class="line">    &#123;    </span><br><span class="line">        no=<span class="number">0</span>,ans=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="keyword">sizeof</span>(a));</span><br><span class="line">        <span class="keyword">if</span>(!n&amp;&amp;!d)        <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lf %lf"</span>,&amp;a[i].x,&amp;a[i].y);</span><br><span class="line">            <span class="keyword">if</span>(a[i].y&gt;d)</span><br><span class="line">                no=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(no)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"Case %d: -1\n"</span>,test);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="comment">//æ¯æ¬¡éƒ½ä»¥æœ€å·¦è¾¹çš„ä¸ºè¢«åœˆå…¥åœ†åœˆä¸­çš„å²›å±¿ä¸ºå‚è€ƒæ¥ç¡®å®šå®‰è£…ç‚¹çš„åæ ‡ï¼Œç›´åˆ°å…¨éƒ¨éƒ½è¢«è¦†ç›–å®Œ</span></span><br><span class="line">        sort(a+<span class="number">1</span>,a+n+<span class="number">1</span>,cmp);</span><br><span class="line">        <span class="keyword">int</span> st=<span class="number">1</span>,cov;</span><br><span class="line">        <span class="keyword">double</span> xtmp;</span><br><span class="line">        <span class="keyword">for</span>(cov=<span class="number">0</span>;cov!=n;)&#123;</span><br><span class="line">                xtmp=a[st].x+<span class="built_in">sqrt</span>(d*d-(a[st].y)*(a[st].y));</span><br><span class="line">                <span class="keyword">for</span>(i=st;i&lt;=n;i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(((xtmp-a[i].x)*(xtmp-a[i].x)+(a[i].y)*(a[i].y))&gt;d*d)&#123;</span><br><span class="line">                    st=i;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                tag[i]=<span class="literal">true</span>;</span><br><span class="line">                cov++;</span><br><span class="line">            &#125;</span><br><span class="line">            ans++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: %d\n"</span>,test,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&#160; &#160; &#160; &#160;è¿™ä¸ªåšæ³•çš„æ€è·¯æ˜¯æ¯æ¬¡éƒ½ä»¥æœ€å·¦è¾¹çš„æœªè¢«è¦†ç›–çš„å²›å±¿æ¥ç¡®å®šé›·è¾¾çš„åæ ‡ï¼ˆå³åˆšå¥½èƒ½è¦†ç›–æœ€å·¦è¾¹çš„è¿™ä¸ªå²›å±¿ï¼‰ï¼Œå¾ªç¯åœ°å»åšï¼Œç›´åˆ°æ‰€æœ‰çš„å²›å±¿éƒ½è¢«è¦†ç›–ã€‚ä½†è¿™æ ·åšçš„é—®é¢˜åœ¨äºï¼Œå¹¶ä¸ä¸€å®šèƒ½å°½å¯èƒ½å¤šåœ°è¦†ç›–å²›å±¿ã€‚æ¯”å¦‚è¯´è¿™ç»„æ•°æ®ï¼š</p>
<p>2 3<br>0 2<br>1 3</p>
<p>&#160; &#160; &#160; &#160;æ­£ç¡®è¾“å‡ºæ˜¯1ï¼Œä½†ç”¨è¿™ç§æ–¹æ³•åšå‡ºæ¥çš„ç­”æ¡ˆæ˜¯2ã€‚ä»¥æœ€å·¦è¾¹çš„æœªè¢«è¦†ç›–çš„ç‚¹(0,2)ä¸ºåŸºå‡†ç¡®å®šé›·è¾¾åæ ‡åï¼Œé›·è¾¾å¹¶ä¸èƒ½æŠŠ(1,3)è¦†ç›–ã€‚ä½†å®é™…ä¸Šï¼Œåªéœ€è¦ä¸€ä¸ªåœ¨x=1ä¸Šçš„é›·è¾¾å°±å¯ä»¥å°†ä¸¤ä¸ªå²›å±¿è¦†ç›–ã€‚</p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>è´ªå¿ƒ</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>POJ1015 - Jury Compromise</title>
    <url>/2019/07/22/POJ1015-Jury-Compromise/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/HTB1zWoua1T2gK0jSZFvq6xnFXXaO.jpg" alt></p>
<p>Photo by Johannes Plenio from Pexels<br><a id="more"></a><br><a href="https://cn.vjudge.net/problem/POJ-1015" rel="external nofollow noopener noreferrer" target="_blank">Jury Compromise</a></p>
<p>ä¸€é“dpé¢˜ï¼Œæ„Ÿè§‰æœ‰ä¸€å®šçš„éš¾åº¦ã€‚</p>
<p>ä¸€å¼€å§‹çš„æ—¶å€™å‘ç°å®ƒå¾ˆåƒæ˜¯01èƒŒåŒ…ï¼Œå°†æ¯ä¸ªäººçœ‹ä½œæ˜¯ä¸€ä»¶ç‰©å“ï¼Œéœ€è¦å–çš„äººæ•°çœ‹ä½œæ˜¯èƒŒåŒ…çš„æ€»å®¹é‡ï¼Œæ±‚è¦æ€æ ·å–ç‰©å“(é€‰äºº)æ‰èƒ½ä½¿å¾—$\sum p_i-\sum d_i$æœ€å°ï¼›åŒæ—¶ï¼Œå¦‚æœå­˜åœ¨$\sum p_i-\sum d_i$ç›¸åŒçš„æƒ…å†µï¼Œåˆ™å–$\sum p_i+\sum d_i$è¾ƒå¤§çš„é‚£ä¸€ç§æ–¹æ¡ˆã€‚</p>
<p>ä¸€å¼€å§‹å°è¯•äº†è¿™æ ·çš„å†™æ³•ï¼Œ</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> last=<span class="number">-1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=m;j&gt;=<span class="number">1</span>;j--)&#123;</span><br><span class="line">        <span class="keyword">if</span>((dp1[j<span class="number">-1</span>]+abs_(d[i]-p[i])&lt;dp1[j])||(dp1[j<span class="number">-1</span>]+abs_(d[i]-p[i])==dp1[j]&amp;&amp;dp2[j<span class="number">-1</span>]+d[i]+p[i]&gt;dp2[j]))&#123;</span><br><span class="line">            dp1[j]=dp1[j<span class="number">-1</span>]+abs_(d[i]-p[i]);</span><br><span class="line">            dp2[j]=dp2[j<span class="number">-1</span>]+(d[i]+p[i]);</span><br><span class="line">            pre[i]=last;</span><br><span class="line">            last=i;        </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>emmmmmå¾ˆæ˜æ˜¾æ˜¯ä¸è¡Œçš„OTZ</p>
<p>åæ¥åˆå°è¯•äº†å¦ä¸€ç§å†™æ³•ï¼Œå³æ˜¯ä½¿ç”¨ä¸€ä¸ªäºŒç»´dpæ•°ç»„ï¼Œå‚ç…§<a href="https://www.luogu.org/problemnew/show/P1855" rel="external nofollow noopener noreferrer" target="_blank">æ´›è°·P1555</a>çš„åšæ³•æ¥å†™ï¼Œå°†$\sum p_i+\sum d_i$å›ºå®šå¹¶å¯¹å®ƒè¿›è¡Œæšä¸¾ï¼Œä»£ç å¤§è‡´é•¿è¿™æ ·ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">1</span>;k&lt;=n;k++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">800</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=m;j&gt;=<span class="number">1</span>;j--)&#123;</span><br><span class="line">            <span class="keyword">int</span> temp=dp[i][j];</span><br><span class="line">            dp[i][j]=<span class="built_in">min</span>(dp[i][j],dp[i-d[k]-p[k]][j<span class="number">-1</span>]+abs_(d[k]-p[k]));</span><br><span class="line">            <span class="keyword">if</span>(dp[i][j]!=temp)&#123;</span><br><span class="line">                pre[k]=last;</span><br><span class="line">                last=k;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½†è¿™ç§åšæ³•ä¹Ÿä¸å¯â€¦â€¦ä½†è‡³å°‘å›ºå®šä½ä¸€ä¸ªè¿™ä¸€æƒ³æ³•æ˜¯æ­£ç¡®çš„ã€‚</p>
<p>æ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯å›ºå®šä½å·®ï¼Œç„¶åæ±‚èƒ½ä½¿å’Œæœ€å¤§çš„æ–¹æ¡ˆã€‚dp[j][k]è¡¨ç¤ºåœ¨å–jäººï¼Œå·®ä¸ºkçš„æ‰€æœ‰æ–¹æ¡ˆä¸­ï¼Œå’Œæœ€å¤§çš„é‚£ä¸ªæ–¹æ¡ˆçš„å’Œã€‚å¯¹äºæ–¹æ¡ˆdp[j][k]æˆ‘ä»¬ä¸éš¾å‘ç°å®ƒæ˜¯ç”±æŸä¸ªæ–¹æ¡ˆdp[j-1][x]é€’æ¨è€Œæ¥çš„ã€‚æˆ‘ä»¬è¦æ‰¾çš„æ˜¯è¿™æ ·çš„ä¸€ä¸ªå€™é€‰äººiï¼šæ­¤äººåœ¨æ–¹æ¡ˆdp[j-1][x]ä¸­æ²¡æœ‰è¢«é€‰ä¸­ï¼Œä¸”æ­¤äººæ»¡è¶³$x+p[i]-d[j]=k$ã€‚æ‰¾å‡ºè¿™ä¸ªäººï¼Œå¹¶åœ¨æ‰€æœ‰æ»¡è¶³è¦æ±‚çš„dp[j-1][x]ä¸­ï¼Œæ‰¾åˆ°å’Œæœ€å¤§çš„é‚£ä¸€ä¸ªï¼Œä»è€Œè½¬ç§»çš„åˆ°dp[j][k]ã€‚è¿™é¢˜è¿˜éœ€è¦è¾“å‡ºè¢«é€‰çš„äººï¼Œå…¶å®å°±æ˜¯è®°å½•è·¯å¾„ã€‚åªéœ€è¦è®°å½•ä¸‹è½¬ç§»å¾—åˆ°dp[j][k]æ—¶çš„å€™é€‰äººiå³å¯ã€‚å¦å¤–ï¼Œç”±äºè®¡ç®—å·®çš„æ—¶å€™å¯èƒ½ä¼šäº§ç”Ÿè´Ÿæ•°ä»è€Œå½±å“æ•°ç»„æ“ä½œï¼Œæ‰€ä»¥è¦åšä¸€å®šçš„åç§»ï¼Œä¿è¯ä¸ä¼šäº§ç”Ÿè´Ÿæ•°ã€‚å› ä¸ºå·®å€¼çš„ç»å¯¹å€¼ä¸ä¼šè¶…è¿‡20*mï¼Œæ‰€ä»¥å°†æ•´ä¸ªå·®å€¼å¯èƒ½å‡ºç°çš„åŒºé—´å‘å³åç§»20*må³å¯ã€‚è¿˜æœ‰ä¸€ç‚¹ï¼Œåœ¨è®¡ç®—prosecution sumå’Œdefence sumæ—¶ï¼Œå› ä¸ºdpæ±‚å¾—çš„æ—¶$\sum p_i+\sum d_i$ï¼Œæ‰€ä»¥è¦åšä¸€å®šçš„å¤„ç†å¾—åˆ°$\sum p_i$å’Œ$\sum d_i$ã€‚å…·ä½“åšæ³•æ˜¯ï¼š</p>
<script type="math/tex; mode=display">
\sum p_i = \frac{\sum (p_i+d_i) + (\sum p_i - \sum d_i)}{2}\\
\sum d_i = \frac{\sum (p_i+d_i) - (\sum p_i - \sum d_i)}{2}</script><p>å®é™…æ“ä½œæ—¶è¿˜è¦è®°å¾—å‡å»åç§»æŠŠåŒºé—´ç§»å›æ¥</p>
<p>æ›´è¯¦ç»†çš„è§æ³¨é‡Š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> d[<span class="number">300</span>],p[<span class="number">300</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">30</span>][<span class="number">1000</span>];        </span><br><span class="line"><span class="keyword">int</span> path[<span class="number">30</span>][<span class="number">1000</span>];</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ans;</span><br><span class="line"><span class="comment">//dp[j][k]è¡¨ç¤ºåœ¨å–jäºº,å·®ä¸ºkçš„æ‰€æœ‰æ–¹æ¡ˆä¸­,å’Œæœ€å¤§çš„é‚£ä¸ªæ–¹æ¡ˆçš„å’Œ </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> kase=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;m)!=EOF&amp;&amp;n&amp;&amp;m)&#123;</span><br><span class="line">        <span class="keyword">int</span> sumd=<span class="number">0</span>;<span class="keyword">int</span> sump=<span class="number">0</span>;</span><br><span class="line">        mst(dp,<span class="number">-1</span>);</span><br><span class="line">        mst(path,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;p[i],&amp;d[i]);</span><br><span class="line">        <span class="keyword">int</span> offset=<span class="number">20</span>*m;        <span class="comment">//å› ä¸ºå·®æ‰€åœ¨çš„åŒºé—´ä¸º[-20*m,20*m],æ‰€ä»¥åç§»ä¸º20*m </span></span><br><span class="line">        dp[<span class="number">0</span>][offset]=<span class="number">0</span>;        <span class="comment">//ç›¸å½“äºdp[0][0]=0 </span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)&#123;    <span class="comment">//ä»1ä¸ªäººæ¨åˆ°mä¸ªäºº </span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;=offset*<span class="number">2</span>;k++)&#123;    <span class="comment">//åç§»å,å·®å‡ºç°çš„åŒºé—´åœ¨[0,20*m] </span></span><br><span class="line">                <span class="keyword">if</span>(dp[j][k]&gt;=<span class="number">0</span>)&#123;        <span class="comment">//å¦‚æœè¯¥æ–¹æ¡ˆå­˜åœ¨ </span></span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;    <span class="comment">//æšä¸¾nä¸ªäºº </span></span><br><span class="line">                        <span class="keyword">if</span>(dp[j][k]+d[i]+p[i]&gt;dp[j+<span class="number">1</span>][k+p[i]-d[i]])&#123;</span><br><span class="line">                            <span class="keyword">int</span> tmp1=j;</span><br><span class="line">                            <span class="keyword">int</span> tmp2=k;</span><br><span class="line">                            <span class="keyword">while</span>(tmp1&gt;<span class="number">0</span>&amp;&amp;path[tmp1][tmp2]!=i)&#123;        <span class="comment">//æ£€æŸ¥ä¹‹å‰iè¿™ä¸ªäººä¹‹å‰æ˜¯å¦å‡ºç°è¿‡ </span></span><br><span class="line">                                tmp2-=p[path[tmp1][tmp2]]-d[path[tmp1][tmp2]];</span><br><span class="line">                                tmp1--;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">if</span>(tmp1==<span class="number">0</span>)&#123;        <span class="comment">//iæ²¡æœ‰å‡ºç°è¿‡ </span></span><br><span class="line">                                dp[j+<span class="number">1</span>][k+p[i]-d[i]]=dp[j][k]+d[i]+p[i];</span><br><span class="line">                                path[j+<span class="number">1</span>][k+p[i]-d[i]]=i;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> tmp1,tmp2;</span><br><span class="line">        tmp1=offset;</span><br><span class="line">        tmp2=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> maxi=-INF;<span class="keyword">int</span> tag=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(dp[m][tmp1+tmp2]&lt;<span class="number">0</span>&amp;&amp;dp[m][tmp1-tmp2]&lt;<span class="number">0</span>)        </span><br><span class="line">            tmp2++;</span><br><span class="line">        <span class="keyword">int</span> sub;</span><br><span class="line">        <span class="keyword">if</span>(dp[m][tmp1+tmp2]&gt;dp[m][tmp1-tmp2])</span><br><span class="line">            sub=tmp1+tmp2;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            sub=tmp1-tmp2;</span><br><span class="line">        <span class="comment">//ä»ä¸­é—´å¼€å§‹æ‰¾ç¬¬ä¸€ä¸ªå¯ç”¨çš„æ–¹æ¡ˆ,å¯¹åº”çš„å·®å€¼å°±æ˜¯æ‰€æ±‚æœ€å°å·®å€¼</span></span><br><span class="line">        <span class="comment">//ç„¶è€Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢...... </span></span><br><span class="line">        sump=(dp[m][sub]+(sub-offset))/<span class="number">2</span>;</span><br><span class="line">        sumd=(dp[m][sub]-(sub-offset))/<span class="number">2</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Jury #%d\n"</span>,++kase);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Best jury has value %d for prosecution and value %d for defence:\n"</span>,sump,sumd);</span><br><span class="line">        ans.<span class="built_in">clear</span>();</span><br><span class="line">        <span class="keyword">int</span> j;<span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>,j=m;i&lt;=m;i++,j--)&#123;        <span class="comment">//æ ¹æ®è·¯å¾„æ‰¾ç­”æ¡ˆ </span></span><br><span class="line">            <span class="keyword">int</span> now=path[j][sub];</span><br><span class="line">            ans.push_back(now);</span><br><span class="line">            sub-=p[now]-d[now];</span><br><span class="line">        &#125;</span><br><span class="line">        sort(ans.<span class="built_in">begin</span>(),ans.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;ans.<span class="built_in">size</span>();i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">" %d"</span>,ans[i]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n\n"</span>);</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>DP</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>æœ‰éš¾åº¦çš„DP</tag>
      </tags>
  </entry>
  <entry>
    <title>POJ1384 - Piggy Bank</title>
    <url>/2019/02/17/POJ1384-Piggy-Bank/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/POJ-1384" rel="external nofollow noopener noreferrer" target="_blank">Piggy Bank</a></p>
<p>&emsp;&emsp;å®Œå…¨èƒŒåŒ…çš„ç»å…¸é—®é¢˜ï¼Œåªè¦æŠŠçŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„maxæ”¹ä¸ºminï¼ŒåŒæ—¶å°†dp[0]è®¾ä¸º0ï¼Œå…¶ä½™åˆ™è®¾ä¸ºINFå³å¯( å› ä¸ºè¦æ±‚æ˜¯å¦èƒ½è£…æ»¡ )</p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3fffffff</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> val[<span class="number">510</span>];</span><br><span class="line"><span class="keyword">int</span> w[<span class="number">510</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">10010</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10010</span>;i++)</span><br><span class="line">        dp[i]=INF;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;    </span><br><span class="line">        init();dp[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">        mst(val,<span class="number">0</span>);mst(w,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> empty,with_coin;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;empty&gt;&gt;with_coin;</span><br><span class="line">        <span class="keyword">int</span> vtot=with_coin-empty;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;val[i]&gt;&gt;w[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=w[i];j&lt;=vtot;j++)</span><br><span class="line">                dp[j]=<span class="built_in">min</span>(dp[j],dp[j-w[i]]+val[i]);</span><br><span class="line">        <span class="keyword">if</span>(dp[vtot]==INF)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"This is impossible."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"The minimum amount of money in the piggy-bank is "</span>&lt;&lt;dp[vtot]&lt;&lt;<span class="string">"."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>å®Œå…¨èƒŒåŒ…</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>å®Œå…¨èƒŒåŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>POJ1087 A plug for UNIX</title>
    <url>/2019/04/24/POJ1087-A-plug-for-UNIX/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/HTB1Wy3ASBLoK1RjSZFuq6xn0XXab.jpg" alt></p>
<p>(å›¾æ–‡æ— å…³)</p>
<a id="more"></a>
<p><a href="https://cn.vjudge.net/problem/POJ-1087" rel="external nofollow noopener noreferrer" target="_blank">A plug for UNIX</a></p>
<h4 id="æ­£é¢˜å¼€å§‹å‰çš„åæ§½"><a href="#æ­£é¢˜å¼€å§‹å‰çš„åæ§½" class="headerlink" title="æ­£é¢˜å¼€å§‹å‰çš„åæ§½"></a>æ­£é¢˜å¼€å§‹å‰çš„åæ§½</h4><ul>
<li>è¿™å¼ºè¡ŒUNIXæˆ‘ç»™æ»¡åˆ†â€¦â€¦</li>
<li>è¾“å…¥çœŸæ¶å¿ƒï¼Œå»ºå›¾çœŸéº»çƒ¦â€¦â€¦</li>
</ul>
<h4 id="æ­£é¢˜å¼€å§‹"><a href="#æ­£é¢˜å¼€å§‹" class="headerlink" title="æ­£é¢˜å¼€å§‹"></a>æ­£é¢˜å¼€å§‹</h4><p>è¿™æ˜¯ä¸€é“æœ€å¤§æµçš„é—®é¢˜ï¼Œé¢˜ç›®å¤§æ„å°±æ˜¯è¯´æœ‰è‹¥å¹²ä¸ªè®¾å¤‡ï¼Œæ¯ä¸ªè®¾å¤‡éƒ½å¯¹åº”ä¸€ç§æ’å¤´ç±»å‹ï¼›æœ‰è‹¥å¹²ç§æ’åº§ç±»å‹ï¼ŒåŒæ—¶è¿˜æœ‰è‹¥å¹²ç§æ’å¤´ç±»å‹è½¬æ¢å™¨ï¼Œè½¬æ¢å™¨çš„æ•°é‡æ˜¯æ— é™çš„ï¼Œé—®ä¸èƒ½æˆåŠŸé…å¯¹(å³æ’å¤´æ’åˆ°å¯¹åº”ç±»å‹çš„æ’åº§ä¸Š)çš„è®¾å¤‡æœ€å°‘æ˜¯å¤šå°‘ã€‚</p>
<p>æ€è·¯çš„è¯å…¶å®ä¸éš¾æƒ³ï¼šå¯ä»¥å»ºç«‹ä¸€ä¸ªè¶…çº§æºç‚¹å’Œä¸€ä¸ªè¶…çº§æ±‡ç‚¹ï¼Œä»æºç‚¹åˆ°æ¯ç§è®¾å¤‡ä¹‹é—´å„è¿ä¸€æ¡å®¹é‡ä¸º1çš„è¾¹ï¼›ä»æ’åº§åˆ°æ±‡ç‚¹ä¹‹é—´å„è¿ä¸€æ¡å®¹é‡ä¸º1çš„è¾¹ã€‚å¯¹äºè½¬æ¢å™¨ï¼Œå¾ˆå®¹æ˜“æƒ³åˆ°å°†æ‰€æœ‰è½¬æ¢å…³ç³»è½¬æ¢ä¸ºä¸€å¼ æœ‰å‘å›¾ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨floydæ±‚è¯¥å›¾ä¸Šä»»æ„ä¸¤ç‚¹é—´çš„æœ€é•¿è·¯ï¼Œä»¥æ­¤æ¥è®¡ç®—ä¸¤ç‚¹ä¹‹é—´æ˜¯å¦è¿é€šï¼Œå³ä¸¤ç§æ’å¤´ä¹‹é—´æ˜¯å¦å¯ä»¥è½¬åŒ–ã€‚å¦‚æœæ’å¤´Aå¯ä»¥è½¬æ¢ä¸ºæ’å¤´Bï¼Œåœ¨ç½‘ç»œä¸Šå°†æ’å¤´ç±»å‹ä¸ºAçš„è®¾å¤‡ä¸æ’åº§ç±»å‹ä¸ºBçš„æ’åº§é—´è¿ä¸€æ¡è¾¹ï¼Œå®¹é‡ä¸º1(å…¶å®åªè¦&gt;=1å³å¯)ã€‚æœ€åDinicæ±‚ä¸€ä¸‹æœ€å¤§æµï¼Œæœ€å¤§æµå¯¹åº”çš„å°±æ˜¯æœ€å¤šå¯ä»¥åŒ¹é…çš„è®¾å¤‡ã€‚</p>
<div class="note warning">
    <p>floydæ±‚æœ€é•¿è·¯æ—¶æœ€å¥½æŠŠç‚¹æ•°è°ƒå¤§ä¸€ç‚¹ï¼Œ500æ¯”è¾ƒåˆé€‚ï¼å¦åˆ™ä¼šWAï¼</p>
</div>

<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;  </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> n,m,k;</span><br><span class="line"><span class="keyword">int</span> con[<span class="number">1005</span>][<span class="number">1005</span>];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    <span class="built_in">string</span> type;</span><br><span class="line">    node(<span class="keyword">int</span> id,<span class="built_in">string</span> type):id(id),type(type)&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> cap;</span><br><span class="line">    ull rev;</span><br><span class="line">    edge(<span class="keyword">int</span> to,<span class="keyword">int</span> cap,ull rev):to(to),cap(cap),rev(rev)&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;    </span><br><span class="line"><span class="built_in">vector</span>&lt;node&gt; rec;</span><br><span class="line"><span class="built_in">vector</span>&lt;node&gt; plug;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="built_in">string</span>,<span class="keyword">int</span>&gt; mp;</span><br><span class="line"><span class="built_in">vector</span>&lt;edge&gt; gra[<span class="number">1005</span>];</span><br><span class="line"><span class="keyword">int</span> cur[<span class="number">1005</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">floyd</span><span class="params">(<span class="keyword">int</span> nn)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">1</span>;k&lt;=nn;k++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=nn;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=nn;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(con[i][k]&amp;&amp;con[k][j])</span><br><span class="line">                    con[i][j]=<span class="built_in">max</span>(con[i][j],con[i][k]+con[k][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//mpç”¨äºfloydæ—¶æ±‚è¿é€šæ€§</span></span><br><span class="line"><span class="keyword">int</span> dep[<span class="number">1005</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; que;</span><br><span class="line">    <span class="built_in">memset</span>(dep,<span class="number">-1</span>,<span class="keyword">sizeof</span>(dep));</span><br><span class="line">    dep[s]=<span class="number">0</span>;</span><br><span class="line">    que.push(s);</span><br><span class="line">    <span class="keyword">while</span>(!que.empty())&#123;</span><br><span class="line">        <span class="keyword">int</span> now=que.front();</span><br><span class="line">        que.pop();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;gra[now].<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(gra[now][i].cap&gt;<span class="number">0</span>&amp;&amp;dep[gra[now][i].to]==<span class="number">-1</span>)&#123;</span><br><span class="line">                dep[gra[now][i].to]=dep[now]+<span class="number">1</span>;</span><br><span class="line">                que.push(gra[now][i].to);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dep[t]!=<span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> st,<span class="keyword">int</span> t,<span class="keyword">int</span> mini)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(st==t)</span><br><span class="line">        <span class="keyword">return</span> mini;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>&amp; i=cur[st];i&lt;gra[st].<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        edge&amp; now=gra[st][i];</span><br><span class="line">        <span class="keyword">if</span>(now.cap&gt;<span class="number">0</span>&amp;&amp;dep[now.to]==dep[st]+<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> d=dfs(now.to,t,<span class="built_in">min</span>(now.cap,mini));</span><br><span class="line">            <span class="keyword">if</span>(d&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                now.cap-=d;</span><br><span class="line">                gra[now.to][now.rev].cap+=d;</span><br><span class="line">                <span class="keyword">return</span> d;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Dinic</span><span class="params">(<span class="keyword">int</span> st,<span class="keyword">int</span> e)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;<span class="keyword">int</span> tmp;</span><br><span class="line">    <span class="keyword">while</span>(bfs(st,e))&#123;</span><br><span class="line">        <span class="built_in">memset</span>(cur,<span class="number">0</span>,<span class="keyword">sizeof</span>(cur));</span><br><span class="line">        <span class="keyword">while</span>((tmp=dfs(st,e,INF))&gt;<span class="number">0</span>)</span><br><span class="line">            ans+=tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> from,<span class="keyword">int</span> to,<span class="keyword">int</span> wei)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    gra[from].push_back(edge(to,wei,gra[to].<span class="built_in">size</span>()));</span><br><span class="line">    gra[to].push_back(edge(from,<span class="number">0</span>,gra[from].<span class="built_in">size</span>()<span class="number">-1</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(con,<span class="number">0</span>,<span class="keyword">sizeof</span>(con));</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;<span class="keyword">int</span> idx=<span class="number">1</span>;<span class="keyword">int</span> idx1=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">string</span> str;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;str;</span><br><span class="line">        rec.push_back(node(idx1,str));</span><br><span class="line">        idx1++;</span><br><span class="line">        mp[str]=idx++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">        <span class="built_in">string</span> str1,str2;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;str1&gt;&gt;str2;</span><br><span class="line">        plug.push_back(node(idx1,str2));</span><br><span class="line">        idx1++;</span><br><span class="line">        <span class="keyword">if</span>(!mp.count(str2))</span><br><span class="line">            mp[str2]=idx++;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            idx++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;k;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=k;i++)&#123;</span><br><span class="line">        <span class="built_in">string</span> a,b;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        <span class="keyword">if</span>(!mp.count(a))</span><br><span class="line">            mp[a]=idx++;</span><br><span class="line">        <span class="keyword">if</span>(!mp.count(b))</span><br><span class="line">            mp[b]=idx++;</span><br><span class="line">        con[mp[a]][mp[b]]=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    floyd(idx);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;plug.<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;rec.<span class="built_in">size</span>();j++)&#123;</span><br><span class="line">            node&amp; n1=plug[i];</span><br><span class="line">            node&amp; n2=rec[j];</span><br><span class="line">            <span class="keyword">if</span>(con[mp[n1.type]][mp[n2.type]]||n1.type==n2.type)&#123;        <span class="comment">//è½¬æ¢å™¨ä¹‹é—´è¿è¾¹</span></span><br><span class="line">                add(n1.id,n2.id,<span class="number">2</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;plug.<span class="built_in">size</span>();i++)</span><br><span class="line">        add(<span class="number">0</span>,plug[i].id,<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;rec.<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        add(rec[i].id,<span class="number">500</span>,<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> maxi_flow=Dinic(<span class="number">0</span>,<span class="number">500</span>);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;m-maxi_flow&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h4><p>å› ä¸ºè¿™é¢˜ç”¨åˆ°äº†æœ€çŸ­(é•¿)è·¯ï¼Œæ‰€ä»¥é¡ºä¾¿å¤ä¹ ä»¥ä¸‹æœ€çŸ­è·¯å¸¸ç”¨çš„ä¸‰ç§ç®—æ³•ï¼š</p>
<h5 id="dijkstra"><a href="#dijkstra" class="headerlink" title="dijkstra"></a>dijkstra</h5><p>å¯ç”¨äºæ±‚å•ä¸ªç‚¹åˆ°å›¾ä¸Šå…¶ä»–ç‚¹çš„æœ€çŸ­è·¯ï¼›åŸºäºè´ªå¿ƒæ€æƒ³ï¼›ä¸å¯ç”¨äºæœ‰è´Ÿæƒè¾¹çš„å›¾</p>
<h5 id="floyd"><a href="#floyd" class="headerlink" title="floyd"></a>floyd</h5><p>å¯ç”¨äºæ±‚å›¾ä¸Šä»»æ„ä¸¤ä¸ªç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯ï¼›åŸºäºåŠ¨æ€è§„åˆ’æ€æƒ³ï¼›å¯ä»¥å¤„ç†æœ‰è´Ÿæƒè¾¹çš„å›¾ï¼Œä½†ä¸èƒ½å¤„ç†æœ‰è´Ÿç¯çš„å›¾</p>
<h5 id="SPFA"><a href="#SPFA" class="headerlink" title="SPFA"></a>SPFA</h5><p>é˜Ÿåˆ—ä¼˜åŒ–ç‰ˆçš„Bellmon-Fordï¼Œå¯ç”¨äºæ±‚å•ä¸ªç‚¹åˆ°å›¾ä¸Šå…¶ä»–ç‚¹çš„æœ€çŸ­è·¯ï¼›å¯ä»¥å¤„ç†æœ‰è´Ÿæƒè¾¹çš„å›¾ï¼›è¿˜å¯ä»¥ç”¨äºåˆ¤æ–­ä¸€ä¸ªå›¾æ˜¯å¦æœ‰è´Ÿç¯ï¼Œå³åˆ¤æ–­æŸä¸ªç‚¹çš„å…¥é˜Ÿæ¬¡æ•°æ˜¯å¦å¤§äºn(å›¾ä¸Šç‚¹çš„æ€»æ•°)ï¼Œå¦‚æœæ˜¯å°±è¯´æ˜å­˜åœ¨è´Ÿç¯ã€‚è¦æ³¨æ„çš„æ˜¯ï¼ŒSPFAå¯èƒ½ä¼šè¢«æ¶æ„æ•°æ®å¡æ‰ï¼Œè°¨æ…ä½¿ç”¨</p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>ç½‘ç»œæµ</category>
        <category>æœ€å¤§æµ</category>
      </categories>
      <tags>
        <tag>ç½‘ç»œæµ</tag>
        <tag>æœ€å¤§æµ</tag>
        <tag>éš¾å»ºå›¾</tag>
      </tags>
  </entry>
  <entry>
    <title>POJ1833 - æ’åˆ—</title>
    <url>/2019/02/24/POJ1833-%E6%8E%92%E5%88%97/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/POJ-1833" rel="external nofollow noopener noreferrer" target="_blank">æ’åˆ—</a></p>
<p>&emsp;&emsp;é¢˜æ„æ˜¯è¾“å‡ºç»™å®šæ’åˆ—çš„åç¬¬kä¸ªæ’åˆ—ã€‚è¿™é‡Œç”¨çš„æ˜¯<algorithm>é‡Œçš„next_permutation()ï¼Œæ¯”è¾ƒæ–¹ä¾¿ã€‚</algorithm></p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x7fffffff</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> arr[<span class="number">1025</span>],tmp[<span class="number">1025</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span>* arr,<span class="keyword">int</span> num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pr=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;num;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(pr==<span class="number">0</span>)&#123;</span><br><span class="line">            pr++; </span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d"</span>,arr[i]);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">" %d"</span>,arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;    </span><br><span class="line">        mst(arr,<span class="number">0</span>);mst(tmp,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> n,k;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;k;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;arr[i]);</span><br><span class="line">        <span class="keyword">bool</span> flag;</span><br><span class="line">        <span class="keyword">while</span>(k)</span><br><span class="line">        &#123;</span><br><span class="line">            flag=next_permutation(arr,arr+n);</span><br><span class="line">            <span class="keyword">if</span>(flag=<span class="number">0</span>)        </span><br><span class="line">            &#123;</span><br><span class="line">                sort(arr,arr+n);</span><br><span class="line">                next_permutation(arr,arr+n);</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">/*åŸæœ¬çš„æƒ³æ³•æ˜¯å¦‚æœå½“å‰åºåˆ—æ˜¯å­—å…¸åºæœ€å¤§çš„åºåˆ—æ—¶ï¼Œåé¢ä¸ä¼šå†æœ‰åºåˆ—ï¼Œä¹Ÿå°±æ˜¯è¯´next_permutationä¸ä¼šå†æ’åˆ—ï¼Œæ‰€ä»¥è¦æŠŠåºåˆ—æ’ä¸€ä¸‹åºï¼Œä½¿å®ƒå›åˆ°å­—å…¸åºæœ€å°çš„çŠ¶æ€ï¼Œé‡æ–°å¼€å§‹ï¼›å¯æ˜¯åæ¥å‘ç°è¿™ä¸ªå‡½æ•°å¾ˆæ™ºèƒ½ï¼Œå¦‚æœæ²¡æœ‰ä¸‹ä¸€ä¸ªæ’åˆ—çš„è¯ï¼Œå®ƒä¼šè‡ªåŠ¨å€’å›åˆ°å­—å…¸åºæœ€å°çš„æƒ…å†µã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªifå…¶å®æ˜¯å¯ä»¥ä¸è¦çš„*/</span></span><br><span class="line">            k-=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        output(arr,n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>ç»„åˆæ•°å­¦</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>ç»„åˆæ•°å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>POJ1985 &amp; HDU2196 æ±‚æ ‘çš„ç›´å¾„æ¨¡æ¿</title>
    <url>/2019/07/31/POJ1985-HDU2196-%E6%B1%82%E6%A0%91%E7%9A%84%E7%9B%B4%E5%BE%84%E6%A8%A1%E6%9D%BF/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/H3f36fb9928484479b586fc1764a50805L.jpg" alt></p>
<p>Photo by <strong>Nick Kwan</strong> from <strong>Pexels</strong></p>
<a id="more"></a>
<p>è¿™ç¯‡æ–‡ç« çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†å±¯æ¨¡æ¿â€¦â€¦</p>
<p><a href="https://cn.vjudge.net/problem/POJ-1985" rel="external nofollow noopener noreferrer" target="_blank">POJ1985 Cow Marathon</a><br>è£¸é¢˜ï¼Œç›´æ¥ä¸¤è¾¹dfsæ±‚å‡ºç›´å¾„å³å¯ï¼ˆè¾“å…¥é‡Œé¢çš„é‚£ä¸ªæ–¹å‘æ˜¯æ²¡ç”¨çš„â€¦â€¦ï¼‰<br>ä»£ç å¦‚ä¸‹<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">50000</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to,next;</span><br><span class="line">    ll wei;</span><br><span class="line">&#125;;</span><br><span class="line">node es[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> head[maxn+<span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line">ll dis[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> wei)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    es[cnt].to=v;</span><br><span class="line">    es[cnt].wei=wei;</span><br><span class="line">    es[cnt].next=head[u];</span><br><span class="line">    head[u]=cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> st,<span class="keyword">int</span> fa)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//    dis[st]=dis[fa]+es[fa].wei;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=head[st];i!=<span class="number">-1</span>;i=es[i].next)&#123;</span><br><span class="line">        <span class="keyword">int</span> to=es[i].to;</span><br><span class="line">        <span class="keyword">if</span>(to==fa)    <span class="keyword">continue</span>;</span><br><span class="line">        dis[to]=dis[st]+es[i].wei;</span><br><span class="line">        dfs(to,st);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m)&#123;</span><br><span class="line">        mst(head,<span class="number">-1</span>);cnt=<span class="number">0</span>;</span><br><span class="line">        mst(dis,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> start;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> a,b,L;<span class="keyword">char</span> dir;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b&gt;&gt;L&gt;&gt;dir;</span><br><span class="line">            <span class="keyword">if</span>(i==<span class="number">0</span>)    start=a;</span><br><span class="line">            add(a,b,L);add(b,a,L);</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> end_;ll ans=<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(dis[i]&gt;ans)&#123;</span><br><span class="line">                ans=dis[i];</span><br><span class="line">                end_=i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        cout&lt;&lt;"end = "&lt;&lt;end_&lt;&lt;endl;</span></span><br><span class="line">        mst(dis,<span class="number">0</span>);</span><br><span class="line">        dfs(end_,<span class="number">0</span>);</span><br><span class="line">        ans=<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            ans=<span class="built_in">max</span>(ans,dis[i]);</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><a href="https://cn.vjudge.net/problem/HDU-2196" rel="external nofollow noopener noreferrer" target="_blank">HDU2196 Computer</a></p>
<p>å¯¹äºæ¯ä¸€ä¸ªç‚¹ï¼Œå…¶æœ€å¤§è·ç¦»å³ä¸ºç›´å¾„çš„ä¸¤ä¸ªç«¯ç‚¹åˆ°è¯¥ç‚¹çš„è·ç¦»çš„è¾ƒå¤§å€¼ã€‚</p>
<p>åšæ³•æ˜¯è·‘ä¸‰æ¬¡bfsã€‚ç¬¬ä¸€æ¬¡ç”¨äºæ±‚å‡ºç›´å¾„çš„ä¸€ä¸ªç«¯ç‚¹ï¼›ç¬¬äºŒæ¬¡ä»è¯¥ç«¯ç‚¹å‡ºå‘æ‰¾å¦ä¸€ä¸ªç«¯ç‚¹ï¼ŒåŒæ—¶ç®—å‡ºä»è¯¥ç«¯ç‚¹åˆ°å…¶ä»–ç‚¹çš„è·ç¦»ï¼›ç¬¬ä¸‰æ¬¡ä»æ‰¾å‡ºæ¥çš„å¦ä¸€ä¸ªç«¯ç‚¹å‡ºå‘ç®—å‡ºå®ƒåˆ°å…¶ä»–ç‚¹çš„è·ç¦»ã€‚</p>
<p>ä»£ç å¦‚ä¸‹:<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> next,wei;</span><br><span class="line">&#125;;</span><br><span class="line">node es[<span class="number">80005</span>];</span><br><span class="line"><span class="keyword">int</span> head[<span class="number">40005</span>];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> wei)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    es[cnt].to=v;</span><br><span class="line">    es[cnt].wei=wei;</span><br><span class="line">    es[cnt].next=head[u];</span><br><span class="line">    head[u]=cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> dis1[<span class="number">40005</span>];</span><br><span class="line"><span class="keyword">int</span> dis2[<span class="number">40005</span>];</span><br><span class="line"><span class="keyword">bool</span> vis[<span class="number">40005</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bfs1</span><span class="params">(<span class="keyword">int</span> st)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; que;</span><br><span class="line">    que.push(st);</span><br><span class="line">    mst(vis,<span class="number">0</span>);mst(dis1,<span class="number">0</span>);</span><br><span class="line">    dis1[st]=<span class="number">0</span>;vis[st]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> maxi_len=dis1[st];</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">point</span>=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!que.empty())&#123;</span><br><span class="line">        <span class="keyword">int</span> now=que.front();</span><br><span class="line">        que.pop();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=head[now];i!=<span class="number">-1</span>;i=es[i].next)&#123;</span><br><span class="line">            <span class="keyword">int</span> to=es[i].to;</span><br><span class="line">            <span class="keyword">if</span>(vis[to]==<span class="number">0</span>)&#123;</span><br><span class="line">                vis[to]=<span class="number">1</span>;</span><br><span class="line">                dis1[to]=dis1[now]+es[i].wei;</span><br><span class="line">                que.push(to);</span><br><span class="line">                <span class="keyword">if</span>(maxi_len&lt;dis1[to])&#123;</span><br><span class="line">                    maxi_len=dis1[to];</span><br><span class="line">                    <span class="built_in">point</span>=to;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">point</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bfs2</span><span class="params">(<span class="keyword">int</span> st)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; que;</span><br><span class="line">    que.push(st);</span><br><span class="line">    mst(vis,<span class="number">0</span>);mst(dis2,<span class="number">0</span>);</span><br><span class="line">    dis2[st]=<span class="number">0</span>;vis[st]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> maxi_len=dis2[st];</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">point</span>=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!que.empty())&#123;</span><br><span class="line">        <span class="keyword">int</span> now=que.front();</span><br><span class="line">        que.pop();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=head[now];i!=<span class="number">-1</span>;i=es[i].next)&#123;</span><br><span class="line">            <span class="keyword">int</span> to=es[i].to;</span><br><span class="line">            <span class="keyword">if</span>(vis[to]==<span class="number">0</span>)&#123;</span><br><span class="line">                vis[to]=<span class="number">1</span>;</span><br><span class="line">                dis2[to]=dis2[now]+es[i].wei;</span><br><span class="line">                que.push(to);</span><br><span class="line">                <span class="keyword">if</span>(maxi_len&lt;dis2[to])&#123;</span><br><span class="line">                    maxi_len=dis2[to];</span><br><span class="line">                    <span class="built_in">point</span>=to;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">point</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line"><span class="comment">//    freopen("data_generator.txt","r",stdin);</span></span><br><span class="line"><span class="comment">//    freopen("computer.txt","w",stdout);</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)!=EOF)&#123;</span><br><span class="line">        mst(head,<span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> v,wei;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;v,&amp;wei);</span><br><span class="line">            add(i,v,wei);</span><br><span class="line">            add(v,i,wei);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> p1=bfs1(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> p2=bfs2(p1);            <span class="comment">//å¾—åˆ°ç«¯ç‚¹1åˆ°å…¶ä»–ç‚¹çš„è·ç¦» </span></span><br><span class="line">        bfs1(p2);                <span class="comment">//å¾—åˆ°ç«¯ç‚¹2åˆ°å…¶ä»–ç‚¹çš„è·ç¦» </span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,<span class="built_in">max</span>(dis1[i],dis2[i]));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>æ•°æ®ç»“æ„</category>
        <category>æ ‘</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C++</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>æ ‘</tag>
        <tag>æ ‘çš„ç›´å¾„</tag>
      </tags>
  </entry>
  <entry>
    <title>POJ2063 - Investment</title>
    <url>/2019/02/22/POJ2063-Investment/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/POJ-2063" rel="external nofollow noopener noreferrer" target="_blank">Investment</a></p>
<p>&emsp;&emsp;å…¶å®å°±æ˜¯åšè‹¥å¹²æ¬¡çš„å®Œå…¨èƒŒåŒ…ï¼Œæ¯åšä¸€æ¬¡éƒ½æ›´æ–°ä¸€ä¸‹é’±çš„æ€»æ•°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå› ä¸ºé’±çš„æ€»æ•°å¯èƒ½ä¼šå¾ˆå¤§ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œç¼©å°ï¼Œä»¥å…MLEã€‚ç¼©å°æ–¹æ³•æ˜¯ï¼Œå› ä¸ºæ¯ä¸€ç§è¯åˆ¸çš„ä»·é’±éƒ½æ˜¯1000çš„å€æ•°ï¼Œæ•…æˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬çš„ä»·é’±éƒ½ç¼©å°ä¸ºåŸæ¥çš„1/1000(è€Œåˆ©æ¯ä¸å˜)ã€‚</p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">bond</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> val,inte;</span><br><span class="line">&#125;;</span><br><span class="line">bond arr[<span class="number">15</span>];</span><br><span class="line"><span class="keyword">int</span> dp[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> <span class="built_in">begin</span>;<span class="keyword">int</span> year;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;<span class="built_in">begin</span>&gt;&gt;year;</span><br><span class="line">        <span class="keyword">int</span> vtot=<span class="built_in">begin</span>/<span class="number">1000</span>;</span><br><span class="line">        <span class="keyword">int</span> d;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;d;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=d;i++)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;arr[i].val&gt;&gt;arr[i].inte;</span><br><span class="line">            arr[i].val/=<span class="number">1000</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans=<span class="built_in">begin</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> y=<span class="number">0</span>;y&lt;year;y++)</span><br><span class="line">        &#123;    </span><br><span class="line">            <span class="keyword">int</span> maxi=<span class="number">-1</span>;mst(dp,<span class="number">0</span>);</span><br><span class="line">            vtot=ans/<span class="number">1000</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=d;i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j=arr[i].val;j&lt;=vtot;j++)</span><br><span class="line">                &#123;    </span><br><span class="line">                    <span class="keyword">int</span> tmp=arr[i].inte;</span><br><span class="line">                    dp[j]=<span class="built_in">max</span>(dp[j],dp[j-arr[i].val]+tmp);</span><br><span class="line">                    maxi=<span class="built_in">max</span>(maxi,dp[j]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ans+=dp[vtot];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>å®Œå…¨èƒŒåŒ…</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>å®Œå…¨èƒŒåŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>POJ2159-Ancient Cipher</title>
    <url>/2019/01/26/POJ2159-Ancient-Cipher/</url>
    <content><![CDATA[<p>é¢˜ç›®é“¾æ¥ï¼š<a href="http://poj.org/problem?id=2159" rel="external nofollow noopener noreferrer" target="_blank">Ancient Cipher</a><br><a id="more"></a><br>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> ori[<span class="number">105</span>];</span><br><span class="line"><span class="keyword">char</span> sec[<span class="number">105</span>];</span><br><span class="line"><span class="keyword">int</span> na[<span class="number">30</span>],nb[<span class="number">30</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="keyword">int</span> len1,len2;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">int</span> flag;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%s %s"</span>,sec,ori)!=EOF)</span><br><span class="line">    &#123;    </span><br><span class="line">        flag=<span class="number">1</span>;</span><br><span class="line">        len1=<span class="built_in">strlen</span>(ori);</span><br><span class="line">        len2=<span class="built_in">strlen</span>(sec);</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;len1;i++)</span><br><span class="line">            na[ori[i]-<span class="string">'A'</span>]++;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;len2;i++)</span><br><span class="line">            nb[sec[i]-<span class="string">'A'</span>]++;</span><br><span class="line">        sort(na,na+<span class="number">26</span>);sort(nb,nb+<span class="number">26</span>);</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">30</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(na[i]!=nb[i])</span><br><span class="line">            &#123;</span><br><span class="line">                flag=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"NO\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™é¢˜æ˜¯çœŸçš„å‘ï¼å› ä¸ºé¢˜ç›®å¹¶æ²¡æœ‰è¯´ç½®æ¢å¯†ç ä¸€å®šå°±æ˜¯å°†æŸä¸ªå•è¯çš„ä¸‹ä¸€ä¸ªå•è¯ç”¨æ¥ç½®æ¢è¿™ä¸€ä¸ªå•è¯ï¼Œå®ƒå®Œå…¨æœ‰å¯èƒ½æ˜¯ä¹±æ¥çš„ï¼æ¯”å¦‚è¯´A-C,B-E,C-D,D-F,E-G,F-H,ç„¶åä»Iå¼€å§‹ï¼Œåé¢çš„å­—æ¯åˆæŒ‰ç…§â€œç”¨ä¸‹ä¸€ä¸ªå­—æ¯ç½®æ¢è¯¥å­—æ¯â€çš„æ–¹æ³•æ¥ç½®æ¢å½“å‰å­—æ¯ã€‚åº”è¯¥æ³¨æ„åˆ°çš„æ˜¯ï¼Œæ— è®ºæ˜¯é¢˜ç›®ä¸­çš„é‚£ç§åŠ å¯†æ–¹å¼ï¼ˆç½®æ¢ã€æ’åˆ—ï¼‰ï¼Œéƒ½æ— æ³•æ”¹å˜å­—æ¯çš„å‡ºç°é¢‘åº¦ã€‚å› æ­¤ï¼Œåªéœ€è¦æ¯”è¾ƒè¾“å…¥çš„ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å­—æ¯å‡ºç°é¢‘åº¦å³å¯ã€‚è¿™é‡Œçš„æ‰€è¯´çš„â€œæ¯”è¾ƒå­—æ¯å‡ºç°é¢‘åº¦â€ï¼Œå¹¶ä¸æ˜¯è¯´æ¯”è¾ƒæŸä¸€ä¸ªå­—æ¯åœ¨ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„å‡ºç°é¢‘åº¦ä»¥åŠåœ¨ç¬¬äºŒä¸ªå­—ç¬¦ä¸²ä¸­çš„å‡ºç°é¢‘åº¦ï¼›è€Œæ˜¯æ¯”è¾ƒâ€œæ˜¯ä¸æ˜¯éƒ½æœ‰æŸä¸ªå­—æ¯å‡ºç°äº†è‹¥å¹²æ¬¡â€ï¼Œæ¯”å¦‚è¯´ï¼Œå‡å¦‚å­—ç¬¦ä¸²Açš„å­—æ¯å‡ºç°é¢‘åº¦åˆ—è¡¨ä¸º</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>å­—æ¯</th>
<th>é¢‘åº¦</th>
</tr>
</thead>
<tbody>
<tr>
<td>D</td>
<td>2æ¬¡</td>
</tr>
<tr>
<td>E</td>
<td>3æ¬¡</td>
</tr>
<tr>
<td>R</td>
<td>8æ¬¡</td>
</tr>
</tbody>
</table>
</div>
<p>è€Œå¦ä¸€ä¸ªå­—ç¬¦ä¸²Bçš„å­—æ¯å‡ºç°é¢‘åº¦åˆ—è¡¨ä¸º</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>å­—æ¯</th>
<th>é¢‘åº¦</th>
</tr>
</thead>
<tbody>
<tr>
<td>Q</td>
<td>2æ¬¡</td>
</tr>
<tr>
<td>U</td>
<td>3æ¬¡</td>
</tr>
<tr>
<td>P</td>
<td>8æ¬¡</td>
</tr>
</tbody>
</table>
</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é‚£è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²ä¹Ÿæ˜¯ç›¸äº’åŒ¹é…çš„ï¼ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºæˆ‘ä¸çŸ¥é“ç½®æ¢åŠ å¯†çš„è§„åˆ™åˆ°åº•æ˜¯æ€æ ·çš„ï¼Œä½†æˆ‘çŸ¥é“å®ƒæ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ä¼šæ”¹å˜å­—æ¯å‡ºç°é¢‘åº¦çš„ã€‚æœ‰å¯èƒ½å®ƒçš„è§„åˆ™å°±æ˜¯D-Qï¼ŒE-Uï¼ŒR-Pï¼Œè¿™æ ·ä¹Ÿæ˜¯å¯èƒ½çš„ï¼æ‰€ä»¥è¯´åªéœ€è¦æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å­—æ¯å‡ºç°é¢‘åº¦å³å¯</p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>å…¥é—¨</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>POJ2236 - Wireless Network</title>
    <url>/2019/02/27/POJ2236-Wireless-Netword/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/POJ-2236" rel="external nofollow noopener noreferrer" target="_blank">Wireless Network</a></p>
<p>ä¸€é“å¹¶æŸ¥é›†æ¨¡æ¿é¢˜ã€‚</p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> posx[<span class="number">1200</span>],posy[<span class="number">1200</span>];</span><br><span class="line"><span class="keyword">int</span> pre[<span class="number">1200</span>];</span><br><span class="line"><span class="keyword">int</span> been[<span class="number">1200</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findr</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x==pre[x])</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">return</span> pre[x]=findr(pre[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dist</span><span class="params">(<span class="keyword">int</span> ax,<span class="keyword">int</span> ay,<span class="keyword">int</span> bx,<span class="keyword">int</span> by)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (ax-bx)*(ax-bx)+(ay-by)*(ay-by);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rep</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> x,<span class="keyword">int</span> n,<span class="keyword">int</span> d)</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="keyword">int</span> ri=findr(i);</span><br><span class="line">    <span class="keyword">int</span> rx=findr(x);</span><br><span class="line">    <span class="keyword">if</span>(dist(posx[x],posy[x],posx[i],posy[i])&lt;=d*d)    </span><br><span class="line">        pre[rx]=ri;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    <span class="keyword">int</span> ra=findr(a);</span><br><span class="line">    <span class="keyword">int</span> rb=findr(b);</span><br><span class="line">    <span class="keyword">if</span>(ra==rb)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">int</span> d;<span class="keyword">int</span> p,q;</span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;d)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;posx[i],&amp;posy[i]);</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            pre[i]=i;</span><br><span class="line">        mst(been,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;ch)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(ch==<span class="string">'O'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;p);</span><br><span class="line">                been[p]=<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(been[i])</span><br><span class="line">                        rep(i,p,n,d);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(ch==<span class="string">'S'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;p,&amp;q);</span><br><span class="line">                <span class="keyword">if</span>(check(p,q))</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"SUCCESS\n"</span>);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"FAIL\n"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>å›¾è®º</category>
        <category>å¹¶æŸ¥é›†</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>å›¾è®º</tag>
        <tag>å¹¶æŸ¥é›†</tag>
      </tags>
  </entry>
  <entry>
    <title>POJ2249 - Binomial Showdown </title>
    <url>/2019/02/24/POJ2249-Binomial-Showdown/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/POJ-2249" rel="external nofollow noopener noreferrer" target="_blank">Binomial Showdown</a></p>
<p>&emsp;&emsp;ä½¿ç”¨C(n,k)ä¸C(n,k-1)çš„é€’æ¨å…³ç³»æ¥æ±‚ç»„åˆæ•°ã€‚</p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x7fffffff</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">5</span>;</span><br><span class="line">ll ans[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,m;</span><br><span class="line">    mst(ans,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m&amp;&amp;n)&#123;</span><br><span class="line">        ans[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(n-m&lt;m)</span><br><span class="line">            m=n-m;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">                ans[i]=(n-i+<span class="number">1</span>)*ans[i<span class="number">-1</span>]/i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;ans[m]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>ç»„åˆæ•°å­¦</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>ç»„åˆæ•°å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>POJ2449 - Remmarguts&#39; Date</title>
    <url>/2019/08/20/POJ2449-Remmarguts-Date/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/H9cd98d6e6a1347cfb0327ada94690b69u.jpg" alt></p>
<a id="more"></a>
<p><a href="https://cn.vjudge.net/problem/POJ-2449" rel="external nofollow noopener noreferrer" target="_blank">Remmargutsâ€™s Date</a></p>
<p>ç¬¬ä¸€åœºåŒºåŸŸèµ›é€‰æ‹”èµ›çš„é¢˜ç›®ï¼Œè™½ç„¶æ˜¯æ¿å­é¢˜ï¼Œä½†è¿™ä¸ªæ¿å­æˆ‘æ˜¯ç¬¬ä¸€æ¬¡æ•²â€¦â€¦ä¸ä»…æ¿å­æ˜¯ç¬¬ä¸€æ¬¡æ•²ï¼ŒkçŸ­è·¯ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡æ•²â€¦â€¦</p>
<p>é¢˜æ„å°±æ˜¯è®©ä½ æ±‚ä¸€å¼ å›¾ä¸Šä»èµ·ç‚¹Såˆ°ç»ˆç‚¹Tçš„kçŸ­è·¯ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨A*æ¥è¿›è¡Œæ±‚è§£ã€‚æ„é€ ä¸€ä¸ªå‡½æ•°$h[x] = f[x] + g[x]$ï¼Œå…¶ä¸­f[x]è¡¨ç¤ºå½“å‰æœç´¢æ—¶çš„ä»£ä»·,ä¹Ÿå°±æ˜¯è¾¹æƒï¼›g[x]è¡¨ç¤ºçš„æ˜¯ä»å½“å‰ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯,è¿™å¯ä»¥é€šè¿‡ä»¥Tä¸ºèµ·ç‚¹åå‘dijkstraå¾—åˆ°ã€‚å¯¹äºç»ˆç‚¹Tï¼Œå½“å®ƒç¬¬kæ¬¡ä»é˜Ÿé¦–ä¸­è¢«æ‹¿å‡ºæ¥æ—¶ï¼Œè¯´æ˜æ­¤æ—¶å·²ç»æ‰¾åˆ°äº†kçŸ­è·¯ã€‚äº‹å®ä¸Šè¿™é‡Œçš„A*åªæ˜¯ä½¿ç”¨ä¼°ä»·å‡½æ•°ä¼˜åŒ–äº†çš„BFSï¼Œæ˜¯ç®€åŒ–äº†çš„A*ï¼ŒçœŸæ­£çš„A*è¿˜éœ€è¦ç»´æŠ¤OpenListå’ŒCloseListä¸¤ä¸ªé›†åˆã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u;</span><br><span class="line">    <span class="keyword">int</span> v,c;</span><br><span class="line">    <span class="keyword">int</span> nxt;</span><br><span class="line">    <span class="keyword">int</span> nxt1;</span><br><span class="line">    edge()&#123;&#125;</span><br><span class="line">    edge(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> c)</span><br><span class="line">        :u(u),v(v),c(c)&#123;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line">edge es[<span class="number">100005</span>];</span><br><span class="line"><span class="keyword">int</span> head[<span class="number">1010</span>];</span><br><span class="line"><span class="keyword">int</span> head1[<span class="number">1010</span>];</span><br><span class="line"><span class="keyword">int</span> tot_e;        <span class="comment">//æ€»è¾¹æ•° </span></span><br><span class="line"><span class="keyword">int</span> st,ed,k;</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">int</span> dis[maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">pro</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> v,c;</span><br><span class="line">    pro()&#123;&#125;</span><br><span class="line">    pro(<span class="keyword">int</span> v,<span class="keyword">int</span> c)</span><br><span class="line">        :v(v),c(c)&#123;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    h[x] = f[x] + g[x]</span></span><br><span class="line"><span class="comment">    å…¶ä¸­f[x]è¡¨ç¤ºå½“å‰æœç´¢æ—¶çš„ä»£ä»·,ä¹Ÿå°±æ˜¯è¾¹æƒ</span></span><br><span class="line"><span class="comment">    g[x]è¡¨ç¤ºçš„æ˜¯ä»å½“å‰ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯,å¯ä»¥</span></span><br><span class="line"><span class="comment">    åå‘è·‘ä¸€édijå¾—åˆ° </span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> pro&amp; pa) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> c+dis[v]&gt;pa.c+dis[pa.v];        <span class="comment">//ä¼°ä»·å‡½æ•° </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    mst(head,<span class="number">-1</span>);mst(head1,<span class="number">-1</span>);</span><br><span class="line">    tot_e=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//é“¾å¼å‰å‘æ˜ŸåŠ è¾¹</span></span><br><span class="line">    es[tot_e]=edge(u,v,c);</span><br><span class="line">    es[tot_e].nxt=head[u];head[u]=tot_e;</span><br><span class="line">    es[tot_e].nxt1=head1[v];head1[v]=tot_e++;</span><br><span class="line">&#125;</span><br><span class="line">priority_queue&lt;pro&gt; que;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dijkstra</span><span class="params">(<span class="keyword">int</span> start)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    mst(vis,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)    dis[i]=INF;</span><br><span class="line">    dis[start]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!que.empty())    que.pop();</span><br><span class="line">    que.push(pro(start,<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">while</span>(!que.empty())&#123;</span><br><span class="line">        pro cur=que.top();</span><br><span class="line">        que.pop();</span><br><span class="line">        <span class="keyword">if</span>(vis[cur.v])    <span class="keyword">continue</span>;</span><br><span class="line">        vis[cur.v]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=head1[cur.v];i!=<span class="number">-1</span>;i=es[i].nxt1)&#123;</span><br><span class="line">            <span class="keyword">if</span>(dis[es[i].u]&gt;dis[cur.v]+es[i].c)&#123;</span><br><span class="line">                dis[es[i].u]=dis[cur.v]+es[i].c;</span><br><span class="line">                que.push(pro(es[i].u,<span class="number">0</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Astar</span><span class="params">(<span class="keyword">int</span> start)</span>        <span class="comment">//å…¶å®è¿™é‡Œåªæ˜¯ç»è¿‡äº†å¯å‘å¼ä¼˜åŒ–çš„BFS </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(!que.empty())    que.pop();</span><br><span class="line">    que.push(pro(start,<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">while</span>(!que.empty())&#123;</span><br><span class="line">        pro cur=que.top();</span><br><span class="line">        que.pop();</span><br><span class="line">        <span class="keyword">if</span>(cur.v==ed)&#123;</span><br><span class="line">            <span class="keyword">if</span>(k&gt;<span class="number">1</span>)    k--;        <span class="comment">//ç»ˆç‚¹ç¬¬kæ¬¡å…¥é˜Ÿæ—¶,è¯´æ˜æ‰¾åˆ°äº†kçŸ­è·¯ </span></span><br><span class="line">            <span class="keyword">else</span>    <span class="keyword">return</span> cur.c;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=head[cur.v];i!=<span class="number">-1</span>;i=es[i].nxt)</span><br><span class="line">            que.push(pro(es[i].v,cur.c+es[i].c));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;m)!=EOF)&#123;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">int</span> u,v,c;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>,&amp;u,&amp;v,&amp;c);</span><br><span class="line">            add(u,v,c);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>,&amp;st,&amp;ed,&amp;k);</span><br><span class="line">        dijkstra(ed);</span><br><span class="line">        <span class="keyword">if</span>(dis[st]==INF)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(st==ed)    k++;</span><br><span class="line">            <span class="keyword">int</span> ans=Astar(st);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>å›¾è®º</category>
        <category>A*</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C++</tag>
        <tag>å›¾è®º</tag>
        <tag>kçŸ­è·¯</tag>
        <tag>A*</tag>
      </tags>
  </entry>
  <entry>
    <title>POJ2528 - Mayor&#39;s poster</title>
    <url>/2019/05/18/POJ2528-Mayor-s-poster/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/HTB1HHj9bLWG3KVjSZFgq6zTspXaO.jpg" alt></p>
<p>Photo by Kellie Churchman from Pexels<br><a id="more"></a></p>
<p><a href="https://cn.vjudge.net/problem/POJ-2528" rel="external nofollow noopener noreferrer" target="_blank">Mayorâ€™s poster</a></p>
<p>é¢˜æ„è¯´çš„æ˜¯ï¼Œæœ‰ä¸€é¢éå¸¸éå¸¸é•¿çš„å¢™ï¼Œç°åœ¨è¦å‘è¿™é¢å¢™ä¸Šè´´ä¸Šè‹¥å¹²å¼ å®½åº¦ä¸ç­‰çš„æµ·æŠ¥ï¼Œé—®è´´å®Œåæœ‰å¤šå°‘å¼ æµ·æŠ¥èƒ½çœ‹å¾—åˆ°(ä¹Ÿå°±æ˜¯æœ‰å¤šå°‘å¼ æµ·æŠ¥æ²¡æœ‰è¢«å®Œå…¨è¦†ç›–)ã€‚</p>
<p>æŠ½è±¡ä¸€ä¸‹é—®é¢˜å°±æ˜¯ï¼Œæœ‰ä¸€æ®µæ— é™é•¿çš„çº¿æ®µï¼Œç°åœ¨è¦å¯¹çº¿æ®µä¸Šçš„æŸä¸€æ®µæŸ“è‰²ï¼Œé—®ç»è¿‡è‹¥å¹²æ¬¡æŸ“è‰²åï¼Œçº¿æ®µä¸Šä¸€å…±æœ‰å¤šå°‘ç§é¢œè‰²ã€‚</p>
<p>å› ä¸ºæ¶‰åŠåˆ°äº†åŒºé—´ä¿®æ”¹(è´´æµ·æŠ¥),æ‰€ä»¥å¾ˆè‡ªç„¶æƒ³åˆ°ç”¨çº¿æ®µæ ‘å»ç»´æŠ¤ã€‚ä¸€å¼€å§‹æˆ‘çš„æƒ³æ³•æ˜¯å†™ä¸ªçº¿æ®µæ ‘å»ç»´æŠ¤å¢™å£ä¸Šçš„æµ·æŠ¥ï¼Œâ€œè´´æµ·æŠ¥â€å¯¹åº”å°†æŸä¸ªåŒºé—´ä¸Šçš„å€¼è®¾ç½®ä¸ºå½“å‰è¦è´´çš„æµ·æŠ¥å¯¹åº”çš„idï¼Œç„¶åå†æä¸ªæŸ¥è¯¢åŒºé—´å’Œçš„æ“ä½œï¼Œé€šè¿‡åŒºé—´å’Œæ¥åˆ¤æ–­å½“å‰è¦è´´çš„æµ·æŠ¥çš„çŠ¶æ€(ä¸€å…±ä¸‰ç§çŠ¶æ€ï¼š1.å®Œå…¨ä¸ä¼šè¦†ç›–å½“å‰åŒºé—´å·²ç»å­˜åœ¨çš„æµ·æŠ¥ï¼Œæ­¤æ—¶å¯¹åº”åŒºé—´å’Œä¸º0ï¼›2.ä¼šéƒ¨åˆ†è¦†ç›–å½“å‰åŒºé—´å·²ç»å­˜åœ¨çš„æµ·æŠ¥ï¼›3.ä¼šå®Œå…¨è¦†ç›–å½“å‰åŒºé—´å·²ç»å­˜åœ¨çš„æµ·æŠ¥)â€¦â€¦ä½†è¿™æ ·åšå…¶å®å¾ˆä¸å¥½å®ç°ï¼Œæœ€æ˜æ˜¾çš„é—®é¢˜å°±æ˜¯è¦æ€ä¹ˆåˆ¤æ–­ä¼šå®Œå…¨è¦†ç›–è¿™ç§æƒ…å†µï¼Ÿè¿˜æœ‰å°±æ˜¯å¦‚æœå½“å‰åŒºé—´å­˜åœ¨ä¸æ­¢ä¸€å¼ æµ·æŠ¥ï¼Œé‚£åˆæ€ä¹ˆæï¼Ÿ</p>
<p>ç„¶ååæ¥å‘ç°å®Œå…¨ä¸ç”¨è¿™ä¹ˆéº»çƒ¦OTZï¼Œç›´æ¥æä¸ªsetæ“ä½œ(å°†å½“å‰åŒºé—´çš„å€¼è®¾ä¸ºæŸä¸€ä¸ªç‰¹å®šçš„id)ï¼Œç„¶åqueryçš„æ—¶å€™çœ‹ä¸€ä¸‹å½“å‰åŒºé—´æœ‰æ²¡æœ‰è¢«è´´æµ·æŠ¥ï¼ŒåŒæ—¶å¦‚æœæœ‰è¢«è´´æµ·æŠ¥çš„è¯ï¼Œæµ·æŠ¥å¯¹åº”çš„idæ˜¯å¦å·²ç»è¢«è®¿é—®è¿‡äº†(è¿™é‡Œè¦å¦å¤–ç”¨ä¸ªvisæ•°ç»„ç»´æŠ¤ä¸€ä¸‹)ï¼ŒåŒæ—¶æ»¡è¶³ä¸Šé¢è¿™ä¸¤ä¸ªæ¡ä»¶çš„è¯ï¼Œå°±è¯´æ˜æœ‰ä¸€å¼ æµ·æŠ¥èƒ½è¢«çœ‹è§ï¼Œæ‰€ä»¥ans++â€¦â€¦</p>
<p>ç„¶åè¿˜æœ‰å°±æ˜¯è¦åšä¸€ä¸‹ç¦»æ•£åŒ–ï¼Œå› ä¸ºæœ¬é¢˜æ•°æ®èŒƒå›´å¾ˆå¤§ï¼Œç›´æ¥æçš„è¯æ„Ÿè§‰æ˜¯è¦MLEçš„ã€‚è¿™é‡Œå†ç®€å•è¯´ä¸€ä¸‹ç¦»æ•£åŒ–ï¼Œæ¯•ç«Ÿè¿™æ˜¯è’Ÿè’»ç¬¬äºŒæ¬¡åšæœ‰å…³ç¦»æ•£åŒ–çš„é¢˜OTZï¼Œå°±å½“ä½œæ˜¯ä¸€ä¸ªç¬”è®°ã€‚</p>
<p>æ‰€è°“çš„ç¦»æ•£åŒ–ï¼Œå°±æ˜¯å°†ä¸€ä¸ªèŒƒå›´å¾ˆå¤§çš„æ•°ï¼Œè½¬åŒ–ä¸ºæ•°æ®èŒƒå›´æ›´å°çš„æ•°ï¼Œä»è€Œå¤§å¤§å‡å°‘å†…å­˜ä½¿ç”¨ã€‚ä½¿ç”¨ç¦»æ•£åŒ–çš„å…¶ä¸­ä¸€ä¸ªåœºæ™¯æ˜¯ï¼Œæœ‰æ—¶å€™åºåˆ—ä¸­çš„æ•°çš„èŒƒå›´å¾ˆå¤§ï¼Œä¸”ä¸æ˜¯è¿ç»­çš„ï¼Œä½†æˆ‘ä»¬åªå…³å¿ƒè¿™äº›æ•°å­—ä¹‹é—´çš„ç›¸å¯¹å¤§å°ï¼Œä¸å…³å¿ƒå®ƒä»¬çš„å…·ä½“æ•°å€¼ã€‚è¿™æ—¶å°±å¯ä»¥ä½¿ç”¨ç¦»æ•£åŒ–å¤„ç†ï¼Œå°†å®ƒä»¬æ˜ å°„åˆ°ä¸€ç»„è¿ç»­ä¸”æ•°æ®èŒƒå›´å°å¾—å¤šçš„æ•°å­—ä¸Šã€‚ç¦»æ•£åŒ–çš„å¤§è‡´æ­¥éª¤æ˜¯</p>
<ul>
<li>æ’åºï¼Œè¿™æ˜¯ä¸ºäº†åé¢çš„å»é‡å’ŒäºŒåˆ†</li>
<li>å»é‡ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯C++çš„unique()å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½æ˜¯å¯¹äºä¸€æ®µè¿ç»­çš„æ•°ï¼Œåªä¿ç•™å®ƒä»¬ä¸­çš„ç¬¬ä¸€ä¸ªï¼Œæ¯”æ–¹è¯´2ï¼Œ2ï¼Œ2ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œ2ï¼Œä½¿ç”¨unique()åï¼Œä¼šå˜æˆ2ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œ2ï¼Œæœ€åä¸€ä¸ª2å› ä¸ºä¸æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥ä¸ä¼šè¢«åˆ é™¤ã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨unique()å»é‡æ—¶ï¼Œå¿…é¡»è¦ä¿è¯åºåˆ—æ˜¯æœ‰åºçš„ï¼Œè¿™ä¸ªç”¨sort()å¤„ç†ä¸€ä¸‹å³å¯</li>
<li>å»é‡å®Œæ¯•åï¼Œä½¿ç”¨lower_boundå°†åŸåºåˆ—ä¸­çš„æ•°æ˜ å°„åˆ°ä¸€ä¸ªæ›´å°çš„æ•°å­—ä¸Šã€‚</li>
</ul>
<p>ä»¥è¿™é“é¢˜çš„æ ·ä¾‹ä¸ºä¾‹å­ï¼š<br>1 4<br>2 6<br>8 10<br>3 4<br>7 10<br>è¿™æ˜¯äº”å¼ æµ·æŠ¥çš„å·¦å³ç«¯ç‚¹ã€‚æˆ‘ä»¬é¦–å…ˆå¯¹å®ƒä»¬è¿›è¡Œæ’åºå’Œå»é‡ã€‚å¤„ç†åå¯ä»¥å¾—åˆ°è¿™æ ·çš„ä¸€ä¸ªåºåˆ—ï¼š</p>
<center>1,2,3,4,6,7,8,10</center>

<p>æˆ‘ä»¬ç°åœ¨å°†è¿™äº›åªè¿›è¡Œæ˜ å°„ï¼Œå…·ä½“æ¥è¯´å°±æ˜¯ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">åŸæ•°å€¼</th>
<th style="text-align:center">æ˜ å°„å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">6</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">7</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">8</td>
</tr>
</tbody>
</table>
</div>
<p>å…³äºæ˜ å°„ï¼Œå†ä¸¾ä¸€ä¸ªä¾‹å­ï¼šå¯¹äºåºåˆ—1ã€1000ã€100000000ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»–ä»¬æ˜ å°„åˆ°1ã€2ã€3ä¸Šï¼Œè¿™æ ·ä¸€æ¥ï¼Œå°±èƒ½å°†æ•°æ®èŒƒå›´å¤§å¤§å‡å°ã€‚</p>
<p><div class="note info"><p>çœ‹äº†ä¸‹é¢˜è§£ï¼Œå‘ç°è¿™é“é¢˜ä¸èƒ½è¿™ä¹ˆç®€å•çš„ç¦»æ•£åŒ–ï¼Œä½†è¿™é¢˜çš„æ•°æ®æ¯”è¾ƒå¼±ï¼Œæ‰€ä»¥ä¾ç„¶èƒ½AC...emmmmï¼Œè’Ÿè’»ä¸æ‡‚OTZ</p></div><br>å…·ä½“ACä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">10005</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">10000</span>+<span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span> lazy[maxn&lt;&lt;<span class="number">3</span>];        <span class="comment">//è¿™é‡Œæœ€å¥½å¼€å¤§ä¸€ç‚¹ï¼Œä»…ä»…æ˜¯å››å€ç©ºé—´çš„è¯ä¼šWA</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> lef;</span><br><span class="line">    <span class="keyword">int</span> rig;</span><br><span class="line">&#125;;</span><br><span class="line">node ps[<span class="number">20000</span>+<span class="number">5</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lazy[rt]!=<span class="number">0</span>)&#123;</span><br><span class="line">        lazy[rt&lt;&lt;<span class="number">1</span>]=lazy[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=lazy[rt];</span><br><span class="line">        lazy[rt]=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> toL,<span class="keyword">int</span> toR,<span class="keyword">int</span> todo,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=lef&amp;&amp;toR&gt;=rig)&#123;</span><br><span class="line">        lazy[rt]=todo;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=mid)</span><br><span class="line">        update(toL,toR,todo,lson);</span><br><span class="line">    <span class="keyword">if</span>(toR&gt;mid)</span><br><span class="line">        update(toL,toR,todo,rson);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lazy[rt])&#123;</span><br><span class="line">        <span class="keyword">if</span>(!vis[lazy[rt]])&#123;</span><br><span class="line">            ans++;</span><br><span class="line">            vis[lazy[rt]]=<span class="number">1</span>;    <span class="comment">//é˜²æ­¢åŒä¸€å¼ æµ·æŠ¥é‡å¤ç»Ÿè®¡</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(lef&lt;=mid)</span><br><span class="line">        query(lson);</span><br><span class="line">    <span class="keyword">if</span>(rig&gt;mid)</span><br><span class="line">        query(rson);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> lsh[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="keyword">int</span> idx=<span class="number">0</span>;</span><br><span class="line">        mst(lsh,<span class="number">0</span>);</span><br><span class="line">        mst(lazy,<span class="number">0</span>);mst(vis,<span class="number">0</span>);</span><br><span class="line">        ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> n;<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;ps[i].lef,&amp;ps[i].rig);</span><br><span class="line">            lsh[idx++]=ps[i].lef;lsh[idx++]=ps[i].rig;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(lsh,lsh+idx);</span><br><span class="line">        <span class="keyword">int</span> cnt=unique(lsh,lsh+idx)-lsh;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> L=lower_bound(lsh,lsh+cnt,ps[i].lef)-lsh+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> R=lower_bound(lsh,lsh+cnt,ps[i].rig)-lsh+<span class="number">1</span>;</span><br><span class="line">            update(L,R,i+<span class="number">1</span>,<span class="number">1</span>,cnt+<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        query(<span class="number">1</span>,cnt+<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>æ•°æ®ç»“æ„</category>
        <category>çº¿æ®µæ ‘</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>çº¿æ®µæ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title>POJ2891 - Strange Way to Express Integers</title>
    <url>/2019/03/02/POJ2891-Strange-Way-to-Express-Integers/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/POJ-2891" rel="external nofollow noopener noreferrer" target="_blank">Strange Way to Express Integers</a></p>
<p>&emsp;&emsp;æ‹“å±•ä¸­å›½å‰©ä½™å®šç†çš„æ¨¡æ¿é¢˜ï¼Œä½†æˆ‘å¹¶çœ‹ä¸æ‡‚æ¨¡æ¿OTZ(è¿‡æ®µæ—¶é—´ä¼šè¡¥ä¸Šä¸ªäººç†è§£ï¼Œå…ˆæŠŠä»£ç æ”¾è¿™)</p>
<a id="more"></a>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">5</span>;</span><br><span class="line"><span class="function">ll <span class="title">exgcd</span><span class="params">(ll a,ll b,ll&amp; x,ll&amp; y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!b)</span><br><span class="line">    &#123;</span><br><span class="line">        x=<span class="number">1</span>;y=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    ll r=exgcd(b,a%b,x,y);</span><br><span class="line">    ll tmp=x;</span><br><span class="line">    x=y;</span><br><span class="line">    y=tmp-(a/b)*y;</span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br><span class="line">ll a[maxn],m[maxn];</span><br><span class="line"><span class="function">ll <span class="title">solve</span><span class="params">(ll n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll M=m[<span class="number">1</span>];</span><br><span class="line">    ll ans=a[<span class="number">1</span>];</span><br><span class="line">    ll x,y;ll r;ll tmp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        r=exgcd(M,m[i],x,y);</span><br><span class="line">        <span class="keyword">if</span>((a[i]-ans)%r)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        x*=(a[i]-ans)/r;</span><br><span class="line">        tmp=m[i]/r;</span><br><span class="line">        x=(x%tmp+tmp)%tmp;</span><br><span class="line">        ans=M*x+ans;</span><br><span class="line">        M=M/r*m[i];</span><br><span class="line">        ans%=M;</span><br><span class="line">    &#125;</span><br><span class="line">    ans=(ans%M+M)%M;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    ll k;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;k)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=k;i++)</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;m[i]&gt;&gt;a[i];</span><br><span class="line">        ll ans=solve(k);</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>æ•°è®º</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>æ•°è®º</tag>
        <tag>æ‹“å±•ä¸­å›½å‰©ä½™å®šç†</tag>
      </tags>
  </entry>
  <entry>
    <title>POJ2955 - Brackets</title>
    <url>/2019/07/30/POJ2955-Brackets/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/Ha88250073cd84aa58e53c0aa2f48effdV.jpg" alt></p>
<p>From <strong>Google Earth</strong><br><a id="more"></a></p>
<p><a href="POJ - 2955">Brackets</a></p>
<p>é¢˜ç›®å¤§æ„æ˜¯è¯´ï¼Œå¯¹äºä¸€ä¸ªç»™å®šçš„æ‹¬å·åºåˆ—$S$ï¼Œæ‰¾å‡ºå…¶æœ€é•¿çš„å­åºåˆ—ï¼Œè¯¥å­åºåˆ—åº”è¯¥æ˜¯æ‹¬å·åŒ¹é…çš„ï¼Œè¾“å‡ºå…¶é•¿åº¦ã€‚</p>
<p>å¤§æ¦‚æ˜¯æœ€åŸºç¡€çš„åŒºé—´dpäº†ã€‚</p>
<p>$dp[i][j]$è¡¨ç¤ºçš„æ˜¯åœ¨åŒºé—´$[i,j]$å†…ï¼Œæœ€é•¿çš„æ»¡è¶³è¦æ±‚çš„å­åºåˆ—çš„é•¿åº¦ã€‚å¦‚æœ$S_i$ä¸$S_j$é…å¯¹ï¼Œåˆ™æœ‰</p>
<script type="math/tex; mode=display">
dp[i][j]=max(dp[i][j],dp[i+1][j-1]+2)</script><p>ä½†è¿™æ ·å¾—åˆ°çš„$dp[i][j]$å¹¶ä¸ä¸€å®šæ˜¯æœ€å¤§çš„ã€‚ä»¥ç¬¬äºŒä¸ªæ ·ä¾‹ä¸ºä¾‹ï¼š</p>
<p>å¯¹äºåŒºé—´$[1,6]$ï¼Œ$S_1$å’Œ$S_6$æ˜¯é…å¯¹çš„ï¼Œæ‰€ä»¥æœ‰$dp[1][6]=max(dp[1][6],dp[2][5]+2)$ï¼Œè€Œ$dp[2][5]$ä¸º2ï¼Œå¦‚æœåªæ˜¯ä»$dp[2][5]+2$è½¬ç§»è¿‡æ¥ï¼Œå°±ä¼šå¿½ç•¥æ‰$S_1S_2$ä»¥åŠ$S_5S_6$è¿™ä¸¤å¯¹é…å¯¹æ‹¬å·ã€‚æ•…æˆ‘ä»¬è¿˜éœ€è¦æšä¸¾åŒºé—´$[i,j]$å†…çš„æ–­ç‚¹$k$ï¼Œä»$dp[i][k]+dp[k+1][j]$è½¬ç§»å¾—åˆ°$dp[i][j]$ã€‚</p>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;assert.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"><span class="keyword">char</span> str[<span class="number">105</span>]; </span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">char</span> ca,<span class="keyword">char</span> cb)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>((ca==<span class="string">'('</span>&amp;&amp;cb==<span class="string">')'</span>)||(ca==<span class="string">'['</span>&amp;&amp;cb==<span class="string">']'</span>))    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%s"</span>,str+<span class="number">1</span>)!=EOF)&#123;</span><br><span class="line">        <span class="keyword">if</span>(str[<span class="number">1</span>]==<span class="string">'e'</span>)    <span class="keyword">break</span>;</span><br><span class="line">        mst(dp,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> len=<span class="built_in">strlen</span>(str+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=len;i++)</span><br><span class="line">            dp[i][i]=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=len<span class="number">-1</span>;i&gt;=<span class="number">1</span>;i--)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;=len;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(check(str[i],str[j]))&#123;</span><br><span class="line">                    dp[i][j]=<span class="built_in">max</span>(dp[i][j],dp[i+<span class="number">1</span>][j<span class="number">-1</span>]+<span class="number">2</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=i;k&lt;j;k++)</span><br><span class="line">                    dp[i][j]=<span class="built_in">max</span>(dp[i][j],dp[i][k]+dp[k+<span class="number">1</span>][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,dp[<span class="number">1</span>][len]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>åŒºé—´DP</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>åŒºé—´DP</tag>
      </tags>
  </entry>
  <entry>
    <title>POJ3624 - Charm Bracelet</title>
    <url>/2019/02/17/POJ3624-Charm-Bracelet/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/POJ-3624" rel="external nofollow noopener noreferrer" target="_blank">Charm Bracelet</a></p>
<p>&emsp;&emsp;ä¸€é“01èƒŒåŒ…æ¨¡æ¿é¢˜ï¼Œå¥—æ¨¡æ¿å³å¯ã€‚</p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> w[<span class="number">3500</span>],d[<span class="number">3500</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">20000</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="built_in">memset</span>(w,<span class="number">0</span>,<span class="keyword">sizeof</span>(w));<span class="built_in">memset</span>(d,<span class="number">0</span>,<span class="keyword">sizeof</span>(d));<span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;w[i]&gt;&gt;d[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=m;j&gt;=w[i];j--)</span><br><span class="line">            dp[j]=<span class="built_in">max</span>(dp[j],dp[j-w[i]]+d[i]);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;dp[m]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>01èƒŒåŒ…</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>01èƒŒåŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>POJ3687 - Labelling Balls</title>
    <url>/2019/03/27/POJ3687-Labelling-Balls/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/POJ-3687" rel="external nofollow noopener noreferrer" target="_blank">Labeling Balls</a></p>
<p>ä¸€é“æ‹“è¡¥æ’åºçš„é¢˜ï¼Œè™½ç„¶aäº†ä½†æ˜¯æ˜¯çœ‹é¢˜è§£è¿‡çš„â€¦â€¦å­˜åœ¨çš„ç–‘é—®å·²åœ¨æ³¨é‡Šä¸­æ ‡æ˜<br><a id="more"></a></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> gra[<span class="number">205</span>][<span class="number">205</span>];</span><br><span class="line"><span class="keyword">int</span> deg[<span class="number">40005</span>];        <span class="comment">//è®°å½•å…¥åº¦ </span></span><br><span class="line"><span class="keyword">int</span> ans[<span class="number">40005</span>];</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">topo</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tag;<span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n;i&gt;=<span class="number">1</span>;i--)&#123;        <span class="comment">//è¿™æ ·åå‘å¾ªç¯çš„åŸç†åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=n;j&gt;=<span class="number">1</span>;j--)&#123;</span><br><span class="line">            <span class="keyword">if</span>(deg[j]==<span class="number">0</span>)&#123;</span><br><span class="line">                tag=j;</span><br><span class="line">                deg[j]--;</span><br><span class="line">                ans[j]=i;        <span class="comment">//???</span></span><br><span class="line">                cnt++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(gra[tag][j]&gt;<span class="number">0</span>)</span><br><span class="line">                deg[j]--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cnt&lt;n)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">        mst(deg,<span class="number">0</span>);mst(gra,<span class="number">0</span>);mst(ans,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> a,b;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line">            <span class="keyword">if</span>(!gra[b][a])        <span class="comment">//???è¿™é‡Œåˆ å»ä»¥åå°±ä¼šRE</span></span><br><span class="line">                deg[a]++;</span><br><span class="line">            gra[b][a]=<span class="number">1</span>;        <span class="comment">//ä¸ºä»€ä¹ˆè¦åå‘å»ºå›¾ï¼Ÿï¼Ÿï¼Ÿ</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!topo())</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="number">-1</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">int</span> pr=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(!pr)</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"%d"</span>,ans[i]);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">" %d"</span>,ans[i]);</span><br><span class="line">                pr++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>å­˜ç–‘</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>å›¾è®º</tag>
        <tag>æ‹“è¡¥æ’åº</tag>
        <tag>å­˜ç–‘</tag>
      </tags>
  </entry>
  <entry>
    <title>URAL - 1244 Gentlemen(01èƒŒåŒ…+è®°å½•è·¯å¾„)</title>
    <url>/2019/02/17/URAL-1244-Gentlemen/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/contest/43653#problem/C" rel="external nofollow noopener noreferrer" target="_blank">URAL - 1244 Gentlemen</a></p>
<p>&emsp;&emsp;ä¸€é“01èƒŒåŒ…çš„é¢˜ç›®ï¼Œåªä¸è¿‡è¿™ä¸€æ¬¡ä¸æ˜¯ç”¨01èƒŒåŒ…æ¥æ±‚æœ€å¤§å€¼æˆ–æœ€å°å€¼ï¼Œè€Œæ˜¯å°†èƒŒåŒ…å¡«æ»¡ã€‚è¿™åªéœ€è¦å°†æ•°ç»„dp[]çš„dp[0]è®¾ä¸º0ï¼Œå°†å…¶ä»–è®¾ä¸º -âˆå³å¯ï¼ˆåŸå› ï¼šè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå¯ä»¥è¿™æ ·ç†è§£ï¼šåˆå§‹åŒ–çš„ F æ•°ç»„äº‹å®ä¸Šå°±æ˜¯åœ¨æ²¡æœ‰ä»»ä½•ç‰©å“å¯ä»¥æ”¾ å…¥èƒŒåŒ…æ—¶çš„åˆæ³•çŠ¶æ€ã€‚å¦‚æœè¦æ±‚èƒŒåŒ…æ°å¥½è£…æ»¡ï¼Œé‚£ä¹ˆæ­¤æ—¶åªæœ‰å®¹é‡ä¸º 0 çš„èƒŒåŒ…å¯ä»¥åœ¨ä»€ ä¹ˆä¹Ÿä¸è£…ä¸”ä»·å€¼ä¸º 0 çš„æƒ…å†µä¸‹è¢«â€œæ°å¥½è£…æ»¡â€ï¼Œå…¶å®ƒå®¹é‡çš„èƒŒåŒ…å‡æ²¡æœ‰åˆæ³•çš„è§£ï¼Œå±äº æœªå®šä¹‰çš„çŠ¶æ€ï¼Œåº”è¯¥è¢«èµ‹å€¼ä¸º -âˆ äº†ã€‚å¦‚æœèƒŒåŒ…å¹¶éå¿…é¡»è¢«è£…æ»¡ï¼Œé‚£ä¹ˆä»»ä½•å®¹é‡çš„èƒŒåŒ… éƒ½æœ‰ä¸€ä¸ªåˆæ³•è§£â€œä»€ä¹ˆéƒ½ä¸è£…â€ï¼Œè¿™ä¸ªè§£çš„ä»·å€¼ä¸º 0ï¼Œæ‰€ä»¥åˆå§‹æ—¶çŠ¶æ€çš„å€¼ä¹Ÿå°±å…¨éƒ¨ä¸º 0 äº†ã€‚ï¼‰</p>
<p>&emsp;&emsp;éš¾ç‚¹åœ¨äºè®°å½•è·¯å¾„ï¼ŒåŒæ—¶å¤„ç†å¤šä¸ªè§£çš„æƒ…å†µã€‚ä¸€å¼€å§‹æˆ‘ä¹Ÿæƒ³ä¸åˆ°è¦æ€ä¹ˆå¤„ç†å¤šä¸ªè§£çš„æƒ…å†µ(æ€»ä¸èƒ½åšä¸¤æ¬¡dpå§)ï¼Œæ— å¥ˆå»çœ‹é¢˜è§£ï¼Œæç„¶å¤§æ‚Ÿã€‚å…·ä½“è§ä»£ç ä¸­çš„æ³¨é‡Šã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF -0x3fffffff</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> w[<span class="number">105</span>];</span><br><span class="line"><span class="keyword">bool</span> rec[<span class="number">105</span>][<span class="number">100005</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">100005</span>];</span><br><span class="line"><span class="keyword">int</span> ans[<span class="number">105</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    dp[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;<span class="number">100005</span>;i++)        dp[i]=INF;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="built_in">memset</span>(ans,<span class="number">0</span>,<span class="keyword">sizeof</span>(ans));<span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));dp[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">memset</span>(rec,<span class="number">0</span>,<span class="keyword">sizeof</span>(rec));<span class="built_in">memset</span>(w,<span class="number">0</span>,<span class="keyword">sizeof</span>(w));</span><br><span class="line">    <span class="keyword">int</span> wei;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;wei;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">int</span> vtot=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;w[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=wei;j&gt;=w[i];j--)</span><br><span class="line">            dp[j]+=dp[j-w[i]];        <span class="comment">//ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£è§£çš„ä¸ªæ•°ï¼Œå› ä¸ºçŠ¶æ€æ˜¯ä»</span></span><br><span class="line">                                     <span class="comment">//dp[j-w[i]]è½¬ç§»è¿‡æ¥çš„ï¼Œæ•…æ¯å‡ºç°ä¸€ä¸ªè§£                                        </span></span><br><span class="line">                                    <span class="comment">//éƒ½ä¼š+1ï¼Œè‹¥dp[wei]&gt;1ï¼Œåˆ™è¯´æ˜åœ¨weiæ—¶æœ‰ä¸¤ä¸ªè§£ï¼Œ</span></span><br><span class="line">                                    <span class="comment">//å³é—®é¢˜æœ‰ä¸¤ä¸ªè§£</span></span><br><span class="line">    <span class="keyword">if</span>(dp[wei]&gt;<span class="number">1</span>)</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"-1"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(dp[wei]==<span class="number">0</span>)            <span class="comment">//å¦‚æœä»ç„¶ä¸º0ï¼Œåˆ™è¯´æ˜æ— è§£</span></span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"0"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">else</span>                          <span class="comment">//ä»è¿™é‡Œå¼€å§‹ï¼Œå°±æ˜¯æ™®é€šçš„01èƒŒåŒ…äº†</span></span><br><span class="line">    &#123;    </span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=wei;j&gt;=w[i];j--)&#123;</span><br><span class="line">                <span class="keyword">int</span> tmp=dp[j-w[i]]+w[i];</span><br><span class="line">                dp[j]=<span class="built_in">max</span>(dp[j],dp[j-w[i]]+w[i]);</span><br><span class="line">                <span class="keyword">if</span>(dp[j]==tmp)</span><br><span class="line">                    rec[i][j]=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">int</span> sum=<span class="number">0</span>;<span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> i=n<span class="number">-1</span>;<span class="keyword">int</span> j=wei;</span><br><span class="line">        <span class="keyword">while</span>(i&gt;=<span class="number">0</span>&amp;&amp;j&gt;<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(rec[i][j])</span><br><span class="line">            &#123;</span><br><span class="line">                ans[i+<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">                j-=w[i];</span><br><span class="line">            &#125;</span><br><span class="line">            i--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> pr=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">1</span>;k&lt;=n;k++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!ans[k])&#123;</span><br><span class="line">                <span class="keyword">if</span>(pr)</span><br><span class="line">                    <span class="built_in">cout</span>&lt;&lt;<span class="string">" "</span>&lt;&lt;k;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="built_in">cout</span>&lt;&lt;k;</span><br><span class="line">                pr=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>01èƒŒåŒ…</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>01èƒŒåŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>TayE &#39; s Collection</title>
    <url>/2019/04/11/TayE&#39;s-Collection/</url>
    <content><![CDATA[<p>&emsp;&emsp;å› ä¸ºæœ¬äººåœ¨çœ‹åˆ°ä¸€äº›æœ‰æ„æ€æˆ–è€…æœ‰ç”¨çš„ä¸œè¥¿æ—¶æ€»å–œæ¬¢åŠ å…¥åˆ°APPçš„æ”¶è—å¤¹é‡Œï¼Œ<del>ä½†ä¸€æ—¦æ”¶è—äº†å°±æ„å‘³ç€ä»¥åå¾ˆæœ‰å¯èƒ½å†ä¹Ÿä¸ä¼šçœ‹äº†</del>,æ‰€ä»¥æŠ±ç€â€œæ¢ä¸ªæ”¶è—çš„åœ°æ–¹å¤§æ¦‚å°±ä¼šçœ‹äº†å§â€çš„ä¾¥å¹¸æƒ³æ³•ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸ºäº†å¯¹è‡ªå·±çš„æ”¶è—å¤¹åšä¸ªæ•´ç†ï¼Œå†™ä¸‹è¿™ç¯‡æ–‡ç« ã€‚ç›®å‰æ‰“ç®—åªæ”¾é“¾æ¥å’Œç›¸åº”çš„æ ‡é¢˜(å›¾å¤§æ¦‚æ˜¯ä¸ä¼šæœ‰çš„ï¼Œ<del>å› ä¸ºæˆ‘æ‡’</del>).</p>
<h4 id="çŸ¥ä¹"><a href="#çŸ¥ä¹" class="headerlink" title="çŸ¥ä¹"></a>çŸ¥ä¹</h4><ul>
<li><a href="https://zhuanlan.zhihu.com/p/24362823" rel="external nofollow noopener noreferrer" target="_blank">2016å¹´ä¸å¯é”™è¿‡çš„21ä¸ªæ·±åº¦å­¦ä¹ è§†é¢‘ã€æ•™ç¨‹å’Œè¯¾ç¨‹</a></li>
<li><a href="https://www.zhihu.com/question/267330211" rel="external nofollow noopener noreferrer" target="_blank">é«˜ä¸­ç”Ÿè¿›å…¥å¤§å­¦ï¼Œæœ‰å“ªäº›å¿…é¡»çŸ¥é“çš„ä¸œè¥¿æˆ–å¸¸è§é”™è¯¯ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/263525664" rel="external nofollow noopener noreferrer" target="_blank">æœ‰å“ªäº›ã€Œ985 å­¦ç”ŸçŸ¥é“äº†ä¼šæµæ³ªï¼Œ211 å­¦ç”ŸçŸ¥é“äº†ä¼šæ²‰é»˜ã€ çš„æ®‹é…·ç°å®ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/281438440" rel="external nofollow noopener noreferrer" target="_blank">è¿›å…¥å¤§å­¦çš„ä½ æƒ³å¯¹å‡†å¤§ä¸€è¯´ä»€ä¹ˆï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/52157612" rel="external nofollow noopener noreferrer" target="_blank">æœ€è‰¯å¿ƒçš„è½¯ä»¶å¯ä»¥è‰¯å¿ƒåˆ°ä»€ä¹ˆç¨‹åº¦ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/36546814" rel="external nofollow noopener noreferrer" target="_blank">æœ‰å“ªäº›å ªç§°ã€Œç¥å™¨ã€ï¼Œå´é²œä¸ºäººçŸ¥çš„è½¯ä»¶/ç½‘ç«™/äº’è”ç½‘æœåŠ¡ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/275251667" rel="external nofollow noopener noreferrer" target="_blank">å›½å†…å“ªäº›å¤§å­¦å®¿èˆæ¡ä»¶å·®ï¼Ÿ</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/36829236" rel="external nofollow noopener noreferrer" target="_blank">20 ç§æœ€å¥‡æ€ªçš„ç¼–ç¨‹è¯­è¨€</a></li>
<li><a href="https://www.zhihu.com/question/64244262" rel="external nofollow noopener noreferrer" target="_blank">è®¡ç®—æœºä¸“ä¸šå­¦ç”Ÿåœ¨å¤§å­¦å››å¹´å†…å¯ä»¥åšäº›ä»€ä¹ˆæ¥ä¸°å¯Œç®€å†ï¼Ÿ</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/29558221" rel="external nofollow noopener noreferrer" target="_blank">æµ™å¤§åŒ—å¤§ä¸Šäº¤å¤æ—¦ä¿ç ”ç»å†ä¸å¿ƒå¾—</a></li>
<li><a href="https://www.zhihu.com/question/50343728" rel="external nofollow noopener noreferrer" target="_blank">ä½ æœ‰ä»€ä¹ˆå€¼å¾—åˆ†äº«çš„é«˜æ•ˆå­¦ä¹ æ–¹æ³•ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/51134718" rel="external nofollow noopener noreferrer" target="_blank">ä¸ºäº†è€ƒç ”ï¼Œæˆ‘ä»¬èƒ½åŠªåŠ›åˆ°ä»€ä¹ˆç¨‹åº¦ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/24363994" rel="external nofollow noopener noreferrer" target="_blank">åœ¨ä¸Šæµ·äº¤é€šå¤§å­¦å°±è¯»æ˜¯æ€æ ·ä¸€ç•ªä½“éªŒï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/24399025" rel="external nofollow noopener noreferrer" target="_blank">åœ¨æ¸…åå¤§å­¦å°±è¯»æ˜¯ä»€ä¹ˆä½“éªŒï¼Ÿ</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/37858020" rel="external nofollow noopener noreferrer" target="_blank">ç§‘å­¦å®¶ä½¿ç”¨ Reddit ä¸Šæœ€ææ€–çš„å›¾ç‰‡è®­ç»ƒäº†ä¸€ä¸ªåäººç±»é­”é¬¼ AI</a></li>
<li><a href="https://www.zhihu.com/question/68788879" rel="external nofollow noopener noreferrer" target="_blank">æ·˜æ°”åŒ…é©¬å°è·³é‡Œé¢çš„æ¡ƒå­å®´ï¼ŒçœŸçš„å¯ä»¥åšå‡ºæ¥å—ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/287421003" rel="external nofollow noopener noreferrer" target="_blank">å¤§å®¶éƒ½è§è¿‡å“ªäº›è®©ä½ è™èº¯ä¸€éœ‡çš„ä»£ç ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/36766890" rel="external nofollow noopener noreferrer" target="_blank">å¦‚ä½•ä¸è™šåº¦å¤§å­¦çš„æ—¶å…‰ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/57767264" rel="external nofollow noopener noreferrer" target="_blank">ä¸ºä»€ä¹ˆç°åœ¨æœ‰å¾ˆå¤šäººï¼Œç”šè‡³å¤§å­¦æˆè¯¾è¿˜åœ¨åšæŒ VC 6ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/30196513" rel="external nofollow noopener noreferrer" target="_blank">C++ æœ‰å¤šéš¾ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/302772589" rel="external nofollow noopener noreferrer" target="_blank">å¤§ä¸€ä¸ºacmå‡†å¤‡ï¼Œæ„Ÿè§‰å­¦ä¹ è¿‡ç¨‹ä¸­å¾ˆåƒåŠ›ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/61624754" rel="external nofollow noopener noreferrer" target="_blank">æ­£åœ¨å·¥ä½œçš„ç¨‹åºå‘˜ï¼Œç”Ÿæ´»çŠ¶æ€ä»€ä¹ˆæ ·ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/25715002" rel="external nofollow noopener noreferrer" target="_blank">æ¸…åå¤§å­¦è®¡ç®—æœºç³»ä¸æ™®é€šå¤§å­¦è®¡ç®—æœºç³»æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/38452044" rel="external nofollow noopener noreferrer" target="_blank">æ¸…åå¤§å­¦è®¡ç®—æœºç³»ç»„æˆç»“æ„è¯¾ä¸‰æ˜ŸæœŸé€ å°è®¡ç®—æœºç©¶ç«Ÿæ˜¯æ€ä¹ˆé€ çš„ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/302440083" rel="external nofollow noopener noreferrer" target="_blank">free()å‡½æ•°å¦‚ä½•çŸ¥é“è¦é‡Šæ”¾çš„ç©ºé—´å¤§å°ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/27837191" rel="external nofollow noopener noreferrer" target="_blank">å¦‚ä½•è¯„ä»· ã€Šæ¬¢è¿åŠ å…¥NHKã€‹?</a></li>
<li><a href="https://www.zhihu.com/question/304844787" rel="external nofollow noopener noreferrer" target="_blank">å¦‚æœè®©ä½ é‡æ–°ä¸Šä¸€æ¬¡å¤§å­¦ï¼Œä½ ä¼šæ€ä¹ˆåº¦è¿‡ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/51727516" rel="external nofollow noopener noreferrer" target="_blank">ACM çš„æ­£ç¡®å…¥é—¨æ–¹å¼æ˜¯ä»€ä¹ˆï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/19719698" rel="external nofollow noopener noreferrer" target="_blank">ACM ä¸­å¸¸ç”¨çš„ç®—æ³•æœ‰å“ªäº›ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/31034164" rel="external nofollow noopener noreferrer" target="_blank">ä»€ä¹ˆæ‰ç®—æ˜¯çœŸæ­£çš„ç¼–ç¨‹èƒ½åŠ›ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/57532048" rel="external nofollow noopener noreferrer" target="_blank">ç¾å›½è®¡ç®—æœºåæ ¡ä¾‹å¦‚MIT ï¼ŒCMU ï¼Œæœ‰å“ªäº›å…¬è®¤çš„å¥½è¯¾å¹¶ä¸”æœ‰è¯¾ç¨‹è®²ä¹‰çš„ï¼Œé€‚åˆå›½å†…å­¦ç”Ÿè‡ªå­¦çš„ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/51560126" rel="external nofollow noopener noreferrer" target="_blank">å¦‚ä½•é«˜æ•ˆçš„å­¦ä¹ C++ï¼Ÿ</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/54783053" rel="external nofollow noopener noreferrer" target="_blank">æ¼«ç”»ï¼šä»€ä¹ˆæ˜¯Bitmapç®—æ³•ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/20402534" rel="external nofollow noopener noreferrer" target="_blank">å¦‚ä½•é˜…è¯»ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹è¿™æœ¬ä¹¦ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/51134387" rel="external nofollow noopener noreferrer" target="_blank">ä½ å·¥ä½œä¸­æœ€æ¨èçš„ C/C++ ç¨‹åºåº“æœ‰å“ªäº›ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/23498424" rel="external nofollow noopener noreferrer" target="_blank">ä½ åœ¨ GitHub ä¸Šçœ‹åˆ°è¿‡çš„æœ€æœ‰æ„æ€çš„é¡¹ç›®æ˜¯ä»€ä¹ˆï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/266995763" rel="external nofollow noopener noreferrer" target="_blank">ä¸ºä»€ä¹ˆ C è¯­è¨€æ²¡æœ‰è¢« C++ å–ä»£ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/310052411" rel="external nofollow noopener noreferrer" target="_blank">ä½ æœ‰è¿‡å“ªäº›è¢« C++ æ‘§æ®‹çš„ç»å†ï¼Ÿ</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/58567627" rel="external nofollow noopener noreferrer" target="_blank">å¯ä»¥è¯´æ˜¯70%çš„ C++ ç¨‹åºå‘˜æˆé•¿ç»å†</a></li>
<li><a href="https://www.zhihu.com/question/60911582" rel="external nofollow noopener noreferrer" target="_blank">ä½ é‡åˆ°è¿‡å“ªäº›é«˜è´¨é‡çš„ C++ é¢è¯•ï¼Ÿ</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/56253982" rel="external nofollow noopener noreferrer" target="_blank">Linuxç©å®¶å¿…å¤‡ï¼šUbuntuå®Œå…¨é…ç½®æŒ‡å—</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/57512786" rel="external nofollow noopener noreferrer" target="_blank">ä¸ºä½•ç¨‹åºå‘˜å–œæ¬¢å°†INFè®¾ç½®ä¸º0x3f3f3f3f (è½¬è½½)</a></li>
<li><a href="https://www.zhihu.com/question/22913650" rel="external nofollow noopener noreferrer" target="_blank">äººè¿™ä¸€ç”Ÿä¸ºä»€ä¹ˆè¦åŠªåŠ›ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/28543312" rel="external nofollow noopener noreferrer" target="_blank">å¦‚ä½•ç”¨ C++ åœ¨ 10 è¡Œå†…å†™å‡ºå…«çš‡åï¼Ÿ</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/61036249" rel="external nofollow noopener noreferrer" target="_blank">AIâ€œå¤æ´»â€å¼ å›½è£ï¼Œé€å»16å¹´å“¥å“¥åˆé‡ç”Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/316844185" rel="external nofollow noopener noreferrer" target="_blank">æœ‰ä»€ä¹ˆåœ¨çº¿çš„ç¼–ç¨‹æ¸¸æˆï¼Ÿ</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/27692913" rel="external nofollow noopener noreferrer" target="_blank">ACMç®—æ³•åˆ†ç±»ã€æ¨èå­¦ä¹ èµ„æ–™å’Œé…å¥—ä¹ é¢˜ï¼ˆè½¬ï¼‰</a></li>
<li><a href="https://www.zhihu.com/question/27940474" rel="external nofollow noopener noreferrer" target="_blank">æœ‰ä»€ä¹ˆç†è®ºå¤æ‚ä½†æ˜¯å®ç°ç®€å•çš„ç®—æ³•ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/56297876" rel="external nofollow noopener noreferrer" target="_blank">æœ‰å“ªäº›ã€Œé«˜çº§æ„Ÿã€çš„ä¸­æ–‡/è‹±æ–‡/æ—¥æ–‡å­—ä½“ ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/51920544/answer/618254238" rel="external nofollow noopener noreferrer" target="_blank">æœ‰æ²¡æœ‰ç®€å•ä¸€ç‚¹çš„Pythonå°ä¾‹å­å°é¡¹ç›®ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/28661987/answer/619341354" rel="external nofollow noopener noreferrer" target="_blank">ä½ ç”¨ Python å†™è¿‡å“ªäº›æœ‰è¶£çš„è„šæœ¬ï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/27386361/answer/560891895" rel="external nofollow noopener noreferrer" target="_blank">Python å­¦ä¹ å®ŒåŸºç¡€è¯­æ³•çŸ¥è¯†åï¼Œå¦‚ä½•è¿›ä¸€æ­¥æé«˜ï¼Ÿ</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/57382703" rel="external nofollow noopener noreferrer" target="_blank">ã€æ”»ç•¥ã€‘é‡èº«å®šåšè‡ªå·±çš„ä¿ç ”æ–¹æ¡ˆ</a></li>
<li><a href="https://zhuanlan.zhihu.com/c_176544314" rel="external nofollow noopener noreferrer" target="_blank">ä¸€äº©ä¸‰åˆ†(ä¸€ä¸ªä¿ç ”ç›¸å…³çš„çŸ¥ä¹ä¸“æ )</a></li>
</ul>
<h4 id="Bç«™"><a href="#Bç«™" class="headerlink" title="Bç«™"></a>Bç«™</h4><ul>
<li><a href="https://www.bilibili.com/video/av10813947" rel="external nofollow noopener noreferrer" target="_blank">ã€å…¨ç¨‹ã€‘ACM ICPC World Finals 2017 å›½é™…å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›å…¨çƒæ€»å†³èµ› ä»¥åŠç›¸å…³è§†é¢‘å…¨ç¨‹ã€‘ACM ICPC World Finals 2017 å›½é™…å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›å…¨çƒæ€»å†³èµ›ä»¥åŠç›¸å…³è§†é¢‘</a></li>
<li><a href="https://www.bilibili.com/video/av45038361" rel="external nofollow noopener noreferrer" target="_blank">ã€è®¡ç®—æœºç§‘å­¦ | äººç‰© | é™ˆä¸¹ç¦ã€‘æ¸…åå§šç­ï¼Œæ–¯å¦ç¦åšå£«æ¯•ä¸šï¼Œé«˜ä¸­æ—¶å‘æ˜æ’å¤´DP</a></li>
<li><a href="https://www.bilibili.com/video/av42286396" rel="external nofollow noopener noreferrer" target="_blank">æ¯å¹´700æœ¬+ç¬”è®°700ä»½ï¼Œ10å¹´è¯»ä¹¦ç»éªŒå¤§å…¬å¼€</a></li>
<li><a href="https://space.bilibili.com/611212?spm_id_from=333.788.b_765f7570696e666f.2" rel="external nofollow noopener noreferrer" target="_blank">å¿å­¦å§çš„bç«™ç©ºé—´(ç®—æ³•è®²åº§)</a></li>
<li><a href="https://www.bilibili.com/video/av48420057" rel="external nofollow noopener noreferrer" target="_blank">ã€AIè‡ªåŠ¨ç»˜ç”»é»‘ç§‘æŠ€ï¼Ÿã€‘æœ€æ–° PI-REC è®ºæ–‡è§£è¯»+ä»£ç å®æˆ˜ å›¾åƒç¿»è¯‘è¯¾ç¨‹ æ‰‹æ®‹å…šç¦éŸ³ æ·±åº¦å­¦ä¹ æ•™ç¨‹</a></li>
<li><a href="https://space.bilibili.com/88461692?spm_id_from=333.788.b_765f7570696e666f.1" rel="external nofollow noopener noreferrer" target="_blank">3Blue1Brownçš„Bç«™ç©ºé—´(å„ç§æ•°å­¦è§†é¢‘)</a></li>
</ul>
<h4 id="Github"><a href="#Github" class="headerlink" title="Github"></a>Github</h4><ul>
<li><a href="https://github.com/QSCTech/zju-icicles" rel="external nofollow noopener noreferrer" target="_blank">æµ™æ±Ÿå¤§å­¦è¯¾ç¨‹æ”»ç•¥å…±äº«è®¡åˆ’</a></li>
<li><a href="https://github.com/PKUanonym/REKCARC-TSC-UHT" rel="external nofollow noopener noreferrer" target="_blank">æ¸…åå¤§å­¦è®¡ç®—æœºç³»è¯¾ç¨‹æ”»ç•¥</a></li>
<li><a href="https://github.com/lib-pku/libpku" rel="external nofollow noopener noreferrer" target="_blank">pkuè¯¾ç¨‹èµ„æ–™</a></li>
<li><a href="https://github.com/CoolPhilChen/SJTU-Courses" rel="external nofollow noopener noreferrer" target="_blank">ä¸Šæµ·äº¤å¤§è¯¾ç¨‹èµ„æ–™</a></li>
</ul>
<h4 id="ç®€ä¹¦"><a href="#ç®€ä¹¦" class="headerlink" title="ç®€ä¹¦"></a>ç®€ä¹¦</h4><ul>
<li><a href="https://www.jianshu.com/p/f7434bb2ce09?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation" rel="external nofollow noopener noreferrer" target="_blank">æ±‡ç¼–å…¥é—¨ï¼ˆé•¿æ–‡å¤šå›¾ï¼Œæµé‡æ…å…¥ï¼ï¼ï¼ï¼‰(è¶…å¤šå¹²è´§)</a></li>
<li><a href="https://kb.cnblogs.com/page/179578/" rel="external nofollow noopener noreferrer" target="_blank">CPUæµæ°´çº¿çš„æ¢ç§˜ä¹‹æ—…</a><br></li>
</ul>
<h4 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h4><ul>
<li><a href="https://lib-pku.github.io/" rel="external nofollow noopener noreferrer" target="_blank">libpku - è´µæ ¡è¯¾ç¨‹èµ„æ–™æ°‘é—´æ•´ç†(è¿˜æ˜¯pkuçš„èµ„æ–™)</a></li>
<li><a href="http://www.mdtr2pdf.com/index_en.html" rel="external nofollow noopener noreferrer" target="_blank">ä¸€ä¸ªå°†Markdownè½¬ä¸ºPDFçš„Webåº”ç”¨</a></li>
<li><a href="https://pymlovelyq.github.io/" rel="external nofollow noopener noreferrer" target="_blank">æå®¢ä¾ æ ˆ(ä¸€ä¸ªä¸“ä¸šä¹¦èµ„æºç½‘ç«™)</a></li>
</ul>
<h4 id="æ›´æ–°æ—¥å¿—"><a href="#æ›´æ–°æ—¥å¿—" class="headerlink" title="æ›´æ–°æ—¥å¿—"></a>æ›´æ–°æ—¥å¿—</h4><ul>
<li>2019/4/11 åˆ›å»ºæ–‡ç« </li>
<li>2019/4/11 åˆ›å»ºåˆ†ç±»ï¼šçŸ¥ä¹ã€Bç«™ã€Githubã€å…¶ä»–</li>
<li>2019/4/11 æ·»åŠ å†…å®¹</li>
<li>2019/4/12 æ·»åŠ åˆ†ç±»ï¼šç®€ä¹¦</li>
<li>2019/4/12 æ·»åŠ å†…å®¹</li>
<li>2019/5/1    æ·»åŠ å†…å®¹</li>
<li>2019/5/8    æ·»åŠ å†…å®¹</li>
<li>2019/7/2 åˆ é™¤éƒ¨åˆ†ä¸æ°å½“çš„å†…å®¹</li>
</ul>
]]></content>
      <categories>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>æ‚</tag>
        <tag>Collection</tag>
      </tags>
  </entry>
  <entry>
    <title>UVA - 12563 Jin Ge Jin Qu hao</title>
    <url>/2019/02/24/UVA-12563-Jin-Ge-Jin-Qu-hao/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/UVA-12563" rel="external nofollow noopener noreferrer" target="_blank">Jin Ge Jin Qu hao</a></p>
<p>&emsp;&emsp;ä¸€é“01èƒŒåŒ…ï¼Œè™½ç„¶t&lt;=1e9ï¼Œä½†å®é™…ä¸Štä¸ä¼šè¶…è¿‡180 * n + 678ã€‚</p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3fffffff</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> JIN 678</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> time_[<span class="number">1000</span>];</span><br><span class="line"><span class="keyword">int</span> dp[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="built_in">memset</span>(dp,<span class="number">0x8f</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">    dp[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="keyword">int</span> kase=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;    </span><br><span class="line">        mst(time_,<span class="number">0</span>);init();</span><br><span class="line">        <span class="keyword">int</span> n,t_lef;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;t_lef;</span><br><span class="line">        <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)        <span class="built_in">cin</span>&gt;&gt;time_[i];</span><br><span class="line">        <span class="keyword">int</span> vtot=t_lef<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=vtot;j&gt;=time_[i];j--)&#123;</span><br><span class="line">                dp[j]=<span class="built_in">max</span>(dp[j],dp[j-time_[i]]+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> len=t_lef<span class="number">-1</span>;        <span class="comment">//ç•™ä¸€ç§’æ¥å”±åŠ²æ­Œé‡‘æ›²</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=vtot;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">            <span class="keyword">int</span> tmp=cnt;</span><br><span class="line">            cnt=<span class="built_in">max</span>(cnt,dp[i]);</span><br><span class="line">            <span class="keyword">if</span>(cnt!=tmp)</span><br><span class="line">                len=i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: %d %d\n"</span>,++kase,cnt+<span class="number">1</span>,len+JIN);        </span><br><span class="line">        <span class="comment">//åŠ ä¸ŠåŠ²æ­Œé‡‘æ›²         </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>01èƒŒåŒ…</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>01èƒŒåŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>UVa101-The Blocks Problem</title>
    <url>/2019/01/26/UVa101-The-Blocks-Problem/</url>
    <content><![CDATA[<p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://uva.onlinejudge.org/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;problem=37" rel="external nofollow noopener noreferrer" target="_blank">Uva101</a><br>ä¹Ÿå¯ä»¥åœ¨è¿™çœ‹ï¼š<a href="https://cn.vjudge.net/problem/UVA-101" rel="external nofollow noopener noreferrer" target="_blank">Vjudge</a><br><a id="more"></a><br>å…ˆä¸Šä»£ç ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; pile[<span class="number">30</span>];</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; P;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="function">P <span class="title">find_block</span><span class="params">(<span class="keyword">int</span> num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    P pos;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j &lt; pile[i].<span class="built_in">size</span>(); j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (pile[i][j] == num) &#123;</span><br><span class="line">                pos.first = i;</span><br><span class="line">                pos.second = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pos;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear_pile</span><span class="params">(<span class="keyword">int</span> num)</span>        <span class="comment">//pè¡¨ç¤ºå“ªä¸€å †ï¼Œhè¡¨ç¤ºé«˜åº¦</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    P pos = find_block(num);</span><br><span class="line">    <span class="keyword">int</span> p = pos.first; <span class="keyword">int</span> h = pos.second;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = h + <span class="number">1</span>; i &lt; pile[p].<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> b = pile[p][i];</span><br><span class="line">        pile[b].push_back(b);</span><br><span class="line">    &#125;</span><br><span class="line">    pile[p].resize(h + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a, b;</span><br><span class="line">    <span class="built_in">string</span> com1, com2;</span><br><span class="line">    P des;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        pile[i].push_back(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; com1;</span><br><span class="line">        <span class="keyword">if</span> (com1 == <span class="string">"quit"</span>)        <span class="keyword">break</span>;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; a &gt;&gt; com2 &gt;&gt; b;</span><br><span class="line">        <span class="keyword">if</span> (find_block(a).first == find_block(b).first)        <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span> (com1 == <span class="string">"move"</span>&amp;&amp;com2 == <span class="string">"onto"</span>) &#123;</span><br><span class="line">            clear_pile(a);</span><br><span class="line">            clear_pile(b);</span><br><span class="line">            <span class="keyword">int</span> bpile = find_block(b).first;</span><br><span class="line">            <span class="keyword">int</span> apile = find_block(a).first;</span><br><span class="line">            pile[bpile].push_back(a);</span><br><span class="line">            <span class="keyword">int</span> si = pile[apile].<span class="built_in">size</span>();</span><br><span class="line">            pile[apile].resize(si - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (com1 == <span class="string">"move"</span>&amp;&amp;com2 == <span class="string">"over"</span>) &#123;                <span class="comment">//è¿™æ®µæœ‰é—®é¢˜ </span></span><br><span class="line">            clear_pile(a);</span><br><span class="line">            <span class="keyword">int</span> apile = find_block(a).first;</span><br><span class="line">            <span class="keyword">int</span> bpile = find_block(b).first;</span><br><span class="line">            <span class="keyword">int</span> si = pile[apile].<span class="built_in">size</span>();</span><br><span class="line">            pile[bpile].push_back(a);</span><br><span class="line">            pile[apile].resize(si - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (com1 == <span class="string">"pile"</span>&amp;&amp;com2 == <span class="string">"onto"</span>) &#123;        <span class="comment">//è¿™ä¸ªæ“ä½œæ˜¯å…ˆå°†bä¸Šæ–¹çš„æ–¹å—å½’ä½ï¼Œç„¶åå°†aä»¥åŠaä¸Šæ–¹çš„æ–¹å—æ•´ä½“ç§»åŠ¨åˆ°bçš„ä¸Šæ–¹</span></span><br><span class="line">            <span class="keyword">int</span> apile = find_block(a).first;</span><br><span class="line">            <span class="keyword">int</span> bpile = find_block(b).first;</span><br><span class="line">            <span class="keyword">int</span> h = find_block(a).second;</span><br><span class="line">            <span class="keyword">int</span> ori_a_size = pile[apile].<span class="built_in">size</span>();</span><br><span class="line">            clear_pile(b);                                <span class="comment">//å°†bä¸Šæ–¹çš„æ–¹å—å½’ä½</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = find_block(a).second; i &lt; ori_a_size; i++) &#123;        <span class="comment">//å¾ªç¯ä»bçš„é«˜åº¦å¼€å§‹ï¼ˆè¿™é‡Œæ˜¯å¦è¦+1ï¼Ÿï¼‰</span></span><br><span class="line">                pile[bpile].push_back(pile[apile][i]);</span><br><span class="line">            &#125;</span><br><span class="line">            pile[apile].resize(h);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (com1 == <span class="string">"pile"</span>&amp;&amp;com2 == <span class="string">"over"</span>) &#123;                <span class="comment">//è¿™æ®µæœ‰é—®é¢˜</span></span><br><span class="line">            <span class="keyword">int</span> bpile = find_block(b).first;</span><br><span class="line">            <span class="keyword">int</span> apile = find_block(a).first;</span><br><span class="line">            <span class="keyword">int</span> ori_a_si = pile[apile].<span class="built_in">size</span>();</span><br><span class="line">            <span class="keyword">int</span> h = find_block(a).second;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = find_block(a).second; i &lt; ori_a_si; i++) &#123;</span><br><span class="line">                pile[bpile].push_back(pile[apile][i]);</span><br><span class="line">            &#125;</span><br><span class="line">            pile[apile].resize(h);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d:"</span>, i);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; pile[i].<span class="built_in">size</span>(); j++) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">" %d"</span>, pile[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€è·¯ä¸Šå…¶å®å¾ˆç›´æ¥ï¼Œå°±æ˜¯ç”¨vectoræ¥æ¨¡æ‹Ÿæ–¹å—å †ï¼Œç„¶åç”¨ä¸€ä¸ªæ•°ç»„å°†è¿™äº›vectorå­˜èµ·æ¥ã€‚æ”¾æ–¹å—çš„æ“ä½œç”¨push_backå³å¯ã€‚åŸæœ¬æ˜¯å†™äº†ä¸€ä¸ªmoveå‡½æ•°ç”¨æ¥è¿›è¡Œæ”¾æ–¹å—çš„æ“ä½œçš„ï¼Œä½†åæ¥å‘ç°è¿™æ ·åšå®¹æ˜“å‡ºé”™è€Œä¸”è‡ªå·±ä¹Ÿå†™å¾—ä¸å¥½â€¦â€¦..<br>ä¸‹é¢æ˜¯æˆ‘å†™çš„è¶…ä¸‘moveå‡½æ•°qwqï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">move</span><span class="params">(<span class="keyword">int</span> obj, <span class="keyword">int</span> des, <span class="keyword">int</span> h)</span>        <span class="comment">//objè¡¨ç¤ºè¦ç§»åŠ¨çš„æ–¹å—ï¼Œdesè¡¨ç¤ºç›®çš„åœ°æ–¹å—ï¼Œhè¡¨ç¤ºè¦ç§»åŠ¨çš„æ–¹å—åœ¨ç§»åŠ¨å‰æ‰€å¤„çš„é«˜åº¦</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> desp = find_block(des).first;        <span class="comment">//æ‰¾åˆ°ç›®çš„åœ°æ–¹å—å¤„äºå“ªä¸€å †</span></span><br><span class="line">    <span class="keyword">int</span> objp = find_block(obj).first;        <span class="comment">//æ‰¾åˆ°è¦ç§»åŠ¨çš„æ–¹å—å¤„äºå“ªä¸€å †</span></span><br><span class="line">    <span class="keyword">int</span> ori_hei=pile[find_block(obj).first].<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = h; i &lt; pile[objp].<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        pile[desp].push_back(pile[objp][i]);        <span class="comment">//å°†è¦ç§»åŠ¨çš„æ–¹å—ä»¥åŠè¦ç§»åŠ¨çš„æ–¹å—ä¸Šé¢çš„æ–¹å—ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ç§»åŠ¨åˆ°ç›®çš„åœ°æ–¹å—çš„ä¸Šé¢</span></span><br><span class="line">    &#125;</span><br><span class="line">    pile[objp].resize(h);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®é™…ä½¿ç”¨çš„æ—¶å€™å¾ˆä¸å¥½ç”¨ï¼Œä¸»è¦æ˜¯å‚æ•°è®¾è®¡çš„ä¸å¥½ã€‚</p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>STL</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>UVA294 - Divisors</title>
    <url>/2019/03/02/UVA294-Divisors/</url>
    <content><![CDATA[<p><a href="https://cn.vjudge.net/problem/UVA-294" rel="external nofollow noopener noreferrer" target="_blank">Divisors</a></p>
<p>&emsp;&emsp;é¢˜æ„æ˜¯è¯´ç®—ä¸€ä¸ªåŒºé—´å†…çš„å› å­æ•°æœ€å¤§çš„æ•°ã€‚ç½‘ä¸Šé¢˜è§£å¤§éƒ½æ˜¯ç”¨çš„dfsï¼Œä½†æˆ‘åˆä¸æƒ³å†™dfsÂ·Â·Â·Â·Â·Â·ç„¶åçœ‹äº†ä¸€ä¸‹ï¼ŒåŒºé—´é•¿åº¦æœ€é•¿æ‰1e4ï¼Œç”¨è´¨å› æ•°åˆ†è§£æ±‚å‡ºåŒºé—´å†…æ¯ä¸€ä¸ªæ•°çš„å› å­æ•°ç„¶åç”¨æœ€æœ´ç´ çš„æ–¹æ³•æ‰¾å‡ºç­”æ¡ˆåº”è¯¥ä¹Ÿèƒ½è¿‡å§Â·Â·Â·Â·Â·Â·äº‹å®è¯æ˜çœŸçš„å¯ä»¥ï¼Œè€Œä¸”åªç”¨äº†40ms 2333333ã€‚</p>
<p>&emsp;&emsp;è¿™é‡Œåšä¸ªç¬”è®°ï¼Œæ‰€è°“è´¨å› æ•°åˆ†è§£æ±‚å› å­æ•°ï¼ŒæŒ‡çš„æ˜¯ï¼Œå¯¹äºä¸€ä¸ªæ•°x,å¿…å®šå­˜åœ¨ä»¥ä¸‹å¼å­:</p>
<pre><code>        x = (a1^p1)*(a2^p2)*(a3^p3)*(a4^p4)*Â·Â·Â·*(an^pn)(å…¶ä¸­,a1,a2,Â·Â·Â·ï¼Œanå‡ä¸ºè´¨æ•°)
</code></pre><p>&emsp;&emsp;é‚£ä¹ˆ,xçš„å› å­ä¸ªæ•°åˆ™ä¸º:</p>
<pre><code>                    sum(x) = (1+p1)*(1+p2)*(1+p3)*(1+p4)*Â·Â·Â·*(1+pn)
</code></pre><p>&emsp;&emsp;æ¯”å¦‚è¯´ï¼Œå¯¹äº12ï¼Œæœ‰12 = (2^2) * (3^1) , æ‰€ä»¥sum(12) = (1+2) * (1+1) = 6</p>
<p>æ­¤é¢˜çš„ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">5</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get_cnt</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x==<span class="number">1</span>)        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(x==<span class="number">2</span>)        <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    ll ans=<span class="number">1</span>;ll cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">2</span>;i*i&lt;=x;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cnt=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(x%i==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cnt++;</span><br><span class="line">            x/=i;</span><br><span class="line">        &#125;</span><br><span class="line">        ans*=(<span class="number">1</span>+cnt);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x&gt;<span class="number">1</span>?<span class="number">2</span>*ans:ans;</span><br><span class="line">&#125;</span><br><span class="line">ll maxi,pos;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_ans</span><span class="params">(ll lef,ll rig)</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    maxi=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i=lef;i&lt;=rig;i++)</span><br><span class="line">    &#123;    </span><br><span class="line">        ll tmp=get_cnt(i);</span><br><span class="line">        <span class="keyword">if</span>(tmp&gt;maxi)&#123;</span><br><span class="line">            maxi=tmp;</span><br><span class="line">            pos=i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        ll lef,rig;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;lef&gt;&gt;rig;</span><br><span class="line">        get_ans(lef,rig);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Between %lld and %lld, %lld has a maximum of %lld divisors.\n"</span>,lef,rig,pos,maxi);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Between 1 and 10, 6 has a maximum of 4 divisors.</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>æ•°è®º</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>æ•°è®º</tag>
        <tag>æ±‚å› å­ä¸ªæ•°</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows10ä¸‹å®‰è£…C++ linear algebra library Armadillo</title>
    <url>/2019/08/03/Windows10%E4%B8%8B%E5%AE%89%E8%A3%85C-linear-algebra-library-Armadillo/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/H628e81e21f2f4cd6994afcb0bc0d008ap.jpg" alt></p>
<a id="more"></a>
<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>è£…è¿™ä¸ªåº“çš„åŸå› æ˜¯å› ä¸ºæ˜¨å¤©å†™é¢˜å†™å¾—æœ‰ç‚¹è‡ªé—­ï¼Œæ‰€ä»¥å°±å»å¤ä¹ ä¸€ä¸‹å¾ˆä¹…ä¹‹å‰å­¦è¿‡çš„numpyï¼Œæ‰“ç®—è°ƒæ•´ä¸€ä¸‹æ€ç»´ã€‚å¤ä¹ ç€å¤ä¹ ç€ï¼Œå°±æƒ³C++ä¸‹æœ‰æ²¡æœ‰åƒnumpyè¿™ç§è¿™ä¹ˆå¥½ç”¨çš„çŸ©é˜µåº“å‘¢ï¼Ÿä¸ŠæŸä¹æ‰¾äº†ä¸€ä¸‹ï¼Œæœç„¶æœ‰ï¼Œä¾¿æ‰“ç®—é…ä¸€ä¸ªç©ç©<del>ï¼ˆä¸€å¥è¯æ¦‚æ‹¬ï¼ŒåŸå› å°±æ˜¯æƒ³è¦æ‰¾ä¸ªåˆé€‚çš„ç†ç”±åˆ’æ°´ï¼‰</del></p>
<h4 id="Armadillç®€ä»‹"><a href="#Armadillç®€ä»‹" class="headerlink" title="Armadillç®€ä»‹"></a>Armadillç®€ä»‹</h4><p>ä»¥ä¸‹æ‘˜è‡ªå®˜ç½‘</p>
<blockquote>
<ul>
<li><p>Armadillo is a high quality linear algebra library (matrix maths) for the C++ language, aiming towards a good balance between speed and ease of use </p>
</li>
<li><p>Provides high-level syntax and <a href="http://arma.sourceforge.net/docs.html" rel="external nofollow noopener noreferrer" target="_blank">functionality</a> deliberately similar to Matlab </p>
</li>
<li><p>Useful for algorithm development directly in C++, or quick conversion of research code into production environments (eg. software &amp; hardware products) </p>
</li>
<li><p>Provides efficient classes for vectors, matrices and cubes (1st, 2nd and 3rd order tensors); dense and sparse matrices are supported </p>
</li>
<li><p>Integer, floating point and complex numbers are supported </p>
</li>
<li><p>Various matrix decompositions are provided through integration with <a href="http://www.netlib.org/lapack/" rel="external nofollow noopener noreferrer" target="_blank">LAPACK</a>, or one of its high performance drop-in replacements (eg. multi-threaded <a href="http://software.intel.com/en-us/intel-mkl/" rel="external nofollow noopener noreferrer" target="_blank">Intel MKL</a>, or <a href="https://github.com/xianyi/OpenBLAS/releases" rel="external nofollow noopener noreferrer" target="_blank">OpenBLAS</a>) </p>
</li>
<li><p>A sophisticated expression evaluator (based on template meta-programming) automatically combines several operations to increase speed and efficiency </p>
</li>
<li><p>Can automatically use OpenMP multi-threading (parallelisation) to speed up computationally expensive operations </p>
</li>
<li><p>Available under a <a href="http://arma.sourceforge.net/license.html" rel="external nofollow noopener noreferrer" target="_blank">permissive license</a>, useful for both open-source and proprietary (closed-source) software </p>
</li>
<li><p>Can be used for machine learning, pattern recognition, computer vision, signal processing, bioinformatics, statistics, finance, etc </p>
</li>
</ul>
</blockquote>
<p>ç¿»è¯‘ä¸€ä¸‹å°±æ˜¯</p>
<ul>
<li>Armadilloæ˜¯ä¸€ä¸ªé«˜è´¨é‡çš„C++çº¿æ€§ä»£æ•°åº“ï¼Œç›®çš„æ˜¯å®ç°é€Ÿåº¦ä¸æ˜“ç”¨æ€§çš„è‰¯å¥½å¹³è¡¡ã€‚</li>
<li>æä¾›ä¸Matlabç›¸ä¼¼çš„é«˜é˜¶è¯­æ³•åŠåŠŸèƒ½ã€‚</li>
<li>å¯¹äºC++ç®—æ³•å¼€å‘æˆ–ä»£ç åœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„å¿«é€Ÿè½¬æ¢å¾ˆæœ‰å¸®åŠ©ã€‚</li>
<li>æä¾›é«˜æ•ˆçš„vectorsï¼Œmatricesä¸cubesï¼ˆä¸€é˜¶ã€äºŒé˜¶å’Œä¸‰é˜¶å¼ é‡ï¼‰çš„ç±»å®ç°ï¼›åŒæ—¶æ”¯æŒå¯†é›†çŸ©é˜µå’Œç¨€ç–çŸ©é˜µ</li>
<li>æ”¯æŒæ•´æ•°ã€æµ®ç‚¹æ•°å’Œå¤æ•°ã€‚</li>
<li>é€šè¿‡ä¸LAPACKæˆ–å…¶é«˜æ€§èƒ½æ›¿æ¢ï¼ˆå¦‚å¤šçº¿ç¨‹çš„ Intel MKLï¼Œæˆ–OpenBLASï¼‰ï¼Œæä¾›å¤šç§çŸ©é˜µåˆ†è§£ã€‚</li>
<li>å¤æ‚è¡¨è¾¾å¼è¯„ä¼°ç¨‹åºï¼ˆåŸºäºæ¨¡æ¿å…ƒç¼–ç¨‹ï¼‰ä¼šè‡ªåŠ¨åœ°å°†å¤šä¸ªæ“ä½œç»„åˆä»¥æé«˜é€Ÿåº¦å’Œæ•ˆç‡</li>
<li>å¯ä»¥è‡ªåŠ¨ä½¿ç”¨OpenMPçš„å¤šçº¿ç¨‹æ¥åŠ é€Ÿè®¡ç®—è€—æ—¶è¾ƒå¤§çš„æ“ä½œ</li>
<li>åœ¨è®¸å¯ä¸‹å¯ç”¨ï¼Œå¯¹äºå¼€æºä¸é—­æºè½¯ä»¶éƒ½æ˜¯å¯ç”¨çš„ã€‚</li>
<li>å¯ç”¨äºæœºå™¨å­¦ä¹ ã€æ¨¡å¼è¯†åˆ«ã€è®¡ç®—æœºè§†è§‰ã€ä¿¡å·å¤„ç†ã€ç”Ÿç‰©ä¿¡æ¯å­¦ã€ç»Ÿè®¡å­¦ã€é‡‘èå­¦ç­‰ç­‰ã€‚</li>
</ul>
<p><del>è¾£é¸¡è‹±è¯­æ°´å¹³ï¼Œæœ‰äº›åœ°æ–¹ç¿»è¯‘å¾—å¾ˆç”Ÿç¡¬</del></p>
<p><del>ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯è¿™ä¸ªåº“å¾ˆnb</del></p>
<h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><h5 id="é¦–å…ˆå½“ç„¶æ˜¯å»ä¸‹è½½è¿™ä¸ªåº“"><a href="#é¦–å…ˆå½“ç„¶æ˜¯å»ä¸‹è½½è¿™ä¸ªåº“" class="headerlink" title="é¦–å…ˆå½“ç„¶æ˜¯å»ä¸‹è½½è¿™ä¸ªåº“"></a>é¦–å…ˆå½“ç„¶æ˜¯å»ä¸‹è½½è¿™ä¸ªåº“</h5><p>ç‚¹å‡»ä¸‹é¢ğŸ‘‡è¿™ä¸ªé“¾æ¥å³å¯</p>
<p><a href="http://arma.sourceforge.net/download.html" rel="external nofollow noopener noreferrer" target="_blank">Armadillo Download</a></p>
<p>è¿›å»ä¹‹åæ˜¯è¿™æ ·çš„</p>
<p><img src="https://ae01.alicdn.com/kf/H65ff87aeecba45f98168ccb69b43be582.jpg" alt></p>
<p>æ¨èä¸‹è½½Stable Version</p>
<p>ä¸‹è½½ä¹‹åï¼Œå°†æ–‡ä»¶è§£å‹åˆ°ä»»æ„ç›®å½•ã€‚æ¯”æ–¹è¯´æˆ‘å°±æŠŠå®ƒè§£å‹åˆ°äº†Dç›˜æ ¹ç›®å½•ä¸‹çš„Armadilloç›®å½•ã€‚</p>
<p>æ‰“å¼€æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­å†…å®¹å¦‚ä¸‹ã€‚</p>
<p><img src="https://ae01.alicdn.com/kf/H2dfea56dc4234694a8fe40ae51bc7d3dx.jpg" alt></p>
<h5 id="é…ç½®ç›®å½•"><a href="#é…ç½®ç›®å½•" class="headerlink" title="é…ç½®ç›®å½•"></a>é…ç½®ç›®å½•</h5><p>æ‰“å¼€Visual Studioï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯2017çš„ç‰ˆæœ¬ã€‚æ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œé…ç½®å¦‚ä¸‹å›¾</p>
<p><img src="https://ae01.alicdn.com/kf/Hdf2647655d364e549a34f68f4f272312l.jpg" alt></p>
<p>è¿›å…¥é¡¹ç›®åï¼Œåœ¨â€œè°ƒè¯•â€ä¸€æ æ‰¾åˆ°é¡¹ç›®å±æ€§ï¼Œç„¶åè¿›è¡Œç›®å½•é…ç½®ã€‚å…·ä½“é…ç½®è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li><p>ä¿®æ”¹â€œé…ç½®â€ä¸â€œå¹³å°â€</p>
<p>åœ¨æˆ‘è¿™æ˜¯è¦è¿™æ ·é…ç½®</p>
<p><img src="https://ae01.alicdn.com/kf/H0c0177cf0f9143ceaa8daa4a82ca6bdcW.jpg" alt></p>
</li>
</ul>
<div class="note warning"><p>æ³¨æ„ï¼â€œå¹³å°â€å¤„ä¸ä¸€å®šæ˜¯åƒæˆ‘è¿™æ ·é€‰ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šæ–‡ç« é€‰çš„æ˜¯x64ï¼Œä½†ç”±äºæˆ‘è¿™é‡Œæ˜¯å»ºç«‹äº†ä¸€ä¸ªWin32é¡¹ç›®ï¼Œæ‰€ä»¥è¦é€‰æ‹©Win32ã€‚</p></div>

<p>æ­¤å¤„çš„è®¾ç½®å¾ˆé‡è¦ï¼Œé”™è¯¯çš„è¯å¯èƒ½ä¼šå¯¼è‡´æ‰¾ä¸åˆ°å¤´æ–‡ä»¶</p>
<ul>
<li><p>é…ç½®åŒ…å«ç›®å½•</p>
<p>æ‰€è°“åŒ…å«ç›®å½•å°±æ˜¯å¤´æ–‡ä»¶çš„ç›®å½•ã€‚åœ¨â€œé…ç½®å±æ€§â€ä¸­é€‰æ‹©â€œVC++ç›®å½•â€ï¼Œç„¶ååœ¨â€œåŒ…å«ç›®å½•â€ä¸€æ é€‰æ‹©ä½ çš„Armadilloçš„includeç›®å½•ã€‚å¦‚ä¸‹å›¾ã€‚</p>
<p><img src="https://ae01.alicdn.com/kf/Hb9c8bdce83b248b6b01db5caa1255144w.jpg" alt></p>
</li>
<li><p>é…ç½®é™„åŠ ä¾èµ–é¡¹</p>
<p>é€‰æ‹©â€œé“¾æ¥å™¨â€çš„â€œè¾“å…¥â€ï¼Œåœ¨â€œé™„åŠ ä¾èµ–é¡¹â€ä¸€æ ï¼Œæ·»åŠ Armadilloä¸­example\lib_win64ç›®å½•ä¸‹çš„lapack_win64_MT.libå’Œblas_win64_MT.libã€‚</p>
</li>
</ul>
<div class="note warning"><p>æ³¨æ„ï¼å®é™…éœ€è¦çš„å¹¶ä¸ä¸€å®šæ˜¯è¿™ä¸¤ä¸ªlibï¼Œè¿™ä¸¤ä¸ªéƒ½æ˜¯win64çš„ï¼Œå¦‚æœä½ æ˜¯win32çš„é¡¹ç›®ï¼Œè¯·ä½¿ç”¨win32çš„libæ–‡ä»¶ï¼ä¸‹è½½åœ°å€è§é™„å½•</p></div>

<h5 id="é…ç½®å®Œæˆï¼Œå¼€å§‹ä½¿ç”¨å§ï¼"><a href="#é…ç½®å®Œæˆï¼Œå¼€å§‹ä½¿ç”¨å§ï¼" class="headerlink" title="é…ç½®å®Œæˆï¼Œå¼€å§‹ä½¿ç”¨å§ï¼"></a>é…ç½®å®Œæˆï¼Œå¼€å§‹ä½¿ç”¨å§ï¼</h5><p>è¿è¡Œä¸€ä¸‹é™„å¸¦çš„example1.cpp</p>
<p><img src="https://ae01.alicdn.com/kf/H5ef973a92ae94889938ff2ad18d34a95S.jpg" alt></p>
<p>å¦å¤–ï¼Œè¿˜éœ€è¦å°†labpackå’Œblaså¯¹åº”çš„.dllæ–‡ä»¶æ”¾åˆ°ç¼–è¯‘ç”Ÿæˆçš„.exeæ‰€åœ¨ç›®å½•å¤„ã€‚å¦åˆ™.exeä¼šæ— æ³•è¿è¡Œã€‚</p>
<h4 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h4><ul>
<li><p>labpackå’Œblasçš„ä¸‹è½½åœ°å€ï¼Œå†…å«32ä½ç‰ˆå’Œ64ä½ç‰ˆ</p>
<p><a href="https://icl.cs.utk.edu/lapack-for-windows/lapack/" rel="external nofollow noopener noreferrer" target="_blank">Download labpack and blas</a></p>
</li>
<li><p><del>ä¸è¦å°è¯•ç”¨Devcppé…ç½®ä»»ä½•ç¬¬ä¸‰æ–¹åº“</del></p>
</li>
</ul>
]]></content>
      <categories>
        <category>C++</category>
        <category>ç¬¬ä¸‰æ–¹åº“</category>
        <category>Armadillo</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>ç¬¬ä¸‰æ–¹åº“</tag>
        <tag>Armadillo</tag>
      </tags>
  </entry>
  <entry>
    <title>hexoåšå®¢ä¸­åŠ å…¥Bç«™è§†é¢‘ä¸ç½‘æ˜“äº‘æ­Œå•</title>
    <url>/2019/08/01/hexo%E5%8D%9A%E5%AE%A2%E4%B8%AD%E5%8A%A0%E5%85%A5B%E7%AB%99%E8%A7%86%E9%A2%91/</url>
    <content><![CDATA[<p>æ²¡æœ‰å°é¢å›¾ï¼Œæ‡’å¾—æ‰¾äº†â€¦â€¦</p>
<a id="more"></a>
<h3 id="æ·»åŠ Bç«™è§†é¢‘"><a href="#æ·»åŠ Bç«™è§†é¢‘" class="headerlink" title="æ·»åŠ Bç«™è§†é¢‘"></a>æ·»åŠ Bç«™è§†é¢‘</h3><p>åœ¨æ–‡ç« ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç :<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;% raw %&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"position: relative; width: 100%; height: 0; padding-bottom: 75%;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">"//player.bilibili.com/player.html?aid=57933879&amp;cid=101052438&amp;page=1"</span> <span class="attr">scrolling</span>=<span class="string">"no"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">frameborder</span>=<span class="string">"no"</span> <span class="attr">framespacing</span>=<span class="string">"0"</span> <span class="attr">allowfullscreen</span>=<span class="string">"true"</span> <span class="attr">style</span>=<span class="string">"position: absolute; width: 100%; height: 100%; left: 0; top: 0;"</span>&gt;</span> <span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨bç«™è§†é¢‘åˆ†äº«å¤„å¯ä»¥å¾—åˆ°è§†é¢‘å¯¹åº”&lt; iframe &gt;æ ‡ç­¾</p>
<p>æ•ˆæœå¦‚ä¸‹:</p>


<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
    <iframe src="//player.bilibili.com/player.html?aid=57933879&cid=101052438&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"> </iframe>
</div>


<h3 id="æ·»åŠ ç½‘æ˜“äº‘æ­Œå•"><a href="#æ·»åŠ ç½‘æ˜“äº‘æ­Œå•" class="headerlink" title="æ·»åŠ ç½‘æ˜“äº‘æ­Œå•"></a>æ·»åŠ ç½‘æ˜“äº‘æ­Œå•</h3><h4 id="è·å–å¤–é“¾"><a href="#è·å–å¤–é“¾" class="headerlink" title="è·å–å¤–é“¾"></a>è·å–å¤–é“¾</h4><p>é¦–å…ˆæ‰“å¼€ç½‘æ˜“äº‘éŸ³ä¹ç½‘é¡µç‰ˆï¼Œæ‰¾åˆ°è¦ç”Ÿæˆå¤–é“¾çš„æ­Œå•ã€‚ç„¶åç‚¹å‡»â€œåˆ†äº«â€ã€‚</p>
<p><img src="https://ae01.alicdn.com/kf/Ha0f6cd7fae4e4b1e8fade6891b755091r.jpg" alt></p>
<p>åˆ†äº«æˆåŠŸåï¼Œè¿”å›é¦–é¡µï¼Œè¿›å…¥ä¸ªäººåŠ¨æ€ï¼Œå¯ä»¥çœ‹åˆ°ä¹‹å‰çš„åˆ†äº«ã€‚</p>
<p><img src="https://ae01.alicdn.com/kf/Hbb20fa711df74bc480e5f97a249ed77d7.jpg" alt></p>
<p>ç‚¹å‡»åˆ†äº«é“¾æ¥ï¼Œå°±å¯ä»¥çœ‹åˆ°ç”Ÿæˆå¤–é“¾æ’­æ”¾å™¨çš„é€‰é¡¹</p>
<p><img src="https://ae01.alicdn.com/kf/H47884c7176254ed8be7cfb2b1c11d7ddD.jpg" alt></p>
<h4 id="æ’å…¥æ’­æ”¾å™¨"><a href="#æ’å…¥æ’­æ”¾å™¨" class="headerlink" title="æ’å…¥æ’­æ”¾å™¨"></a>æ’å…¥æ’­æ”¾å™¨</h4><p>è·å–å¤–é“¾åï¼Œç›´æ¥åœ¨æ–‡ç« ä¸­å°†å…¶æ’å…¥å³å¯ã€‚æœ€å¥½åŠ ä¸Šã€‚</p>
<p><br><br><br></p>
<div align="center">
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="400" height="450" src="//music.163.com/outchain/player?type=0&id=648450046&auto=1&height=430"></iframe>
</div>
]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>Bilibili</tag>
      </tags>
  </entry>
  <entry>
    <title>succeed!</title>
    <url>/2018/12/10/succeed-1/</url>
    <content><![CDATA[<div class="note success"><p>success</p></div>]]></content>
      <categories>
        <category>hexo-test</category>
      </categories>
  </entry>
  <entry>
    <title>ã€OpenGLå­¦ä¹ ç¬”è®°ã€‘ä¸€ã€VBOï¼ŒVAOä¸EBO</title>
    <url>/2020/07/25/%E3%80%90OpenGL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E3%80%91%E4%B8%80%E3%80%81VBO%EF%BC%8CVAO%E4%B8%8EEBO/</url>
    <content><![CDATA[<p><img src="https://pic.downk.cc/item/5f1b8a4e14195aa594516bd0.png" alt><br><a id="more"></a></p>
<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>VBOã€VAOå’ŒEBOæ˜¯OpenGLä¸­ä¸‰ä¸ªå¾ˆåŸºç¡€çš„æ¦‚å¿µï¼Œä½†ä¸€å¼€å§‹æ—¶æ€»æ˜¯åˆ†ä¸æ¸…ä»–ä»¬çš„åŒºåˆ«ä¸è”ç³»ã€‚</p>
<h3 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h3><ul>
<li><p>VBOï¼šé¡¶ç‚¹ç¼“å†²å¯¹è±¡</p>
<ul>
<li><p>æ˜¯åœ¨æ˜¾å¡å­˜å‚¨ç©ºé—´ä¸­å¼€è¾Ÿçš„ä¸€å—å†…å­˜ç¼“å­˜åŒºï¼Œç”¨äºå­˜å‚¨é¡¶ç‚¹çš„å„ç±»å±æ€§ï¼ˆé¡¶ç‚¹åæ ‡ã€é¡¶ç‚¹æ³•å‘é‡ã€é¡¶ç‚¹é¢œè‰²ç­‰ï¼‰</p>
</li>
<li><p>æ¸²æŸ“æ—¶ï¼Œå¯ä»¥ç›´æ¥ä»VBOä¸­å–å‡ºé¡¶ç‚¹çš„å„ç±»å±æ€§æ•°æ®</p>
</li>
<li><p>æ¯ä¸ªVBOéƒ½æœ‰å…¶å”¯ä¸€æ ‡è¯†ID</p>
</li>
<li><p>ä½¿ç”¨glGenBufferså¼€è¾ŸVBOå¹¶åˆ†é…id</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> VBO;</span><br><span class="line">glGenBuffers(<span class="number">1</span>,&amp;VBO);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>é€šè¿‡glBindBufferå°†æŸç§ç±»å‹çš„é¡¶ç‚¹æ•°æ®ç»‘å®šåˆ°æŸä¸ªVBOä¸Šï¼ˆå¯ä»¥æš‚æ—¶ç†è§£ä¸ºå‘Šè¯‰è¯¥VBOå®ƒè¦å­˜å‚¨çš„æ•°æ®çš„ç±»å‹ï¼Œå½“ç„¶è¿™æ˜¯ä¸å‡†ç¡®çš„ï¼Œå› ä¸ºåŒä¸€ç±»å‹çš„é¡¶ç‚¹æ•°æ®ä¸€æ¬¡åªèƒ½ç»‘å®šä¸€ä¸ªVBOï¼‰ã€‚ç»‘å®šçš„ç±»å‹å¿…é¡»æ˜¯ä»¥ä¸‹å‡ ç§ä¸­çš„ä¸€ç§</p>
<ul>
<li>GL_ARRAY_BUFFER</li>
<li>GL_ELEMENT_ARRAY_BUFFER</li>
<li>GL_PIXEL_PACK_BUFFER</li>
<li>GL_PIXEL_UNPACK_BUFFER</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> VBO;</span><br><span class="line">glGenBuffers(<span class="number">1</span>,&amp;VBO);</span><br><span class="line">glBindBuffer(GL_ARRAY_BUFFER,VBO);</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡glBufferDataå°†æ•°æ®ä¼ é€åˆ°ç»‘å®šçš„VBOä¸­</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">glBufferData(GL_ARRAY_BUFFER,<span class="keyword">sizeof</span>(vertices),vertices,GL_STATIC_DRAW);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨glVertexAttribPointerå‘ŠçŸ¥OpenGLå¦‚ä½•å¤„ç†æŸä¸ªVBOä¸­çš„æ•°æ®</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">glVertexAttribPointer(<span class="number">0</span>,<span class="number">4</span>,GL_FLOAT,GL_FALSE,<span class="number">0</span>,(<span class="keyword">void</span>*)<span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šé¡¶ç‚¹å±æ€§ä½ç½®ï¼Œä¸é¡¶ç‚¹ç€è‰²å™¨ä¸­çš„layout(location=0)å¯¹åº”</li>
<li>ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šä¸€ä¸ªé¡¶ç‚¹å±æ€§ç»„çš„å¤§å°ï¼ˆæ•°æ®å…ƒç´ ä¸ªæ•°ï¼‰</li>
<li>ç¬¬ä¸‰ä¸ªå‚æ•°æŒ‡å®šé¡¶ç‚¹å±æ€§æ•°æ®ç±»å‹</li>
<li>ç¬¬å››ä¸ªå‚æ•°æŒ‡å®šæ•°æ®æ˜¯å¦è¦è¢«æ ‡å‡†åŒ–</li>
<li>ç¬¬äº”ä¸ªå‚æ•°æ˜¯æ­¥é•¿ï¼ŒæŒ‡å®šè¿ç»­é¡¶ç‚¹å±æ€§ç»„ä¹‹é—´çš„é—´éš”ã€‚æ¯”æ–¹è¯´ä¸‰ä¸ªGL_FLOATæ•°æ®è¡¨ç¤ºä¸€ä¸ªåæ ‡ç‚¹ï¼Œé‚£å°±æŠŠä»–ä»¬ä½œä¸ºä¸€ä¸ªå±æ€§ç»„ï¼Œæ­¥é•¿å°±æ˜¯3*sizeof(float)</li>
<li>ç¬¬å…­ä¸ªå‚æ•°æ˜¯æ•°æ®èµ·å§‹ä½ç½®è·ç¦»ç¼“å†²åŒºä¸­èµ·å§‹ä½ç½®çš„åç§»é‡</li>
</ul>
</li>
<li><p>ä½¿ç”¨glEnableVertexAttribArrayå¼€å¯glVertexAttribPointerã€‚ç”±äºglVertexAttribPointeré»˜è®¤æ˜¯å…³é—­çš„ï¼Œæ‰€ä»¥ä½¿ç”¨æ—¶è¦ç”¨é¡¶ç‚¹å±æ€§ä½ç½®çš„å€¼ä¸ºå‚æ•°ï¼Œé€šè¿‡glEnableVertexAttribArrayæ¥å¼€å¯è¿™ä¸€åŠŸèƒ½</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">glEnableVertexAttribArray(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>VAOï¼šé¡¶ç‚¹æ•°ç»„å¯¹è±¡</p>
<ul>
<li><p>ä¿å­˜äº†å¾ˆå¤šVBOçš„å¼•ç”¨ï¼Œç›¸å½“äºæŠŠå¾ˆå¤šVBOç»Ÿä¸€åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­è¿›è¡Œç®¡ç†</p>
</li>
<li><p>ä½¿ç”¨glGenVertexArrayså¾—åˆ°ä¸€ä¸ªVAOï¼Œå¹¶åˆ†é…id</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">glGenVertexArrays(<span class="number">1</span>,&amp;VAO);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨glBindVertexArrayç»‘å®šVAOã€‚ç»‘å®šåï¼Œåé¢æ‰€æœ‰VBOçš„å¼•ç”¨éƒ½ä¼šè¢«ä¿å­˜åœ¨è¿™ä¸€ä¸ªVAOä¸­ã€‚</p>
</li>
<li><p>VAOçš„å­˜åœ¨æ„ä¹‰æ˜¯å‡å°‘ç»‘å®šçš„å·¥ä½œé‡ã€‚å› ä¸ºæ¯æ¬¡ç»˜åˆ¶æŸäº›ä¹‹å‰éƒ½éœ€è¦ç»‘å®šé¡¶ç‚¹çš„æ‰€æœ‰ä¿¡æ¯åˆ°å¯¹åº”çš„VBOä¸­ã€‚è¿™æ ·åšæœªå…æœ‰ç‚¹å¤ªéº»çƒ¦ï¼Œå°¤å…¶æ˜¯æ•°æ®é‡å¾ˆå¤§çš„æƒ…å†µä¸‹ã€‚ä½¿ç”¨VAOï¼Œå¯ä»¥æŠŠæ‰€æœ‰é¡¶ç‚¹ä¿¡æ¯éƒ½ç»‘å®šåˆ°VBOåï¼Œå†é€šè¿‡VAOæŠŠæ‰€æœ‰é¡¶ç‚¹ä¿¡æ¯ç»‘å®šåˆ°ä¸€ä¸ªå¯¹è±¡ä¸Š(VAO)ï¼Œåé¢åªéœ€è¦ç»‘å®šVAOè¿™ä¸€ä¸ªå¯¹è±¡å³å¯ã€‚</p>
</li>
</ul>
</li>
<li><p>EBOï¼šç´¢å¼•ç¼“å­˜å¯¹è±¡</p>
<ul>
<li>å­˜å‚¨é¡¶ç‚¹çš„ç´¢å¼•ï¼Œé¿å…å› ä¸ºæŸäº›ç‚¹é‡å¤å­˜å‚¨å¯¼è‡´çš„ç©ºé—´æµªè´¹</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>OpenGLå­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºå›¾å½¢å­¦</tag>
        <tag>OpenGL</tag>
        <tag>OpenGLå­¦ä¹ ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€C++å­¦ä¹ ç¬”è®°ã€‘å…³äºç»§æ‰¿ï¼ŒåŸºç±»ä¸æ´¾ç”Ÿç±»</title>
    <url>/2019/03/11/%E3%80%90C-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E3%80%91%E5%85%B3%E4%BA%8E%E5%9F%BA%E7%B1%BB%E4%B8%8E%E6%B4%BE%E7%94%9F%E7%B1%BB/</url>
    <content><![CDATA[<h4 id="ä¸€ã€æ¦‚å¿µ"><a href="#ä¸€ã€æ¦‚å¿µ" class="headerlink" title="ä¸€ã€æ¦‚å¿µ"></a>ä¸€ã€æ¦‚å¿µ</h4><p>&emsp;&emsp;ç»§æ‰¿ï¼šç»§æ‰¿æ˜¯C++ä¸­çš„ä¸€ç§æœºåˆ¶ï¼Œé€šè¿‡è¿™ç§æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºå·²æœ‰çš„æ—§çš„æ•°æ®ç±»å‹åˆ›å»ºå‡ºæ–°çš„æ•°æ®ç±»å‹ã€‚åœ¨C++ä¸­ï¼Œç»§æ‰¿åˆ†ä¸‰ç§:å…¬æœ‰ç»§æ‰¿(public)ï¼Œç§æœ‰ç»§æ‰¿(private)ï¼Œä¿æŠ¤ç»§æ‰¿(protected)ã€‚ä¸åŒçš„ç»§æ‰¿ç±»å‹åœ¨åœ¨è®¿é—®æƒé™ä¸Šä¼šæœ‰åŒºåˆ«ã€‚</p>
<p>&emsp;&emsp;åŸºç±»ï¼šå³è¢«ç»§æ‰¿çš„ç±»ã€‚</p>
<p>&emsp;&emsp;æ´¾ç”Ÿç±»ï¼šå³ç”±ä¸€ä¸ªå·²æœ‰çš„ç±»æ´¾ç”Ÿè¿‡æ¥çš„æ–°çš„ç±»ã€‚</p>
<h4 id="äºŒã€ç»§æ‰¿"><a href="#äºŒã€ç»§æ‰¿" class="headerlink" title="äºŒã€ç»§æ‰¿"></a>äºŒã€ç»§æ‰¿</h4><h5 id="1-å…¬æœ‰ç»§æ‰¿-public"><a href="#1-å…¬æœ‰ç»§æ‰¿-public" class="headerlink" title="1)å…¬æœ‰ç»§æ‰¿(public)"></a>1)å…¬æœ‰ç»§æ‰¿(public)</h5><p>&emsp;&emsp;å…¬æœ‰ç»§æ‰¿æŒ‡çš„æ˜¯åŸºç±»çš„å…¬æœ‰æˆå‘˜å’Œä¿æŠ¤æˆå‘˜ä¿æŒä¸å˜ï¼Œä½†æ´¾ç”Ÿç±»æ— æ³•ç›´æ¥è®¿é—®ç§æœ‰æˆå‘˜ï¼Œéœ€è¦é€šè¿‡åŸºç±»çš„å…¬æœ‰æˆå‘˜å‡½æ•°æˆ–å‹å…ƒå‡½æ•°è®¿é—®ã€‚</p>
<h5 id="2-ç§æœ‰ç»§æ‰¿-private"><a href="#2-ç§æœ‰ç»§æ‰¿-private" class="headerlink" title="2)ç§æœ‰ç»§æ‰¿(private)"></a>2)ç§æœ‰ç»§æ‰¿(private)</h5><p>&emsp;&emsp;ç§æœ‰ç»§æ‰¿æŒ‡çš„æ˜¯ï¼Œåœ¨æ´¾ç”Ÿç±»ä¸­ï¼ŒåŸºç±»çš„å…¬æœ‰æˆå‘˜å’Œä¿æŠ¤æˆå‘˜éƒ½æˆä¸ºäº†æ´¾ç”Ÿç±»çš„ç§æœ‰æˆå‘˜ï¼Œä¸”è¿™ä¸ªæ´¾ç”Ÿç±»çš„æ´¾ç”Ÿç±»(å­ç±»)æ— æ³•è®¿é—®ã€‚</p>
<h5 id="3-ä¿æŠ¤ç»§æ‰¿-protected"><a href="#3-ä¿æŠ¤ç»§æ‰¿-protected" class="headerlink" title="3)ä¿æŠ¤ç»§æ‰¿(protected)"></a>3)ä¿æŠ¤ç»§æ‰¿(protected)</h5><p>&emsp;&emsp;ä¿æŠ¤ç»§æ‰¿æ˜¯æŒ‡åŸºç±»çš„å…¬æœ‰æˆå‘˜å’Œä¿æŠ¤æˆå‘˜éƒ½æˆä¸ºäº†æ´¾ç”Ÿç±»çš„ä¿æŠ¤æˆå‘˜ï¼Œå¹¶ä¸”åªèƒ½è¢«å®ƒçš„æ´¾ç”Ÿç±»æˆå‘˜å‡½æ•°æˆ–å‹å…ƒè®¿é—®ï¼ŒåŸºç±»çš„ç§æœ‰æˆå‘˜ä»ç„¶æ˜¯ç§æœ‰çš„ã€‚</p>
<h5 id="4-ç”¨è¡¨æ ¼æ±‡æ€»ä¸€ä¸‹å°±æ˜¯â€¦â€¦"><a href="#4-ç”¨è¡¨æ ¼æ±‡æ€»ä¸€ä¸‹å°±æ˜¯â€¦â€¦" class="headerlink" title="4)ç”¨è¡¨æ ¼æ±‡æ€»ä¸€ä¸‹å°±æ˜¯â€¦â€¦"></a>4)ç”¨è¡¨æ ¼æ±‡æ€»ä¸€ä¸‹å°±æ˜¯â€¦â€¦</h5><p><img src="https://ae01.alicdn.com/kf/HTB1Ap.ESwHqK1RjSZFgq6y7JXXaP.jpg" alt></p>
<p>(å›¾ç‰‡æ¥è‡ªâ†’<a href="https://www.cnblogs.com/ktao/p/8579115.html" rel="external nofollow noopener noreferrer" target="_blank">C++ ä¸­ç§æœ‰ç»§æ‰¿ã€ä¿æŠ¤ç»§æ‰¿ä¸å…¬æœ‰ç»§æ‰¿</a>)</p>
<h5 id="ä¸‰ã€ä»£ç "><a href="#ä¸‰ã€ä»£ç " class="headerlink" title="ä¸‰ã€ä»£ç "></a>ä¸‰ã€ä»£ç </h5><p>(ä¸€æ®µç»§æ‰¿çš„å…¥é—¨è¾£é¸¡ä»£ç OTZ)<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//2019.3.11</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e3</span>+<span class="number">5</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Point()&#123;&#125;;</span><br><span class="line">        Point(<span class="keyword">double</span> xx,<span class="keyword">double</span> yy);</span><br><span class="line">        ~Point()&#123;&#125;;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;x&lt;&lt;<span class="string">" "</span>&lt;&lt;y&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">get_x</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">get_y</span><span class="params">()</span></span>; </span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> x;</span><br><span class="line">        <span class="keyword">double</span> y;</span><br><span class="line">        <span class="keyword">double</span> len;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Point::get_x</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Point::get_y</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> y;</span><br><span class="line">&#125;</span><br><span class="line">Point::Point(<span class="keyword">double</span> xx,<span class="keyword">double</span> yy)</span><br><span class="line">&#123;</span><br><span class="line">    x=xx;y=yy;</span><br><span class="line">    len=<span class="built_in">sqrt</span>(x*x+y*y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GoodPoint</span>:</span><span class="keyword">public</span> Point&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        GoodPoint()&#123;&#125;;</span><br><span class="line">        GoodPoint(<span class="keyword">double</span> xx,<span class="keyword">double</span> yy);</span><br><span class="line">        ~GoodPoint()&#123;&#125;;</span><br><span class="line">        <span class="function"><span class="keyword">bool</span> <span class="title">isGoodPoint</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">set_point</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">set_point</span><span class="params">(<span class="keyword">bool</span> todo)</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">bool</span> flag;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">GoodPoint::isGoodPoint</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="keyword">double</span> x_get=<span class="keyword">this</span>-&gt;get_x();</span><br><span class="line">    <span class="keyword">double</span> y_get=<span class="keyword">this</span>-&gt;get_y();</span><br><span class="line">    <span class="keyword">if</span>((x_get==<span class="number">0</span>&amp;&amp;y_get==<span class="number">0</span>)||flag)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">GoodPoint::set_point</span><span class="params">(<span class="keyword">bool</span> todo)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    flag=todo;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    GoodPoint gp;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,gp.isGoodPoint());</span><br><span class="line">    gp.set_point(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,gp.isGoodPoint());</span><br><span class="line">    <span class="function">Point <span class="title">poi</span><span class="params">(<span class="number">1</span>,<span class="number">23.2</span>)</span></span>;</span><br><span class="line">    poi.show();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>&emsp;&emsp;æœªå®Œå¾…ç»­â€¦â€¦</p>
]]></content>
      <categories>
        <category>C++</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>ç»§æ‰¿</tag>
        <tag>å­¦ä¹ ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€C++å­¦ä¹ ç¬”è®°ã€‘è™šå‡½æ•°(è™šæ–¹æ³•)</title>
    <url>/2019/03/17/%E3%80%90C-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E3%80%91%E8%99%9A%E5%87%BD%E6%95%B0-%E8%99%9A%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><ul>
<li>å¯¹äºä¸€ä¸ªæ´¾ç”Ÿç±»ä»¥åŠä»–çš„åŸºç±»ï¼Œè‹¥ä¸¤è€…éƒ½æœ‰ä¸€ä¸ªç›¸åŒåå­—çš„æ–¹æ³•ï¼Œä½†è¿™ä¸¤ä¸ªæ–¹æ³•çš„å®é™…è¡Œä¸ºå¹¶ä¸ç›¸åŒï¼Œé‚£åº”å°†è¿™ä¸ªæ–¹æ³•å£°æ˜ä¸ºè™šæ–¹æ³•(virtual)ã€‚åŸå› åœ¨äºï¼Œå¦‚æœæ–¹æ³•æ˜¯é€šè¿‡å¼•ç”¨æˆ–æŒ‡é’ˆè°ƒç”¨çš„ï¼Œåœ¨ä¸å£°æ˜ä½è™šæ–¹æ³•çš„æƒ…å†µä¸‹ï¼Œç¨‹åºå°†æ ¹æ®å¼•ç”¨ç±»å‹æˆ–æŒ‡é’ˆç±»å‹ç¡®å®šä½¿ç”¨çš„æ˜¯å…·ä½“å“ªä¸ªæ–¹æ³•ã€‚è€Œå£°æ˜ä¸ºè™šæ–¹æ³•ï¼Œç¨‹åºå°†æ ¹æ®å¼•ç”¨æˆ–æŒ‡é’ˆå…·ä½“æ‰€æŒ‡å‘çš„å¯¹è±¡çš„ç±»å‹æ¥è°ƒç”¨æ–¹æ³•</li>
<li>e.g.</li>
</ul>
<p>&emsp;&emsp;ä½¿ç”¨å¼•ç”¨æ¥è°ƒç”¨æ–¹æ³•</p>
<p>&emsp;&emsp;é¦–å…ˆæ˜¯ä¸ä½¿ç”¨è™šå‡½æ•°çš„æƒ…å†µ</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Human</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">show_hei</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">show_wei</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">set_hei</span><span class="params">(<span class="keyword">double</span> thei)</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">set_wei</span><span class="params">(<span class="keyword">double</span> twei)</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">say</span><span class="params">()</span></span>;</span><br><span class="line">        Human(<span class="keyword">int</span> hei,<span class="keyword">int</span> wei):hei(hei),wei(wei)&#123;&#125;</span><br><span class="line">        <span class="keyword">virtual</span> ~Human()&#123;&#125;;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">int</span> hei;</span><br><span class="line">        <span class="keyword">int</span> wei;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Human::show_hei</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"hei="</span>&lt;&lt;hei&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> hei;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Human::show_wei</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"wei"</span>&lt;&lt;wei&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> wei;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Human::set_hei</span><span class="params">(<span class="keyword">double</span> thei)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    hei=thei;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Human::set_wei</span><span class="params">(<span class="keyword">double</span> twei)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    wei=twei;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Human::say</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"I am a Human object"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teen</span>:</span><span class="keyword">public</span> Human&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Teen(<span class="keyword">int</span> hei,<span class="keyword">int</span> wei,<span class="keyword">bool</span> good):Human(hei,wei),isgood(good)&#123;&#125;;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">say</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">bool</span> isgood;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Teen::say</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"I am a Teen object"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Teen <span class="title">teen</span><span class="params">(<span class="number">12.33</span>,<span class="number">123.5</span>,<span class="literal">true</span>)</span></span>;</span><br><span class="line">    <span class="function">Human <span class="title">human</span><span class="params">(<span class="number">23.12</span>,<span class="number">234.3</span>)</span></span>;</span><br><span class="line">    Human&amp; teen_r=teen;</span><br><span class="line">    Human&amp; human_r=human;</span><br><span class="line">    teen_r.say();</span><br><span class="line">    human_r.say();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;ç»“æœå¦‚ä¸‹ï¼š</p>
<center>

  ![](https://ae01.alicdn.com/kf/HTB1tNIFSpzqK1RjSZFoq6zfcXXaB.jpg)

</center>


<p>&emsp;&emsp;ç„¶åæ˜¯ä½¿ç”¨äº†è™šå‡½æ•°çš„æƒ…å†µ:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Human</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">show_hei</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">show_wei</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">set_hei</span><span class="params">(<span class="keyword">double</span> thei)</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">set_wei</span><span class="params">(<span class="keyword">double</span> twei)</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">say</span><span class="params">()</span></span>;</span><br><span class="line">        Human(<span class="keyword">int</span> hei,<span class="keyword">int</span> wei):hei(hei),wei(wei)&#123;&#125;</span><br><span class="line">        <span class="keyword">virtual</span> ~Human()&#123;&#125;;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">int</span> hei;</span><br><span class="line">        <span class="keyword">int</span> wei;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Human::show_hei</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"hei="</span>&lt;&lt;hei&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> hei;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Human::show_wei</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"wei"</span>&lt;&lt;wei&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> wei;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Human::set_hei</span><span class="params">(<span class="keyword">double</span> thei)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    hei=thei;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Human::set_wei</span><span class="params">(<span class="keyword">double</span> twei)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    wei=twei;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Human::say</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"I am a Human object"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teen</span>:</span><span class="keyword">public</span> Human&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Teen(<span class="keyword">int</span> hei,<span class="keyword">int</span> wei,<span class="keyword">bool</span> good):Human(hei,wei),isgood(good)&#123;&#125;;        <span class="comment">//æ´¾ç”Ÿç±»æ„é€ å‡½æ•°åœ¨åˆå§‹åŒ–åŸºç±»ç§æœ‰å‡½æ•°æ—¶ï¼Œé€šè¿‡åˆå§‹åŒ–åˆ—è¡¨çš„è¯­æ³•ä½¿ç”¨åŸºç±»æ„é€ å‡½æ•°</span></span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">say</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">bool</span> isgood;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Teen::say</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"I am a Teen object"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Teen <span class="title">teen</span><span class="params">(<span class="number">12.33</span>,<span class="number">123.5</span>,<span class="literal">true</span>)</span></span>;</span><br><span class="line">    <span class="function">Human <span class="title">human</span><span class="params">(<span class="number">23.12</span>,<span class="number">234.3</span>)</span></span>;</span><br><span class="line">    Human&amp; teen_r=teen;</span><br><span class="line">    Human&amp; human_r=human;</span><br><span class="line">    teen_r.say();</span><br><span class="line">    human_r.say();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;ç»“æœå¦‚ä¸‹ï¼š</p>
<center>

  ![](https://ae01.alicdn.com/kf/HTB1WbFCfK3tHKVjSZSgq6x4QFXaG.jpg)

</center> 

<ul>
<li>å¦å¤–ï¼Œåœ¨ä¸€ä¸ªå…·æœ‰æ´¾ç”Ÿç±»çš„åŸºç±»ä¸­ï¼Œæƒ¯ä¾‹æ˜¯å°†ææ„å‡½æ•°å£°æ˜ä¸ºè™šå‡½æ•°ï¼Œè¿™å¯ä»¥ä¿è¯é‡Šæ”¾æ´¾ç”Ÿç±»å¯¹è±¡æ—¶æŒ‰ç…§æ­£ç¡®çš„é¡ºåºé‡Šæ”¾ã€‚</li>
</ul>
<h3 id="ä¸æ´¾ç”Ÿç±»æœ‰å…³çš„çš„æŒ‡é’ˆå’Œå¼•ç”¨ç±»å‹çš„å…¼å®¹æ€§"><a href="#ä¸æ´¾ç”Ÿç±»æœ‰å…³çš„çš„æŒ‡é’ˆå’Œå¼•ç”¨ç±»å‹çš„å…¼å®¹æ€§" class="headerlink" title="ä¸æ´¾ç”Ÿç±»æœ‰å…³çš„çš„æŒ‡é’ˆå’Œå¼•ç”¨ç±»å‹çš„å…¼å®¹æ€§"></a>ä¸æ´¾ç”Ÿç±»æœ‰å…³çš„çš„æŒ‡é’ˆå’Œå¼•ç”¨ç±»å‹çš„å…¼å®¹æ€§</h3><ul>
<li>ä¸€ä¸ªåŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨å¯ä»¥å¼•ç”¨æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œè€Œä¸å¿…è¿›è¡Œæ˜¾å¼ç±»å‹è½¬æ¢ã€‚å…¶å†…éƒ¨é€»è¾‘æ˜¯ï¼Œå…¬æœ‰ç»§æ‰¿å»ºç«‹çš„æ˜¯is-aå…³ç³»ï¼Œå³æ´¾ç”Ÿç±»ä¹Ÿæ˜¯åŸºç±»ï¼Œæ´¾ç”Ÿç±»åªä¸è¿‡æ˜¯åŸºç±»çš„ä¸€ä¸ªç‰¹ä¾‹è€Œå·²(æ¯”å¦‚è¯´ï¼ŒåŸºç±»â€äººâ€å’Œæ´¾ç”Ÿç±»â€ä¸­å›½äººâ€ï¼Œä¸­å›½äººä¹Ÿæ˜¯äººï¼Œæ‰€ä»¥ä¸€ä¸ªæŒ‡å‘â€äººâ€çš„æŒ‡é’ˆæˆ–å¼•ç”¨ä¹Ÿå¯ä»¥æŒ‡å‘â€ä¸­å›½äººâ€å¯¹è±¡)ã€‚</li>
</ul>
<h3 id="é™æ€è”ç¼–ä¸åŠ¨æ€è”ç¼–"><a href="#é™æ€è”ç¼–ä¸åŠ¨æ€è”ç¼–" class="headerlink" title="é™æ€è”ç¼–ä¸åŠ¨æ€è”ç¼–"></a>é™æ€è”ç¼–ä¸åŠ¨æ€è”ç¼–</h3><ul>
<li>è”ç¼–ï¼šé€šå¸¸æ¥è¯´è”ç¼–å°±æ˜¯å°†æ¨¡å—æˆ–è€…å‡½æ•°åˆå¹¶åœ¨ä¸€èµ·ç”Ÿæˆå¯æ‰§è¡Œä»£ç çš„å¤„ç†è¿‡ç¨‹ï¼ŒåŒæ—¶å¯¹æ¯ä¸ªæ¨¡å—æˆ–è€…å‡½æ•°è°ƒç”¨åˆ†é…å†…å­˜åœ°å€ï¼Œå¹¶ä¸”å¯¹å¤–éƒ¨è®¿é—®ä¹Ÿåˆ†é…æ­£ç¡®çš„å†…å­˜åœ°å€ï¼Œå®ƒæ˜¯è®¡ç®—æœºç¨‹åºå½¼æ­¤å…³è”çš„è¿‡ç¨‹ã€‚</li>
<li>é™æ€è”ç¼–ï¼šé™æ€è”ç¼–æ˜¯æŒ‡åœ¨ç¼–è¯‘é˜¶æ®µå°±å°†å‡½æ•°å®ç°å’Œå‡½æ•°è°ƒç”¨å…³è”èµ·æ¥ï¼Œå› æ­¤é™æ€è”ç¼–ä¹Ÿå«æ—©ç»‘å®šï¼Œåœ¨ç¼–è¯‘é˜¶æ®µå°±å¿…é¡»äº†è§£æ‰€æœ‰çš„å‡½æ•°æˆ–æ¨¡å—æ‰§è¡Œæ‰€éœ€è¦æ£€æµ‹çš„ä¿¡æ¯</li>
<li><p>åŠ¨æ€è”ç¼–ï¼šåŠ¨æ€è”ç¼–æ˜¯æŒ‡åœ¨ç¨‹åºæ‰§è¡Œçš„æ—¶å€™æ‰å°†å‡½æ•°å®ç°å’Œå‡½æ•°è°ƒç”¨å…³è”ï¼Œå› æ­¤ä¹Ÿå«è¿è¡Œæ—¶ç»‘å®šæˆ–è€…æ™šç»‘å®šã€‚</p>
</li>
<li><p>Cä¸­çš„è”ç¼–éƒ½æ˜¯é™æ€è”ç¼–</p>
</li>
<li>C++ä¸­çš„è”ç¼–ä¸€èˆ¬æ˜¯é™æ€è”ç¼–ï¼Œåœ¨æ¶‰åŠæ¨¡æ¿ã€è™šå‡½æ•°æ—¶åˆ™æ˜¯åŠ¨æ€è”ç¼–</li>
</ul>
<h4 id="åŠ¨æ€è”ç¼–ã€é™æ€è”ç¼–ä¸ç»§æ‰¿æœ‰ä½•å…³ç³»ï¼Ÿ"><a href="#åŠ¨æ€è”ç¼–ã€é™æ€è”ç¼–ä¸ç»§æ‰¿æœ‰ä½•å…³ç³»ï¼Ÿ" class="headerlink" title="åŠ¨æ€è”ç¼–ã€é™æ€è”ç¼–ä¸ç»§æ‰¿æœ‰ä½•å…³ç³»ï¼Ÿ"></a>åŠ¨æ€è”ç¼–ã€é™æ€è”ç¼–ä¸ç»§æ‰¿æœ‰ä½•å…³ç³»ï¼Ÿ</h4><ul>
<li>è¿™ä¸»è¦ä¸ä¸Šé¢è¯´åˆ°çš„è™šå‡½æ•°(è™šæ–¹æ³•)æœ‰å…³ã€‚è™šå‡½æ•°ä½¿å¾—åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å¹¶ä¸çŸ¥é“å“ªä¸€ä¸ªå‡½æ•°ä¼šè¢«è°ƒç”¨ï¼Œè¿™å°±è¦æ±‚åœ¨ç¨‹åºæ‰§è¡Œæ—¶æ‰å°†å‡½æ•°å®ç°å’Œå‡½æ•°è°ƒç”¨å…³è”ï¼Œå³åŠ¨æ€è”ç¼–ã€‚</li>
</ul>
<h4 id="ä¸€äº›å…³äºåŠ¨æ€è”ç¼–çš„é—®é¢˜"><a href="#ä¸€äº›å…³äºåŠ¨æ€è”ç¼–çš„é—®é¢˜" class="headerlink" title="ä¸€äº›å…³äºåŠ¨æ€è”ç¼–çš„é—®é¢˜"></a>ä¸€äº›å…³äºåŠ¨æ€è”ç¼–çš„é—®é¢˜</h4><ul>
<li><p>Qï¼šé™æ€è”ç¼–èƒ½è§£å†³çš„é—®é¢˜ï¼ŒåŠ¨æ€è”ç¼–ä¹Ÿèƒ½è§£å†³ï¼Œä¸ºä»€ä¹ˆä¸æ‘’å¼ƒé™æ€è”ç¼–æˆ–å°†åŠ¨æ€è”ç¼–è®¾ä¸ºé»˜è®¤ï¼Ÿ</p>
<p>Aï¼šåŠ¨æ€è”ç¼–è™½å¥½ï¼Œä½†å®ƒéœ€è¦åœ¨ç¨‹åºè¿è¡Œæ—¶é‡‡å–ä¸€äº›æ–¹æ³•è·Ÿè¸ªåŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ç±»å‹ï¼Œè¿™å¯¼è‡´äº†é¢å¤–çš„å¤„ç†å¼€é”€ã€‚</p>
</li>
<li><p>Qï¼šåŠ¨æ€è”ç¼–æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ</p>
<p>Aï¼šåœ¨C++ä¸­ï¼ŒåŠ¨æ€è”ç¼–çš„ä½“ç°å°±æ˜¯è™šå‡½æ•°ã€‚æ•…è¿™ä¸ªé—®é¢˜å¯ä»¥çœ‹ä½œæ˜¯:â€è™šå‡½æ•°æ˜¯æ€ä¹ˆå®ç°çš„â€ã€‚é€šå¸¸ï¼Œç¼–è¯‘å™¨æ˜¯è¿™ä¹ˆå¤„ç†è™šå‡½æ•°çš„ï¼šå¯¹äºä¸€ä¸ªå…·æœ‰è™šå‡½æ•°çš„å¯¹è±¡ï¼Œä¸ºå…¶æ·»åŠ ä¸€ä¸ªéšè—æˆå‘˜ã€‚<br>è¯¥æˆå‘˜æ˜¯ä¸€ä¸ªæŒ‡é’ˆå˜é‡ï¼ŒæŒ‡å‘ä¸€ä¸ªå‡½æ•°åœ°å€æ•°ç»„ã€‚æ•°ç»„ä¸­çš„å†…å®¹æ˜¯ä¸ºç±»å¯¹è±¡å£°æ˜çš„è™šå‡½æ•°çš„åœ°å€ã€‚è¿™ä¸ªæ•°ç»„è¢«ç§°ä¸ºè™šå‡½æ•°è¡¨(vtbl)ã€‚ä¸€ä¸ªåŸºç±»å¯¹è±¡ä¸­çš„è¯¥æŒ‡é’ˆæŒ‡å‘åŸºç±»ä¸­çš„æ‰€æœ‰è™šå‡½æ•°çš„åœ°å€è¡¨ã€‚<br>è€Œä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡çš„è¯¥æŒ‡é’ˆåˆ™æŒ‡å‘å¦ä¸€ä¸ªç‹¬ç«‹çš„è™šå‡½æ•°è¡¨ã€‚å¯¹äºä¸€ä¸ªåœ¨åŸºç±»ä¸æ´¾ç”Ÿç±»ä¸­éƒ½å­˜åœ¨çš„è™šå‡½æ•°(æŒ‡åŒå)ï¼Œè‹¥æ´¾ç”Ÿç±»ä¸­è¯¥å‡½æ•°æ²¡æœ‰è¢«é‡æ–°å®šä¹‰ï¼Œåˆ™æ´¾ç”Ÿç±»è™šå‡½æ•°è¡¨ä¸­ï¼Œè¯¥å‡½æ•°çš„åœ°å€<br>ä¸åŸºç±»ä¸­è¯¥å‡½æ•°çš„åœ°å€ç›¸åŒã€‚è‹¥é‡æ–°å®šä¹‰äº†ï¼Œåˆ™æ´¾ç”Ÿç±»çš„è™šå‡½æ•°è¡¨å°†ä¿å­˜è¯¥å‡½æ•°çš„æ–°åœ°å€ã€‚å¦å¤–ï¼Œå¦‚æœåœ¨æ´¾ç”Ÿç±»ä¸­ç”Ÿå‘½äº†ä¸€ä¸ªåŸºç±»ä¸­æ²¡æœ‰çš„è™šå‡½æ•°ï¼Œå…¶åœ°å€ä¹Ÿä¼šè¢«åŠ å…¥æ´¾ç”Ÿç±»çš„è™šå‡½æ•°è¡¨ä¸­ã€‚<br>&lt;/br&gt;&lt;/br&gt;<br>è´´ä¸€å¼ C++ Primer Plusä¸Šçš„å›¾<br>&lt;/br&gt;&lt;/br&gt;</p>
<center>


</center></li>
</ul>
<p>  <img src="https://ae01.alicdn.com/kf/HTB18EkCSxTpK1RjSZFKq6y2wXXav.jpg" alt></p>
<p>&lt;/center&gt;</p>
<p>  &lt;/br&gt;</p>
<p>  åœ¨è°ƒç”¨è™šå‡½æ•°çš„æ—¶å€™ï¼Œç¨‹åºé¦–å…ˆæŸ¥çœ‹å¼•ç”¨æˆ–æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡çš„è™šå‡½æ•°è¡¨çš„åœ°å€ï¼Œç„¶åå†è®¿é—®ç›¸åº”çš„è™šå‡½æ•°è¡¨ï¼Œå†æ ¹æ®å®é™…è°ƒç”¨çš„å‡½æ•°ï¼Œè®¿é—®è™šå‡½æ•°è¡¨ä¸­ç›¸åº”çš„å‡½æ•°çš„åœ°å€ã€‚</p>
<p>  æ­£æ˜¯å› ä¸ºè¿™ç§å®ç°æœºåˆ¶ï¼Œè™šå‡½æ•°ä¼šå¸¦æ¥æ›´å¤§çš„ç©ºé—´ä¸æ—¶é—´æ¶ˆè€—ï¼Œå› ä¸º:&lt;/br&gt;&lt;/br&gt;<br>  1.å¯¹äºæ¯ä¸€ä¸ªå…·æœ‰è™šå‡½æ•°çš„å¯¹è±¡ï¼Œéƒ½è¦å¢åŠ ä¸€ä¸ªæŒ‡é’ˆå˜é‡&lt;/br&gt;<br>  2.å¯¹äºæ¯ä¸€ä¸ªå…·æœ‰è™šå‡½æ•°çš„ç±»ï¼Œéƒ½è¦ç”Ÿæˆä¸€ä¸ªè™šå‡½æ•°è¡¨&lt;/br&gt;<br>  3.æ‰§è¡Œè¿‡ç¨‹ä¸­è¿˜è¦è¿›è¡Œåˆ°è™šå‡½æ•°è¡¨ä¸­æŸ¥æ‰¾è™šå‡½æ•°åœ°å€çš„æ“ä½œ&lt;/br&gt;</p>
<h4 id="æœ‰å…³è™šå‡½æ•°çš„æ³¨æ„äº‹é¡¹"><a href="#æœ‰å…³è™šå‡½æ•°çš„æ³¨æ„äº‹é¡¹" class="headerlink" title="æœ‰å…³è™šå‡½æ•°çš„æ³¨æ„äº‹é¡¹"></a>æœ‰å…³è™šå‡½æ•°çš„æ³¨æ„äº‹é¡¹</h4><ul>
<li>æ„é€ å‡½æ•°ä¸å¯ä»¥æ˜¯è™šå‡½æ•°</li>
<li>ææ„å‡½æ•°æœ€å¥½æ˜¯è™šå‡½æ•°ï¼Œé™¤éè¯¥ç±»æ²¡æœ‰æ´¾ç”Ÿç±»</li>
<li>å‹å…ƒå‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•°ï¼Œå› ä¸ºå‹å…ƒä¸æ˜¯æˆå‘˜å‡½æ•°ï¼Œè€Œåªæœ‰æˆå‘˜å‡½æ•°æ‰èƒ½æˆä¸ºè™šå‡½æ•°</li>
<li>åœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰è™šå‡½æ•°æ—¶ï¼Œåº”ä¿æŒå‡½æ•°åŸå‹ä¸åŸºç±»ä¸­çš„ç›¸åŒ(è‡³å°‘å‚æ•°åˆ—è¡¨è¦ç›¸åŒ)&lt;/br&gt;<br>è¿™æ˜¯å› ä¸º,åœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰è™šå‡½æ•°æ—¶ï¼Œå¹¶ä¸ä¼šç”Ÿæˆè¯¥å‡½æ•°çš„ä¸¤ä¸ªé‡è½½ç‰ˆæœ¬ï¼Œè€Œæ˜¯åœ¨æ´¾ç”Ÿç±»ä¸­éšè—æ‰åŸºç±»ä¸­æ‰€æœ‰åŒåçš„è™šå‡½æ•°ã€‚<br>ä»¥ä¸‹ä»£ç æ˜¯ä¸€ä¸ªé”™è¯¯ç¤ºèŒƒã€‚</li>
</ul>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Human</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">show_hei</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">show_wei</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">set_hei</span><span class="params">(<span class="keyword">double</span> thei)</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">set_wei</span><span class="params">(<span class="keyword">double</span> twei)</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">say</span><span class="params">()</span></span>;</span><br><span class="line">        Human(<span class="keyword">int</span> hei,<span class="keyword">int</span> wei):hei(hei),wei(wei)&#123;&#125;</span><br><span class="line">        <span class="keyword">virtual</span> ~Human()&#123;&#125;;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">int</span> hei;</span><br><span class="line">        <span class="keyword">int</span> wei;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Human::show_hei</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"hei="</span>&lt;&lt;hei&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> hei;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Human::show_wei</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"wei"</span>&lt;&lt;wei&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> wei;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Human::set_hei</span><span class="params">(<span class="keyword">double</span> thei)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    hei=thei;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Human::set_wei</span><span class="params">(<span class="keyword">double</span> twei)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    wei=twei;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Human::say</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"I am a Human object"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teen</span>:</span><span class="keyword">public</span> Human&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Teen(<span class="keyword">int</span> hei,<span class="keyword">int</span> wei,<span class="keyword">bool</span> good):Human(hei,wei),isgood(good)&#123;&#125;;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">say</span><span class="params">(<span class="keyword">int</span> a)</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">bool</span> isgood;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Teen::say</span><span class="params">(<span class="keyword">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"I am a Teen object"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"I am "</span>&lt;&lt;a&lt;&lt;<span class="string">" year(s) old."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Teen <span class="title">teen</span><span class="params">(<span class="number">12.33</span>,<span class="number">123.5</span>,<span class="literal">true</span>)</span></span>;</span><br><span class="line">    <span class="function">Human <span class="title">human</span><span class="params">(<span class="number">23.12</span>,<span class="number">234.3</span>)</span></span>;</span><br><span class="line">    teen.say();        <span class="comment">//è¿™é‡Œä¼šæŠ¥é”™ï¼Œå› ä¸ºåŸºç±»çš„say()åœ¨æ´¾ç”Ÿç±»ä¸­è¢«éšè—äº†</span></span><br><span class="line">    teen.say(<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="çº¯è™šå‡½æ•°ä¸æŠ½è±¡åŸºç±»"><a href="#çº¯è™šå‡½æ•°ä¸æŠ½è±¡åŸºç±»" class="headerlink" title="çº¯è™šå‡½æ•°ä¸æŠ½è±¡åŸºç±»"></a>çº¯è™šå‡½æ•°ä¸æŠ½è±¡åŸºç±»</h3><ul>
<li><p>ä½¿ç”¨æŠ½è±¡åŸºç±»æ¥è¿›è¡Œç±»çš„è®¾è®¡æ˜¯ä¸€ç§æ›´ç³»ç»ŸåŒ–ã€æ›´æœ‰åºçš„ç±»è®¾è®¡æ–¹æ³•ã€‚æŠ½è±¡åŸºç±»æŒ‡çš„æ˜¯å¯¹äºè¦åˆ›å»ºçš„å¤šä¸ªç±»ï¼Œæå–å…¶å…¬æœ‰ç‰¹å¾ï¼Œå°†è¿™äº›ç‰¹å¾æ•´åˆæˆä¸€ä¸ªåŸºç±»ã€‚æŠ½è±¡åŸºç±»ä¸æ™®é€šçš„ç±»çš„åŒºåˆ«åœ¨äºï¼ŒæŠ½è±¡åŸºç±»ä¸­åŒ…å«æœ‰è‡³å°‘ä¸€ä¸ªçº¯è™šå‡½æ•°ï¼Œè€Œçº¯è™šå‡½æ•°åªæä¾›æ¥å£ä¸æä¾›å®ç°ï¼Œä¹Ÿå°±æ˜¯åªéœ€è¦å£°æ˜ï¼Œä¸éœ€è¦å®ç°ï¼Œå…·ä½“çš„å®ç°åœ¨æ´¾ç”Ÿç±»ä¸­è¿›è¡Œã€‚è¦ç”³æ˜ä¸€ä¸ªçº¯è™šå‡½æ•°ï¼Œåªéœ€è¦åœ¨è™šå‡½æ•°çš„å£°æ˜åé¢åŠ ä¸Šä¸€ä¸ª=0å³å¯ã€‚å¦ä¸€ä¸ªä¸åŒåœ¨äºï¼ŒæŠ½è±¡åŸºç±»æ— æ³•å®ä¾‹åŒ–ã€‚å¯¹äºä¸€ä¸ªç»§æ‰¿è‡ªæŠ½è±¡åŸºç±»çš„æ´¾ç”Ÿç±»ï¼Œè‹¥åœ¨è¿™ä¸ªç±»ä¸­ç»™å‡ºäº†çº¯è™šå‡½æ•°çš„å®ç°ï¼Œåˆ™è¿™ä¸ªæ´¾ç”Ÿç±»å°†è½¬åŒ–ä¸ºå…·ä½“ç±»ï¼Œå¯ä»¥å®ä¾‹åŒ–ã€‚å¦‚æœæ²¡æœ‰å®ç°ï¼Œåˆ™ä»æ˜¯æŠ½è±¡ç±»ï¼Œä¸èƒ½å®ä¾‹åŒ–ã€‚</p>
</li>
<li><p>æŠ½è±¡åŸºç±»çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ</p>
</li>
</ul>
<blockquote>
<p>1.æœ€é‡è¦çš„åŸå› æ˜¯ï¼Œå¯ä»¥å°†æ¥å£ä¸å®ç°åˆ†ç¦»ã€‚æ¥å£æ˜¯è½¯ä»¶äº§å“æœ€æœ‰ä»·å€¼çš„èµ„æºï¼Œè®¾è®¡æ¥å£æ¯”å®ç°æ¥å£éœ€è¦è€—è´¹æ›´æ˜‚è´µçš„æˆæœ¬ã€‚å› æ­¤ï¼Œè¦å°†æ¥å£ä¿æŠ¤èµ·æ¥ï¼Œä»¥å…åœ¨é’ˆå¯¹å®¢æˆ·éœ€æ±‚ä¿®æ”¹å®ç°çš„æ—¶å€™ï¼Œç¨‹åºå‘˜ä¸å°å¿ƒæŠŠæ¥å£ç ´åæ‰ã€‚<br><br>2.å¼•å…¥æŠ½è±¡åŸºç±»å’Œçº¯è™šå‡½æ•°æ–¹ä¾¿å®ç°C++çš„å¤šæ€ç‰¹æ€§ã€‚å¯ä»¥ç”¨æŠ½è±¡åŸºç±»çš„æŒ‡é’ˆå»è°ƒç”¨å­ç±»å¯¹è±¡çš„æ–¹æ³•ã€‚<br><br>3.å¾ˆå¤šæ—¶å€™ï¼Œè®¸å¤šåŸºç±»è¢«å®ä¾‹åŒ–æ˜¯ä¸åˆç†çš„ã€‚ä¾‹å¦‚â€œå½¢çŠ¶â€è¿™ä¸ªåŸºç±»ï¼Œè¢«å®ä¾‹åŒ–ä¹‹ååè€Œä¼šè®©äººç›¸å½“è´¹è§£ï¼Œæ‰€ä»¥å¹²è„†å°†â€œå½¢çŠ¶â€è¿™ä¸ªç±»å®šä¹‰ä¸ºæŠ½è±¡ç±»ï¼Œç”±å®ƒæ´¾ç”Ÿå‡ºæ­£æ–¹å½¢ï¼Œä¸‰è§’å½¢ç­‰å­ç±»ã€‚</p>
</blockquote>
<p>(å¼•ç”¨è‡ª<a href="https://blog.csdn.net/zz56z56/article/details/84177250" rel="external nofollow noopener noreferrer" target="_blank">C++ä¸ºä»€ä¹ˆè¦å®šä¹‰æŠ½è±¡åŸºç±»</a>)</p>
<p>æ¥ä¸€æ®µä»£ç :</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Human</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Human()&#123;&#125;</span><br><span class="line">        Human(<span class="keyword">int</span> age,<span class="keyword">int</span> sex):age(age),sex(sex)&#123;&#125;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">virtual</span> ~Human()&#123;&#125;;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">        <span class="keyword">int</span> sex;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Adult</span>:</span><span class="keyword">public</span> Human&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line">        Adult(<span class="keyword">int</span> age,<span class="keyword">int</span> sex,<span class="built_in">string</span> str):Human(age,sex),job(str)&#123;&#125;</span><br><span class="line">        Adult()&#123;&#125;</span><br><span class="line">        <span class="keyword">virtual</span> ~Adult()&#123;&#125;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="built_in">string</span> job;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Adult::show</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"I am a "</span>&lt;&lt;job&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teen</span>:</span><span class="keyword">public</span> Human&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line">        Teen(<span class="keyword">int</span> age,<span class="keyword">int</span> sex,<span class="keyword">int</span> sco):Human(age,sex),score(sco)&#123;&#125;</span><br><span class="line">        Teen()&#123;&#125;</span><br><span class="line">        <span class="keyword">virtual</span> ~Teen()&#123;&#125;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">int</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Teen::show</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"my score is "</span>&lt;&lt;score&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Teen <span class="title">teen</span><span class="params">(<span class="number">12</span>,<span class="number">0</span>,<span class="number">100</span>)</span></span>;</span><br><span class="line">    <span class="built_in">string</span> Job;</span><br><span class="line">    Job=<span class="string">"teacher"</span>;</span><br><span class="line">    <span class="function">Adult <span class="title">adult</span><span class="params">(<span class="number">1</span>,<span class="number">45</span>,Job)</span></span>;</span><br><span class="line">    Human* tp=&amp;teen;</span><br><span class="line">    Human* ap=&amp;adult;</span><br><span class="line">    tp-&gt;show();</span><br><span class="line">    ap-&gt;show();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>C++</category>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>ç»§æ‰¿</tag>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>è™šå‡½æ•°</tag>
        <tag>é¢å‘å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€çæã€‘å¦‚ä½•åªç”¨é¡ºåºç»“æ„å®ç°ä¸‰ä¸ªæ•°çš„æ’åº</title>
    <url>/2019/01/26/%E3%80%90%E7%9E%8E%E6%90%9E%E3%80%91%E5%A6%82%E4%BD%95%E5%8F%AA%E7%94%A8%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84%E5%AE%9E%E7%8E%B0%E4%B8%89%E4%B8%AA%E6%95%B0%E7%9A%84%E6%8E%92%E5%BA%8F/</url>
    <content><![CDATA[<p>RTï¼Œå¦‚ä½•åœ¨ä¸ç”¨å¾ªç¯ã€ä¸ç”¨åˆ¤æ–­ã€ä¸ç”¨ä¸‰ç›®è¿ç®—ç¬¦çš„æ¡ä»¶ä¸‹ï¼Œå®ç°ä¸‰ä¸ªæ•°å­—çš„æ’åºï¼Ÿä»£ç å¦‚ä¸‹<br><a id="more"></a><br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a,b,c;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>,&amp;a,&amp;b,&amp;c); </span><br><span class="line">    <span class="keyword">int</span> d=a*(a&lt;b)+b*(b&lt;=a);        <span class="comment">//æ±‚å‡ºaï¼Œbä¸­çš„æœ€å°å€¼ï¼Œdå³ä¸ºè¿™ä¸ªæœ€å°å€¼ </span></span><br><span class="line">    <span class="keyword">int</span> e=d*(d&lt;c)+c*(c&lt;=d);        <span class="comment">//æ±‚å‡ºä¸‰ä¸ªä¸­çš„æœ€å°; </span></span><br><span class="line">    d=(a+b-d)*(a+b-d&gt;c)+c*(c&gt;=a+b-d);    </span><br><span class="line">    <span class="comment">//dæ˜¯aï¼Œbä¸­çš„æœ€å°å€¼ï¼Œæ•…a+b-dä¸ºaï¼Œbä¸­çš„æœ€å¤§å€¼ï¼Œå†é€šè¿‡ä¸Šé¢è¿™æ¡å¼å­é€‰å‡ºa+b-dä¸cä¸¤è€…ä¹‹é—´çš„è¾ƒå¤§å€¼ï¼Œå³å¯å¾—åˆ°ä¸‰ä¸ªæ•°ä¸­çš„æœ€å¤§å€¼</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d %d %d\n"</span>,e,a+b+c-e-d,d);        </span><br><span class="line">    <span class="comment">//eï¼Œdåˆ†åˆ«ä¸ºæœ€å°å€¼å’Œæœ€å¤§å€¼ï¼Œä¸‰ä¸ªæ•°çš„æ€»å’Œå‡å»æœ€å¤§å€¼å’Œæœ€å°å€¼å³å¾—ä¸­é—´å€¼</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æƒ³æ³•æ¥è‡ªï¼šè¯¸å›æœ‰å“ªäº›æœ‰å…³æ’åºçš„å¥‡æŠ€æ·«å·§ï¼Ÿ - rsaçš„å›ç­” - çŸ¥ä¹<br><a href="https://www.zhihu.com/question/269128251/answer/345732846" rel="external nofollow noopener noreferrer" target="_blank">https://www.zhihu.com/question/269128251/answer/345732846</a></p>
]]></content>
      <categories>
        <category>çæ</category>
      </categories>
      <tags>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>çæ</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€æ±‚æœ€å°ç”Ÿæˆæ ‘ã€‘Primç®—æ³•&amp;Kruskalç®—æ³•</title>
    <url>/2019/02/27/%E3%80%90%E6%B1%82%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91%E3%80%91Prim%E7%AE%97%E6%B3%95-Kruskal%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<h4 id="ä¸€ã€æ¦‚å¿µè§£é‡Š"><a href="#ä¸€ã€æ¦‚å¿µè§£é‡Š" class="headerlink" title="ä¸€ã€æ¦‚å¿µè§£é‡Š"></a>ä¸€ã€æ¦‚å¿µè§£é‡Š</h4><p>é¦–å…ˆè§£é‡Šå‡ ä¸ªæ¦‚å¿µï¼š</p>
<p><ul></ul></p>
<p><li>è¿é€šå›¾ï¼šåœ¨æ— å‘å›¾ä¸­ï¼Œè‹¥ä»»æ„ä¸¤ä¸ªé¡¶ç‚¹viä¸vjéƒ½æœ‰è·¯å¾„ç›¸é€šï¼Œåˆ™ç§°è¯¥æ— å‘å›¾ä¸ºè¿é€šå›¾ã€‚</li></p>
<p><li>å¼ºè¿é€šå›¾ï¼šåœ¨æœ‰å‘å›¾ä¸­ï¼Œè‹¥ä»»æ„ä¸¤ä¸ªé¡¶ç‚¹viä¸vjéƒ½æœ‰è·¯å¾„ç›¸é€šï¼Œåˆ™ç§°è¯¥æœ‰å‘å›¾ä¸ºå¼ºè¿é€šå›¾ã€‚</li></p>
<p><li>è¿é€šç½‘ï¼šåœ¨è¿é€šå›¾ä¸­ï¼Œè‹¥å›¾çš„è¾¹å…·æœ‰ä¸€å®šçš„æ„ä¹‰ï¼Œæ¯ä¸€æ¡è¾¹éƒ½å¯¹åº”ç€ä¸€ä¸ªæ•°ï¼Œç§°ä¸ºæƒï¼›æƒä»£è¡¨ç€è¿æ¥è¿ä¸ªé¡¶ç‚¹çš„ä»£ä»·ï¼Œç§°è¿™ç§è¿é€šå›¾å«åšè¿é€šç½‘ã€‚</li></p>
<p><li>ç”Ÿæˆæ ‘ï¼šä¸€ä¸ªè¿é€šå›¾çš„ç”Ÿæˆæ ‘æ˜¯æŒ‡ä¸€ä¸ªè¿é€šå­å›¾ï¼Œå®ƒå«æœ‰å›¾ä¸­å…¨éƒ¨nä¸ªé¡¶ç‚¹ï¼Œä½†åªæœ‰è¶³ä»¥æ„æˆä¸€æ£µæ ‘çš„n-1æ¡è¾¹ã€‚ä¸€é¢—æœ‰nä¸ªé¡¶ç‚¹çš„ç”Ÿæˆæ ‘æœ‰ä¸”ä»…æœ‰n-1æ¡è¾¹ï¼Œå¦‚æœç”Ÿæˆæ ‘ä¸­å†æ·»åŠ ä¸€æ¡è¾¹ï¼Œåˆ™å¿…å®šæˆç¯ã€‚</li></p>
<p><li>æœ€å°ç”Ÿæˆæ ‘ï¼šåœ¨è¿é€šç½‘çš„æ‰€æœ‰ç”Ÿæˆæ ‘ä¸­ï¼Œæ‰€æœ‰è¾¹çš„ä»£ä»·å’Œæœ€å°çš„ç”Ÿæˆæ ‘ï¼Œç§°ä¸ºæœ€å°ç”Ÿæˆæ ‘ã€‚<br>&lt;/ul&gt;<br>(è½¬è‡ª<a href="http://blog.csdn.net/luoshixian099/article/details/51908175" rel="external nofollow noopener noreferrer" target="_blank">å‹¿åœ¨æµ®æ²™ç­‘é«˜å°</a>)</li></p>
<p>&emsp;&emsp;ç®€å•æ¥è¯´ï¼Œæœ€å°ç”Ÿæˆæ ‘å°±æ˜¯åœ¨è¿é€šå›¾ä¸­æ‰¾å‡ºä¸€é¢—æ ‘ï¼Œè¿™æ£µæ ‘æ»¡è¶³è¿™æ ·çš„è¦æ±‚ï¼š1ã€å¯ä»¥å°†å›¾ä¸­çš„æ‰€æœ‰é¡¶ç‚¹éƒ½è¿é€šï¼›2ã€è¿™é¢—æ ‘çš„è¾¹çš„æƒé‡å’Œæ˜¯æœ€å°çš„(å…·ä½“åˆ°å®é™…é—®é¢˜ä¸Šï¼Œè¾¹çš„æƒé‡å¯èƒ½æ˜¯æˆæœ¬ã€è·¯ç¨‹ç­‰)</p>
<p>&emsp;&emsp;æ±‚æœ€å°ç”Ÿæˆæ ‘ä¸€èˆ¬æœ‰ä¸¤ç§ç®—æ³•ï¼Œä¸€ç§æ˜¯Primç®—æ³•ï¼Œå¦ä¸€ç§åˆ™æ˜¯Kruskalç®—æ³•ã€‚</p>
<h4 id="äºŒã€Primç®—æ³•"><a href="#äºŒã€Primç®—æ³•" class="headerlink" title="äºŒã€Primç®—æ³•"></a>äºŒã€Primç®—æ³•</h4><p>&emsp;&emsp;Primä½¿ç”¨çš„æ˜¯è´ªå¿ƒçš„æ€æƒ³ï¼Œä¸Dijkstraæœ‰å¼‚æ›²åŒå·¥ä¹‹å¤„ã€‚å®ƒçš„åŸç†æ˜¯ï¼Œå…ˆä»å›¾ä¸­ä»»æ„é€‰æ‹©ä¸€ä¸ªèµ·ç‚¹ï¼Œå¹¶è®°å½•ä¸‹ä¸è¿™ä¸ªç‚¹ç›´æ¥ç›¸è¿çš„ç‚¹å¯¹åº”çš„è¾¹çš„æƒå€¼ï¼Œç„¶åæ‰¾åˆ°è¿™äº›è¾¹ä¸­æƒå€¼æœ€å°çš„ï¼Œå¹¶å°†è¿™ä¸ªæƒå€¼åŠ åˆ°æœ€ç»ˆç»“æœä¸­ï¼ŒåŒæ—¶åœ¨visæ•°ç»„é‡Œå°†é€‰å®šçš„èµ·ç‚¹æ ‡è®°ã€‚ç„¶åç„¶åæˆ‘ä»¬å°†â€œèµ·ç‚¹â€è½¬ç§»åˆ°åˆšæ‰é€‰æ‹©çš„æƒå€¼æœ€å°è¾¹æ‰€å¯¹åº”çš„å¦ä¸€ä¸ªé¡¶ç‚¹ï¼Œé‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œå†æ‰¾å‡ºä¸€æ¡ä¸æ–°èµ·ç‚¹ç›´æ¥ç›¸è¿çš„æƒå€¼æœ€å°è¾¹ï¼ŒæŠŠå®ƒçš„æƒå€¼åŠ åˆ°æœ€ç»ˆç»“æœä¸­â€¦â€¦ä¸æ–­é‡å¤ä»¥ä¸Šè¿‡ç¨‹å…±n-1æ¬¡ï¼Œå³å¯æ‰¾å‡ºæœ€å°ç”Ÿæˆæ ‘ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//low[]ç”¨æ¥è®°å½•æœ€å°æƒå€¼,vis[]ä¸ºæ ‡è®°æ•°ç»„ï¼Œæ ‡è®°å·²ç»èµ°è¿‡çš„ç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">prim</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="keyword">int</span> mini; </span><br><span class="line">    <span class="keyword">int</span> rsl=<span class="number">0</span>;</span><br><span class="line">    mst(vis,<span class="number">0</span>);</span><br><span class="line">    vis[<span class="number">1</span>]=<span class="number">1</span>;<span class="keyword">int</span> pos=<span class="number">1</span>;        <span class="comment">//å…ˆä»¥1ä¸ºèµ·ç‚¹ </span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        low[i]=gra[pos][i];        <span class="comment">//å­˜å‚¨ä¸1ç›¸è¿çš„è¾¹çš„æƒå€¼ </span></span><br><span class="line">    low[pos]=<span class="number">0</span>;vis[pos]=<span class="number">1</span>;        <span class="comment">//1åˆ°1çš„è·ç¦»ä¸º0ï¼›1ä½œä¸ºèµ·ç‚¹ï¼Œå¯è®¤ä¸ºå·²åœ¨æ ‘é‡Œ </span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        mini=INF;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">2</span>;j&lt;=n;j++)</span><br><span class="line">            <span class="keyword">if</span>(!vis[j]&amp;&amp;mini&gt;low[j])&#123;        <span class="comment">//æŸ¥æ‰¾ä¸1ç›¸è¿çš„æƒå€¼æœ€å°çš„è¾¹ï¼Œ </span></span><br><span class="line">                mini=low[j];                <span class="comment">//å°†è¿™ä¸€æ¡è¾¹çš„å¦ä¸€ä¸ªé¡¶ç‚¹åŠ å…¥æ ‘ä¸­ï¼Œ </span></span><br><span class="line">                pos=j;                        <span class="comment">//åŒæ—¶ï¼Œå°†posæ”¹ä¸ºè¿™æ¡è¾¹çš„å¦ä¸€ä¸ªé¡¶ç‚¹ï¼Œ </span></span><br><span class="line">            &#125;                                <span class="comment">//ä¸‹ä¸€æ¬¡æ‰¾æƒå€¼æœ€å°çš„è¾¹æ—¶ä»è¿™ä¸€ä¸ªç‚¹å¼€å§‹ </span></span><br><span class="line">        vis[pos]=<span class="number">1</span>;                            <span class="comment">//å› ä¸ºè¢«æ‰¾åˆ°çš„ç‚¹å·²ç»åŠ å…¥äº†æ ‘ä¸­ï¼Œæ‰€ä»¥vis[pos]=1ï¼› </span></span><br><span class="line">        <span class="keyword">if</span>(mini!=INF)         </span><br><span class="line">            rsl+=mini;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">2</span>;j&lt;=n;j++)</span><br><span class="line">            <span class="keyword">if</span>(!vis[j]&amp;&amp;low[j]&gt;gra[pos][j])</span><br><span class="line">                low[j]=gra[pos][j];        <span class="comment">////è®¡ç®—ã€æ›´æ–°ä¸å·²ç»åŠ å…¥æ ‘ä¸­çš„ç‚¹ç›¸è¿çš„è¾¹çš„æœ€å°æƒå€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> rsl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;Primä¸Dijkstraçš„ç›¸åŒä¹‹å¤„åœ¨äºï¼Œä¸¤è€…éƒ½ç”¨åˆ°äº†è´ªå¿ƒæ€æƒ³ï¼Œä¸”éƒ½æœ‰ç‚¹ä¸ç‚¹ä¹‹é—´çš„è½¬ç§»ã€‚ä½†ä¸åŒä¹‹å¤„åœ¨äºï¼ŒDijkstraæ˜¯æ±‚ä»ä¸€ä¸ªç‚¹åˆ°å¦ä¸€ä¸ªç‚¹çš„æœ€çŸ­è·¯ï¼Œè€ŒPrimæ˜¯æ±‚æœ€å°æƒå€¼çš„æ ‘ã€‚è¿™å°±å†³å®šäº†ä¸¤è€…ä¹‹é—´çš„ä¸€ä¸ªåŒºåˆ«ï¼Œå³Dijkstraçš„dis[]æ•°ç»„ç”¨äºå­˜æ”¾èµ·ç‚¹åˆ°æ¯ä¸€ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»ï¼Œè€ŒPrimçš„dis[]æ•°ç»„ç”¨äºå­˜æ”¾å½“å‰ç‚¹åˆ°ä¸å®ƒç›´æ¥ç›¸è¿çš„ç‚¹çš„æœ€å°æƒå€¼ã€‚<del>(æˆ‘æ€ä¹ˆè§‰å¾—æˆ‘åœ¨è¯´åºŸè¯)</del></p>
<p>&emsp;&emsp;å†æ¥ä¸€é“Primçš„æ¨¡æ¿é¢˜â†’<a href="http://acm.hdu.edu.cn/showproblem.php?pid=1233" rel="external nofollow noopener noreferrer" target="_blank">HDU1233 è¿˜æ˜¯ç•…é€šå·¥ç¨‹</a></p>
<p>&emsp;&emsp;è¿™é¢˜åªéœ€è¦ç›´æ¥å¥—ç”¨æ¨¡æ¿å³å¯ï¼Œæ²¡ä»€ä¹ˆéœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚å¯ä»¥é€šè¿‡è¿™é“é¢˜æ„Ÿå—ä¸€ä¸‹Primæ€ä¹ˆç”¨ã€‚</p>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> gra[<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"><span class="keyword">int</span> low[<span class="number">105</span>];</span><br><span class="line"><span class="keyword">bool</span> vis[<span class="number">105</span>];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">prim</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="keyword">int</span> mini; </span><br><span class="line">    <span class="keyword">int</span> rsl=<span class="number">0</span>;</span><br><span class="line">    mst(vis,<span class="number">0</span>);</span><br><span class="line">    vis[<span class="number">1</span>]=<span class="number">1</span>;<span class="keyword">int</span> pos=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        low[i]=gra[pos][i];</span><br><span class="line">    low[pos]=<span class="number">0</span>;vis[pos]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        mini=INF;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">2</span>;j&lt;=n;j++)</span><br><span class="line">            <span class="keyword">if</span>(!vis[j]&amp;&amp;mini&gt;low[j])&#123;</span><br><span class="line">                mini=low[j];</span><br><span class="line">                pos=j;</span><br><span class="line">            &#125;</span><br><span class="line">        vis[pos]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(mini!=INF)</span><br><span class="line">            rsl+=mini;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">2</span>;j&lt;=n;j++)</span><br><span class="line">            <span class="keyword">if</span>(!vis[j]&amp;&amp;low[j]&gt;gra[pos][j])</span><br><span class="line">                low[j]=gra[pos][j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> rsl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)!=EOF&amp;&amp;n)</span><br><span class="line">    &#123;    </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            gra[i][i]=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> tot=(n*(n<span class="number">-1</span>))/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;tot;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> a,b;</span><br><span class="line">            <span class="keyword">int</span> u,v,len;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>,&amp;u,&amp;v,&amp;len);</span><br><span class="line">            gra[u][v]=gra[v][u]=len; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans=prim();</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ä¸‰ã€Kruskalç®—æ³•"><a href="#ä¸‰ã€Kruskalç®—æ³•" class="headerlink" title="ä¸‰ã€Kruskalç®—æ³•"></a>ä¸‰ã€Kruskalç®—æ³•</h4><p>&emsp;&emsp;ä¸Primçš„åŸºäºé¡¶ç‚¹ä¸åŒï¼ŒKruskalæ˜¯ä¸€ç§åŸºäºè¾¹çš„ç®—æ³•ã€‚å®ƒçš„åŸç†æ˜¯ï¼Œé¦–å…ˆå°†ä¸€ä¸ªè¿é€šå›¾çš„æ‰€æœ‰è¾¹å­˜èµ·æ¥ï¼Œç„¶åæ ¹æ®æƒå€¼ä»å°åˆ°å¤§å¯¹è¿™äº›è¾¹è¿›è¡Œæ’åºã€‚ç„¶åæ¯æ¬¡æŒ‰æƒå€¼ä»å°åˆ°å¤§çš„é¡ºåºå–å‡ºä¸€æ¡è¾¹ï¼Œæ£€æŸ¥è¿™æ¡è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆå†…ï¼Œè‹¥æ˜¯ï¼Œåˆ™è¿™æ¡è¾¹å¼ƒä¹‹ä¸ç”¨ä¸”æ°¸è¿œä¸ä¼šè¢«ä½¿ç”¨(å¦åˆ™ä¼šäº§ç”Ÿé—­ç¯)ï¼›å¦åˆ™ï¼Œé€‰ç”¨è¿™æ¡è¾¹ï¼Œä½œä¸ºæœ€å°ç”Ÿæˆæ ‘çš„å…¶ä¸­ä¸€æ¡è¾¹(å³å°†ä¸¤ä¸ªè¿™æ¡è¾¹å¯¹åº”çš„ä¸¤ä¸ªé¡¶ç‚¹åˆå¹¶å…¥ä¸€ä¸ªé›†åˆä¸­)ã€‚è€Œåœ¨æ£€æŸ¥ä¸åˆå¹¶çš„è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†ä¿è¯æ•ˆç‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¹¶æŸ¥é›†æ¥å®ç°ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> from,to,wei;</span><br><span class="line">&#125;edge;        <span class="comment">//yç”¨ä¸€ä¸ªç»“æ„ä½“è¡¨ç¤ºè¾¹</span></span><br><span class="line">edge arr[<span class="number">5000</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(edge a,edge b)</span>        <span class="comment">//ç”¨äºè¾¹çš„æ’åº</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.wei&lt;b.wei;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        pre[i]=i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findr</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x==pre[x])</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">return</span> pre[x]=findr(pre[x]);        <span class="comment">//æ‰¾æ ¹èŠ‚ç‚¹åŒæ—¶è¿›è¡Œå‹ç¼©ï¼Œæé«˜å¾€åæŸ¥è¯¢æ—¶çš„æ•ˆç‡</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">kruskal</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> rsl=<span class="number">0</span>;<span class="keyword">int</span> num=<span class="number">0</span>;</span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> fx=findr(arr[i].from);</span><br><span class="line">        <span class="keyword">int</span> fy=findr(arr[i].to);        <span class="comment">//æ‰¾æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span>(fx!=fy)        <span class="comment">//å¦‚æœä¸åœ¨ä¸€ä¸ªé›†åˆå†…ï¼Œåˆ™åˆå¹¶</span></span><br><span class="line">        &#123;</span><br><span class="line">            pre[fx]=fy;</span><br><span class="line">            rsl+=arr[i].wei;</span><br><span class="line">            num++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(num==n<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> rsl;</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">         <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¥ä¸€é“Kruskalçš„æ¨¡æ¿é¢˜â†’<a href="http://acm.hdu.edu.cn/showproblem.php?pid=1875" rel="external nofollow noopener noreferrer" target="_blank">HDU1875ç•…é€šå·¥ç¨‹å†ç»­</a></p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> n,m,idx1;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> from,to;</span><br><span class="line">    <span class="keyword">double</span> len;</span><br><span class="line">&#125;edge;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    <span class="keyword">double</span> x,y;</span><br><span class="line">&#125;<span class="built_in">point</span>;</span><br><span class="line"><span class="built_in">point</span> p[<span class="number">105</span>];</span><br><span class="line">edge e[<span class="number">5000</span>];</span><br><span class="line"><span class="keyword">int</span> pre[<span class="number">105</span>];</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">get_len</span><span class="params">(<span class="built_in">point</span> pa,<span class="built_in">point</span> pb)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sqrt</span>((pa.x-pb.x)*(pa.x-pb.x)+(pa.y-pb.y)*(pa.y-pb.y));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(edge e1,edge e2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> e1.len&lt;e2.len;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        pre[i]=i;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findr</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x==pre[x])</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">return</span> pre[x]=findr(pre[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">kruskal</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> rsl=<span class="number">0</span>;<span class="keyword">int</span> num=<span class="number">0</span>;</span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=idx1;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> fx=findr(e[i].from);</span><br><span class="line">        <span class="keyword">int</span> fy=findr(e[i].to);</span><br><span class="line">        <span class="keyword">if</span>(fx!=fy)</span><br><span class="line">        &#123;</span><br><span class="line">            pre[fx]=fy;</span><br><span class="line">            rsl+=e[i].len;</span><br><span class="line">            num++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(num==n<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> rsl;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        <span class="keyword">double</span> x,y;<span class="built_in">point</span> tmp;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lf %lf"</span>,&amp;x,&amp;y);</span><br><span class="line">            tmp.x=x;tmp.y=y;</span><br><span class="line">            p[i]=tmp; </span><br><span class="line">        &#125;</span><br><span class="line">        idx1=<span class="number">1</span>;</span><br><span class="line">        m=(n*(n<span class="number">-1</span>))/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">                edge temp;</span><br><span class="line">                temp.from=i;</span><br><span class="line">                temp.to=j;</span><br><span class="line">                temp.len=get_len(p[i],p[j]);</span><br><span class="line">                <span class="keyword">if</span>(temp.len&lt;=<span class="number">1000</span>&amp;&amp;temp.len&gt;=<span class="number">10</span>)</span><br><span class="line">                    e[idx1++]=temp; </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(e,e+idx1,cmp);</span><br><span class="line">        <span class="keyword">double</span> ans=kruskal();</span><br><span class="line">        <span class="keyword">if</span>(ans==<span class="number">-1</span>)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"oh!"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%.1lf\n"</span>,ans*<span class="number">100</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸¤ç§ç®—æ³•çš„å›¾è§£ï¼Œå¯å‚è€ƒæ­¤æ–‡ç« â†’<a href="https://www.jianshu.com/p/efcd21494dff" rel="external nofollow noopener noreferrer" target="_blank">å›¾çš„åŸºæœ¬ç®—æ³•ï¼ˆæœ€å°ç”Ÿæˆæ ‘</a></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>å›¾è®º</category>
        <category>æœ€å°ç”Ÿæˆæ ‘</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>Kruskal</tag>
        <tag>æœ€å°ç”Ÿæˆæ ‘</tag>
        <tag>Prim</tag>
      </tags>
  </entry>
  <entry>
    <title>å‡ é“æ°´é¢˜(Gym101502A,Gym101502B,Gym - 101502E,Gym101502K)</title>
    <url>/2019/03/10/%E5%87%A0%E9%81%93%E6%B0%B4%E9%A2%98/</url>
    <content><![CDATA[<p><a href="https://codeforces.com/gym/101502/problem/A" rel="external nofollow noopener noreferrer" target="_blank">Gym101502A</a></p>
<a id="more"></a>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">5</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">double</span> y;<span class="keyword">double</span> x;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;y&gt;&gt;x;</span><br><span class="line">        <span class="keyword">double</span> ans=y/(<span class="number">1</span>+(x/<span class="number">100.0</span>));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%.0lf\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://codeforces.com/gym/101502/problem/B" rel="external nofollow noopener noreferrer" target="_blank">Gym101502B</a></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line">ll col[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;    </span><br><span class="line">        <span class="built_in">map</span>&lt;ll,ll&gt; rows;        <span class="comment">//æ•°å­—ï¼Œæ¬¡æ•° </span></span><br><span class="line">        rows.erase(rows.<span class="built_in">begin</span>(),rows.<span class="built_in">end</span>());</span><br><span class="line">        ll n;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;n);</span><br><span class="line">        <span class="keyword">for</span>(ll i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            ll row;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;row);</span><br><span class="line">            rows[row]++;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;col[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        ll sum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(ll i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            sum+=rows[col[i]];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,sum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://codeforces.com/gym/101502/problem/E" rel="external nofollow noopener noreferrer" target="_blank">Gym101502E</a></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">5</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;    </span><br><span class="line">        <span class="keyword">int</span> kit=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> living=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> bed=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">string</span> str;</span><br><span class="line">        <span class="keyword">int</span> n;<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        <span class="keyword">while</span>(n--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;str;</span><br><span class="line">            <span class="keyword">if</span>(str[<span class="number">0</span>]==<span class="string">'k'</span>)</span><br><span class="line">                kit++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(str[<span class="number">0</span>]==<span class="string">'b'</span>)</span><br><span class="line">                bed++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(str[<span class="number">0</span>]==<span class="string">'l'</span>)</span><br><span class="line">                living++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans=<span class="built_in">min</span>(kit,<span class="built_in">min</span>(bed/<span class="number">2</span>,living));</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://codeforces.com/gym/101502/problem/K" rel="external nofollow noopener noreferrer" target="_blank">Gym101502K</a></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">5</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        ll n;<span class="keyword">double</span> m;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">        ll tmp;ll sum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;tmp;</span><br><span class="line">            sum+=tmp&gt;=<span class="number">50</span>?<span class="number">1</span>:<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">double</span> success=<span class="built_in">ceil</span>(m*n);</span><br><span class="line">        <span class="keyword">if</span>(sum&gt;=success)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"NO\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>å…¶ä»–</category>
      </categories>
  </entry>
  <entry>
    <title>Codeforcesæ€ç»´é¢˜ï¼ˆæ›´æ–°ä¸­ï¼‰</title>
    <url>/2019/05/29/%E5%87%A0%E9%81%93CF%E6%B0%B4%E9%A2%98/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/HTB1DNhkXfxj_uVjSZFqq6yboFXaE.jpg" alt></p>
<p>Photo by NO NAME from Pixels<br><a id="more"></a></p>
<p><a href="https://cn.vjudge.net/problem/CodeForces-1141A" rel="external nofollow noopener noreferrer" target="_blank">Game 23</a></p>
<p>å¯¹m/nä¸æ–­é™¤ä»¥3ï¼Œå†é™¤ä»¥2å³å¯</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(n==m)&#123;</span><br><span class="line">        ans=<span class="number">0</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(m%n!=<span class="number">0</span>)&#123;</span><br><span class="line">        ans=<span class="number">-1</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp=m/n;</span><br><span class="line">        <span class="keyword">while</span>(tmp%<span class="number">3</span>==<span class="number">0</span>)&#123;</span><br><span class="line">            ans++;</span><br><span class="line">            tmp/=<span class="number">3</span>;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">while</span>(tmp%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">            ans++;</span><br><span class="line">            tmp/=<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(tmp!=<span class="number">1</span>)</span><br><span class="line">            ans=<span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vjudge.net/problem/CodeForces-1141B" rel="external nofollow noopener noreferrer" target="_blank">Maximal Continuous Rest</a></p>
<p>å¯¹äºä¸€ä¸ªåºåˆ—ï¼Œè®¾ä»å·¦ç«¯å¼€å§‹çš„æœ€é•¿1åºåˆ—çš„é•¿åº¦ä¸ºlen1ï¼Œä»å³ç«¯å¼€å§‹çš„æœ€é•¿1åºåˆ—çš„é•¿åº¦ä¸ºlen2ï¼Œå¤„äºåºåˆ—ä¸­é—´çš„æœ€é•¿1åºåˆ—çš„é•¿åº¦ä¸ºlen3,æœ€é•¿çš„è¿ç»­1åºåˆ—çš„é•¿åº¦åªå¯èƒ½æ˜¯len3æˆ–len1+len2.</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> arr[<span class="number">2</span>*maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;arr[i];</span><br><span class="line">    <span class="keyword">int</span> len1,len2;<span class="keyword">int</span> len3;</span><br><span class="line">    len1=len2=len3=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i]==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        len1++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n;i&gt;=<span class="number">1</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i]==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        len2++;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    int beg,end;</span></span><br><span class="line">    <span class="keyword">int</span> tmp=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i]==<span class="number">0</span>)&#123;</span><br><span class="line">            tmp=<span class="number">0</span>;</span><br><span class="line">            len3=<span class="built_in">max</span>(len3,tmp);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        tmp++;</span><br><span class="line">        len3=<span class="built_in">max</span>(len3,tmp);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    cout&lt;&lt;"len3="&lt;&lt;len3&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">int</span> ans=<span class="built_in">max</span>(len3,len1+len2);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vjudge.net/problem/CodeForces-1141C" rel="external nofollow noopener noreferrer" target="_blank">Polycarp Restores Permutation</a></p>
<p>é¢˜æ„æ˜¯è¯´ï¼Œå­˜åœ¨ä¸€ä¸ªåºåˆ—$p$å’Œåºåˆ—$q$ï¼Œä¸”pæ˜¯ä¸€ä¸ª$1~n$çš„æ’åˆ—ï¼ˆå°±æ˜¯è¯´$1~n$è¿™nä¸ªæ•°éƒ½å¿…é¡»å‡ºç°ä¸”åªèƒ½å‡ºç°ä¸€æ¬¡ï¼‰ï¼Œå¯¹äº$q<em>i$ï¼Œæœ‰$q_i=p</em>{i+1}-p<em>i$ï¼Œå³$p_i+q_i=p</em>{i+1}$ã€‚ç°åœ¨åªç»™å‡ºqï¼Œè®©æˆ‘ä»¬æ±‚å‡ºpã€‚</p>
<p>åˆ†æåä¸éš¾å¾—å‡ºä»¥ä¸‹æ€è·¯ï¼šæˆ‘ä»¬å¯ä»¥å…ˆå‡è®¾$p<em>1=1$ï¼Œå¹¶æ ¹æ®$q_i=p</em>{i+1}-p_i$å¾—å‡ºä¸€æ®µqåºåˆ—ï¼Œå¹¶æ‰¾åˆ°è¯¥åºåˆ—çš„æœ€å°å€¼ã€‚è¯¥æœ€å°å€¼æ­£å¥½å¯¹åº”çš„å°±æ˜¯æˆ‘ä»¬è¦æ±‚çš„$p$åºåˆ—ä¸­çš„1ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†ç°åœ¨çš„å¾—åˆ°çš„påºåˆ—ä¸­çš„æ¯ä¸€ä¸ªå€¼éƒ½åŠ ä¸Š1åˆ°å½“å‰æœ€å°å€¼çš„å·®å€¼ï¼Œæœ€åå†ç”¨ä¸€ä¸ªvisæ•°ç»„åˆ¤æ–­ä»¥ä¸‹æ¯ä¸ªæ•°çš„å‡ºç°æ¬¡æ•°ï¼Œå³å¯å¾—åˆ°ç­”æ¡ˆã€‚ï¼ˆè½¬åŒ–ä¸ºå›¾åƒçš„è¯ä¼šæ›´å¥½ç†è§£ï¼‰</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> arr[maxn*<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> seq[maxn*<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> ans[maxn*<span class="number">2</span>];</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; vis;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//    freopen("data_generator.txt","r",stdin);</span></span><br><span class="line">    <span class="keyword">int</span> n;<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;arr[i];</span><br><span class="line">    <span class="keyword">bool</span> flag=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> mini=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> tmp=<span class="number">0</span>;</span><br><span class="line">    seq[<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">        seq[i+<span class="number">1</span>]=tmp=seq[i]+arr[i];</span><br><span class="line">        <span class="keyword">if</span>(vis.count(tmp))&#123;</span><br><span class="line">            flag=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        vis[tmp]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(tmp&lt;mini)&#123;</span><br><span class="line">            mini=tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    vis.<span class="built_in">clear</span>();</span><br><span class="line">    <span class="keyword">int</span> raise=(mini&lt;=<span class="number">1</span>?<span class="number">1</span>-mini:mini<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        ans[i]=seq[i]+raise;</span><br><span class="line">        vis[ans[i]]++;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    debug;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(vis[i]!=<span class="number">1</span>)&#123;</span><br><span class="line">            flag=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d%c"</span>,ans[i],i==n?<span class="string">'\n'</span>:<span class="string">' '</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vjudge.net/problem/CodeForces-1141D" rel="external nofollow noopener noreferrer" target="_blank">Colored Boots</a></p>
<p>é¢˜æ„æ˜¯è¯´å¯¹äºä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªå­—æ¯ä»£è¡¨ä¸€ç§é¢œè‰²ï¼Œä¸¤ä¸ªç›¸åŒçš„å­—æ¯å¯ä»¥å‡‘æˆä¸€å¯¹ï¼Œé—®å¦‚æœä»å­—ç¬¦ä¸²ä¸€ä¸­æŒ‘å‡ºä¸€ä¸ªå­—ç¬¦ã€å†ä»å­—ç¬¦ä¸²äºŒä¸­æŒ‘å‡ºä¸€ä¸ªå­—ç¬¦ï¼ˆæŒ‘å‡ºåä¸æ”¾å›ï¼‰ï¼Œæœ€å¤šèƒ½å‡‘å‡ºå¤šå°‘å¯¹ã€‚å¦‚æœå­—ç¬¦ä¸ºâ€™?â€™ï¼Œè¯´æ˜è¯¥å­—ç¬¦å¯ä»¥ä¸ä»»ä½•å­—ç¬¦é…å¯¹ï¼ˆåŒ…æ‹¬â€™?â€™ï¼‰</p>
<p>æš´åŠ›è´ªå¿ƒå³å¯ğŸ˜€</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">150000</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; lef[<span class="number">128</span>];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; rig[<span class="number">128</span>];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> lef_boot;</span><br><span class="line">    <span class="keyword">int</span> rig_boot;</span><br><span class="line">&#125;;</span><br><span class="line">node ans[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="built_in">string</span> l,r;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;l&gt;&gt;r;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        lef[l[i]].push_back(i+<span class="number">1</span>);</span><br><span class="line">        rig[r[i]].push_back(i+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">97</span>;i&lt;=<span class="number">122</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">while</span>(!lef[i].empty()&amp;&amp;!rig[i].empty())&#123;</span><br><span class="line">            ans[cnt++]=node&#123;lef[i].back(),rig[i].back()&#125;;</span><br><span class="line">            lef[i].pop_back();</span><br><span class="line">            rig[i].pop_back();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">97</span>;i&lt;=<span class="number">122</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">while</span>(!lef[<span class="string">'?'</span>].empty()&amp;&amp;!rig[i].empty())&#123;</span><br><span class="line">            ans[cnt++]=node&#123;lef[<span class="string">'?'</span>].back(),rig[i].back()&#125;;</span><br><span class="line">            lef[<span class="string">'?'</span>].pop_back();rig[i].pop_back();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(lef[<span class="string">'?'</span>].empty())        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">97</span>;i&lt;=<span class="number">122</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">while</span>(!rig[<span class="string">'?'</span>].empty()&amp;&amp;!lef[i].empty())&#123;</span><br><span class="line">            ans[cnt++]=node&#123;lef[i].back(),rig[<span class="string">'?'</span>].back()&#125;;</span><br><span class="line">            rig[<span class="string">'?'</span>].pop_back();lef[i].pop_back();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(rig[<span class="string">'?'</span>].empty())        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!lef[<span class="string">'?'</span>].empty()&amp;&amp;!rig[<span class="string">'?'</span>].empty())&#123;</span><br><span class="line">        ans[cnt++]=node&#123;lef[<span class="string">'?'</span>].back(),rig[<span class="string">'?'</span>].back()&#125;;</span><br><span class="line">        lef[<span class="string">'?'</span>].pop_back();rig[<span class="string">'?'</span>].pop_back();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,cnt);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;cnt;i++)        <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,ans[i].lef_boot,ans[i].rig_boot);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vjudge.net/problem/CodeForces-1140C" rel="external nofollow noopener noreferrer" target="_blank">Playlist</a></p>
<p>é¢˜æ„æ˜¯è¯´ï¼Œå¯¹äºä¸€ä¸ªåºåˆ—ï¼Œæ¯ä¸€ä¸ªå…ƒç´ éƒ½åŒ…å«$t_i$å’Œ$b_i$ä¸¤ä¸ªå€¼ï¼Œç°åœ¨è¦æ±‚ä¸€ä¸ªé•¿åº¦ä¸è¶…è¿‡$k$çš„å­åºåˆ—ï¼Œä½¿å¾—è¯¥åºåˆ—ä¸­çš„å€¼æ»¡è¶³$\Sigma\ t_i\times \ min(b_i)$çš„å€¼æœ€å¤§ã€‚</p>
<p>emmmmmmä¸€å¼€å§‹æˆ‘æ˜¯ç”¨çš„dpï¼Œå› ä¸ºæ„Ÿè§‰è¿™é¢˜å¾ˆåƒ01èƒŒåŒ…ï¼Œå¦‚æœæŠŠkçœ‹ä½œæ˜¯èƒŒåŒ…æ€»å®¹é‡ï¼Œæ¯ä¸ªå…ƒç´ çš„ä½“ç§¯æ˜¯1çš„è¯â€¦â€¦ä½†äº‹å®æ˜¯æˆ‘æä¸å‡ºæ¥OTZâ€¦â€¦ç„¶åå°±å»çœ‹é¢˜è§£äº†OTZ</p>
<p>æ­£ç¡®åšæ³•æ˜¯è´ªå¿ƒã€‚å› ä¸ºæˆ‘ä»¬è¦æ±‚çš„æ˜¯$\Sigma\ t_i\times \ min(b_i)$çš„æœ€å¤§å€¼ï¼Œè€Œè¦è®©è¯¥å€¼æœ€å¤§ï¼Œæˆ‘ä»¬åº”è¯¥è´ªå¿ƒåœ°é€‰æ‹©æ›´å¤§çš„$t_i$ã€‚å…·ä½“æ¥è¯´å°±æ˜¯ï¼Œå…ˆå¯¹æ‰€æœ‰å…ƒç´ æŒ‰ç…§$b$å€¼ä»å°åˆ°å¤§æ’ä¸ªåºï¼Œç„¶åä»å·¦åˆ°å³æ‰«æè¿™äº›å…ƒç´ ï¼ˆæ’åºçš„ç›®çš„æ˜¯ä¸ºäº†ä¿è¯æ‰«è¿‡å»æ—¶å–åˆ°çš„$b_i$ä¸€å®šä¸å¤§äºä¸Šä¸€æ¬¡å–åˆ°çš„$b_i$ï¼Œä¹Ÿå°±æ˜¯ä¿è¯å–å¾—æœ€å°çš„$b_i$ï¼‰ï¼Œç„¶ååœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œç”¨ä¼˜å…ˆé˜Ÿåˆ—ç»´æŠ¤$t$å€¼å‰kå¤§çš„å…ƒç´ ã€‚åœ¨é€‰æ‹©å…ƒç´ çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå½“å‰è¢«é€‰å…ƒç´ çš„ä¸ªæ•°å¤§äº$k$ï¼Œå°±æŠŠé˜Ÿåˆ—ä¸­$t$å€¼æœ€å°çš„popå‡ºå»ï¼Œå¹¶æ›´æ–°ç­”æ¡ˆã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> t,b;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> node&amp; nb)&#123;</span><br><span class="line">        <span class="keyword">return</span> b&lt;nb.b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">node ns[<span class="number">3</span>*maxn];</span><br><span class="line">priority_queue&lt;<span class="keyword">int</span>,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;,greater&lt;<span class="keyword">int</span>&gt;&gt; que;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,k;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;k;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;ns[i].t&gt;&gt;ns[i].b;</span><br><span class="line">    sort(ns+<span class="number">1</span>,ns+n+<span class="number">1</span>);</span><br><span class="line">    ll ans=<span class="number">-1</span>;ll sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n;i&gt;=<span class="number">1</span>;i--)&#123;</span><br><span class="line">        sum+=ns[i].t;</span><br><span class="line">        que.push(ns[i].t);</span><br><span class="line">        <span class="keyword">while</span>(que.<span class="built_in">size</span>()&gt;k)&#123;</span><br><span class="line">            sum-=que.top();</span><br><span class="line">            que.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        ans=<span class="built_in">max</span>(ans,sum*ns[i].b);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>(æˆ–è®¸è¿™é¢˜ç¡®å®èƒ½ç”¨dpå§â€¦â€¦)</p>
<p><a href="https://cn.vjudge.net/problem/CodeForces-1140D" rel="external nofollow noopener noreferrer" target="_blank">Minimum Triangulation</a></p>
<p>é¢˜æ„æ˜¯è¯´ï¼Œå¯¹äºä¸€ä¸ªå¤šè¾¹å½¢ï¼Œé¦–å…ˆæŒ‰é¡ºæ—¶é’ˆé¡ºåºä»1å¼€å§‹å¯¹é¡¶ç‚¹è¿›è¡Œæ’åºã€‚ç„¶åæˆ‘ä»¬å°†ä»–åˆ†å‰²æˆè‹¥å¹²ä¸ªä¸é‡å çš„ä¸‰è§’å½¢ï¼Œå¹¶è§„å®šï¼Œå¯¹äºæ¯ä¸ªä¸‰è§’å½¢ï¼Œå…¶æƒé‡ä¸ºä¸‰ä¸ªé¡¶ç‚¹çš„åºå·çš„ä¹˜ç§¯ã€‚é—®å¦‚ä½•åˆ†å‰²è¯¥å¤šè¾¹å½¢å¯ä»¥ä½¿å¾—å…¶ä¸‰è§’å½¢æƒé‡å’Œæœ€å°ã€‚</p>
<p>emmmmmâ€¦â€¦å¤§æ°´é¢˜<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    ll ans=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> n;<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">3</span>)&#123;</span><br><span class="line">        ans=<span class="number">6</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(n==<span class="number">4</span>)&#123;</span><br><span class="line">        ans=<span class="number">18</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(ll i=<span class="number">2</span>;i&lt;n;i++)</span><br><span class="line">            ans+=i*(i+<span class="number">1</span>);    </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><a href="https://cn.vjudge.net/problem/CodeForces-1139A" rel="external nofollow noopener noreferrer" target="_blank">Even Substrings</a></p>
<p>emmmmmä¹Ÿæ˜¯å¤§æ°´é¢˜<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="built_in">string</span> str;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;str;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;<span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;str.<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp=str[i]-<span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">if</span>(tmp%<span class="number">2</span>==<span class="number">0</span>)</span><br><span class="line">            ans+=i+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><a href="https://cn.vjudge.net/problem/CodeForces-1139B" rel="external nofollow noopener noreferrer" target="_blank">Chocolates</a></p>
<p>é¢˜æ„æ˜¯è¯´å¯¹äºä¸€ä¸ªåºåˆ—$a_n$,å¯ä»¥ä»ç¬¬iä¸ªä½ç½®å–å‡º$x_i(x_i&lt;=a_i)$ï¼Œä»è€Œå½¢æˆä¸€ä¸ªæ–°çš„åºåˆ—$x_n$ï¼Œè¯¥åºåˆ—å¿…é¡»æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ä¸­è‡³å°‘ä¸€ä¸ª:</p>
<ul>
<li>$x_i=0$</li>
<li>è‹¥$i&lt;j$ï¼Œåˆ™$x_i&lt;x_j$</li>
</ul>
<p>ä¾ç„¶æ˜¯å¤§æ°´é¢˜â€¦â€¦</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line">ll arr[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    ll n;<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;arr[i];</span><br><span class="line">    ll ans=<span class="number">0</span>;</span><br><span class="line">    ans+=arr[n];ll tmp=arr[n];</span><br><span class="line">    <span class="keyword">for</span>(ll i=n<span class="number">-1</span>;i&gt;=<span class="number">1</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i]&lt;tmp)&#123;</span><br><span class="line">            tmp=arr[i];</span><br><span class="line">            ans+=arr[i];</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(tmp<span class="number">-1</span>&gt;<span class="number">0</span>)</span><br><span class="line">                tmp--;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                tmp=<span class="number">0</span>;</span><br><span class="line">            ans+=tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>Codeforces</category>
      </categories>
      <tags>
        <tag>Codeforces</tag>
        <tag>æ°´é¢˜</tag>
        <tag>æ€ç»´é¢˜</tag>
        <tag>æ°´é¢˜ä¸æ°´</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºç¡€dpä¸“é¢˜æ€»ç»“ Part 1</title>
    <url>/2019/07/28/%E5%9F%BA%E7%A1%80dp%E4%B8%93%E9%A2%98%E6%80%BB%E7%BB%93-Part-1/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/H814b65cf7389427c925e1c64354420a29.jpg" alt></p>
<p>Photo by Suvan Chowdhury from Pexels<br><a id="more"></a></p>
<h4 id="HDU1024-Max-Sum-Plus-Plus"><a href="#HDU1024-Max-Sum-Plus-Plus" class="headerlink" title="HDU1024 Max Sum Plus Plus"></a><a href="https://cn.vjudge.net/problem/HDU-1024" rel="external nofollow noopener noreferrer" target="_blank">HDU1024 Max Sum Plus Plus</a></h4><p>é¢˜æ„æ˜¯è¯´ï¼Œå¯¹äºä¸€ä¸ªåºåˆ—$S$ï¼Œæ‰¾å‡º$m$ä¸ªæ•°å¯¹$(i_1,j_1)$ï¼Œ$(i_2,j_2)$ï¼Œ$(i_3,j_3)$ï¼ŒÂ·Â·Â·Â·Â·Â·,$(i_m,j_m)$ï¼Œä½¿å¾—è¿™äº›æ•°å¯¹å¯¹åº”çš„åŒºé—´å’Œçš„å’Œæœ€å¤§ï¼Œä¹Ÿå°±æ˜¯è®©$Sum=sum(i_1,j_1)+sum(i_2,j_2)+sum(i_3,j_3)+â€¦+sum(i_m,j_m)$æœ€å¤§ã€‚è¾“å‡ºè¯¥æœ€å¤§å’Œã€‚</p>
<p>é¦–å…ˆï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º</p>
<script type="math/tex; mode=display">
dp[i][j]=max(dp[i][j-1]+arr[j],max(dp[i-1][k])+arr[j])\\
0<k<j</script><p>$dp[i][j]$è¡¨ç¤ºå°†å‰$j$ä¸ªæ•°åˆ†æˆ$i$ç»„ï¼Œ$dp[i][j-1]+arr[j]$è¡¨ç¤ºå‰jä¸ªæ•°åˆ†æˆ$i$ç»„ï¼Œç¬¬$j$ä¸ªæ•°æ”¾åœ¨ç¬¬$i$ç»„é‡Œé¢ï¼›$max(dp[i-1][k])+arr[j]$è¡¨ç¤ºä»å‰$j-1$ä¸ªæ•°ä¸­å–å‡º$k$ä¸ªæ•°ï¼Œå°†ä»–ä»¬åˆ†æˆ$i-1$ç»„ï¼Œç„¶åç¬¬$j$ä¸ªæ•°è‡ªæˆä¸€ç»„ï¼Œæ€»å…±$i$ç»„ã€‚</p>
<p>ä½†å¦‚æœåªæ˜¯å•çº¯è¿™æ ·åšçš„è¯ï¼Œç”±äºæ•°æ®èŒƒå›´æ¯”è¾ƒå¤§$(1 â‰¤ x â‰¤ n â‰¤ 1000000)$ï¼Œè¿™ç§$O(n^3)$çš„åšæ³•è‚¯å®šä¼šè¶…æ—¶ï¼Œå› æ­¤è¦åšä¸€å®šçš„ä¼˜åŒ–ã€‚</p>
<p>æ–¹æ³•æ˜¯ï¼Œå¦å¤–å¼€ä¸€ä¸ª$maxi_[]$æ•°ç»„ï¼Œç”¨æ¥å­˜æ”¾$dp[i-1]$ä¸­çš„æœ€å¤§å€¼ã€‚$maxi_[j-1]$æ ‡è¯†çš„å°±æ˜¯å½“å‰$dp[i-1]$ä¸­çš„æœ€å¤§å€¼ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug cout&lt;&lt;<span class="meta-string">"debug"</span>&lt;&lt;endl;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> arr[maxn];</span><br><span class="line"><span class="keyword">int</span> dp[maxn];</span><br><span class="line"><span class="keyword">int</span> maxi_[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m,n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;m,&amp;n)!=EOF)&#123;</span><br><span class="line">        <span class="keyword">int</span> ans=-INF;</span><br><span class="line">        mst(dp,<span class="number">0</span>);mst(maxi_,<span class="number">0</span>);</span><br><span class="line">        mst(arr,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;arr[i]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">            ans=-INF;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;=n;j++)&#123;</span><br><span class="line">                dp[j]=<span class="built_in">max</span>(dp[j<span class="number">-1</span>]+arr[j],maxi_[j<span class="number">-1</span>]+arr[j]);</span><br><span class="line">                maxi_[j<span class="number">-1</span>]=ans;</span><br><span class="line">                ans=<span class="built_in">max</span>(ans,dp[j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="HDU1029-lgnatius-and-the-Princess-IV"><a href="#HDU1029-lgnatius-and-the-Princess-IV" class="headerlink" title="HDU1029 lgnatius and the Princess IV"></a><a href="https://cn.vjudge.net/problem/HDU-1029" rel="external nofollow noopener noreferrer" target="_blank">HDU1029 lgnatius and the Princess IV</a></h4><p>é¢˜æ„æ˜¯è¯´ï¼Œç»™å‡ºä¸€ä¸ªå¥‡æ•°Nï¼Œä»¥åŠä¸€ä¸ªé•¿åº¦ä¸ºNçš„æ•´æ•°åºåˆ—ï¼Œé—®åºåˆ—ä¸­å‡ºç°æ¬¡æ•°è‡³å°‘ä¸º$\frac{N+1}{2}$çš„æ•°æ˜¯ä»€ä¹ˆ</p>
<ul>
<li>å¯ä»¥ç›´æ¥ç”¨mapåš</li>
<li>ä½†æ—¢ç„¶æ˜¯dpä¸“é¢˜ï¼Œè‚¯å®šè¦ç”¨dpæ¥åšğŸ¦†</li>
</ul>
<p>dpåšæ³•æ¶‰åŠåˆ°äº†ä¸€ä¸ªå«åšæ‘©å°”æŠ•ç¥¨ç®—æ³•çš„ä¸œè¥¿ã€‚äº‹å®ä¸Šè¿™é“é¢˜å°±æ˜¯è¯¥ç®—æ³•çš„æ¿å­é¢˜ã€‚ä¸‹é¢å…ˆä¸Šä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug cout&lt;&lt;<span class="meta-string">"debug"</span>&lt;&lt;endl;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> arr[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)!=EOF)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;arr[i]);</span><br><span class="line">        <span class="keyword">int</span> cnt=<span class="number">0</span>;<span class="keyword">int</span> ans;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cnt==<span class="number">0</span>)&#123;</span><br><span class="line">                ans=arr[i];</span><br><span class="line">                cnt++;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(ans==arr[i])</span><br><span class="line">                    cnt++;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    cnt--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœ‰ä¸€ç§éå¸¸é€šä¿—æ˜“æ‡‚çš„æ–¹æ³•è§£é‡Šè¯¥ç®—æ³•ï¼šå°†æ¯ä¸€ç§æ•°æƒ³è±¡æˆæ˜¯ä¸€ä¸ªé˜µè¥çš„å£«å…µï¼Œå½“ä¸€ä¸ªé˜µè¥çš„å£«å…µé‡åˆ°å¦ä¸€ä¸ªé˜µè¥çš„å£«å…µæ—¶ï¼ŒåŒæ–¹ä¼šå‘ç”Ÿæˆ˜æ–—ï¼Œä¸”ç»“æœä¸€å®šæ˜¯åŒå½’äºå°½ã€‚$cnt$å…¶å®å°±æ˜¯åœ¨ç»Ÿè®¡ä¸€ä¸ªé˜µè¥çš„å£«å…µæ•°ç›®ã€‚å½“æ‰€æœ‰å£«å…µéƒ½æˆ˜æ–—è¿‡ä¸€æ¬¡åï¼ˆä¹Ÿå°±æ˜¯åºåˆ—è¢«éå†å®Œäº†ï¼‰ï¼Œå‰©ä¸‹çš„å£«å…µå°±æ˜¯æˆ‘ä»¬è¦æ±‚çš„æ•°ã€‚</p>
<h4 id="HDU1069-Monkey-and-Banana"><a href="#HDU1069-Monkey-and-Banana" class="headerlink" title="HDU1069 Monkey and Banana"></a><a href="https://cn.vjudge.net/problem/HDU-1069" rel="external nofollow noopener noreferrer" target="_blank">HDU1069 Monkey and Banana</a></h4><p>é¢˜ç›®å¤§æ„æ˜¯è¯´ï¼Œæœ‰è‹¥å¹²ç§æ–¹å—ï¼Œå¯¹äºæ¯ä¸€ç§æ–¹å—ï¼Œå¯ä»¥ä»¥å®ƒçš„ä»»æ„ä¸€ä¸ªé¢ä¸ºåº•é¢ã€‚ç°åœ¨è¦æ±‚ä½¿ç”¨è¿™è‹¥å¹²ç§æ–¹å—å †æˆä¸€åº§å¡”ï¼Œè¦æ±‚æ˜¯æ¯ä¸€ä¸ªæ–¹å—æ­£ä¸Šæ–¹çš„é‚£ä¸ªæ–¹å—çš„åº•é¢é•¿å’Œå®½å¿…é¡»ä¸¥æ ¼å°äºå½“å‰æ–¹å—é¡¶é¢çš„é•¿å’Œå®½ã€‚</p>
<p>emmmmmmmmè¿™é¢˜å°±æ˜¯Uvaçš„é‚£é“å·´æ¯”ä¼¦å¡”å•Šâ€¦â€¦å°±æ”¹äº†ä¸€ä¸‹é¢˜ç›®æè¿°ï¼Œè¿æ ·ä¾‹éƒ½æ²¡æ”¹hhhhhã€‚</p>
<p>åšæ³•å°±æ˜¯æ±‚DAGä¸Šçš„æœ€é•¿è·¯ï¼Œdfs+è®°å¿†åŒ–å³å¯ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">20005</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> bs[<span class="number">35</span>][<span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">35</span>][<span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_</span><span class="params">(<span class="keyword">int</span> arr[],<span class="keyword">int</span> idx,<span class="keyword">int</span> hidx)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=<span class="number">3</span>;j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(j!=hidx)&#123;</span><br><span class="line">            arr[cnt++]=bs[idx][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span> idx,<span class="keyword">int</span> hidx)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span>&amp; ans=dp[idx][hidx];</span><br><span class="line">    <span class="keyword">if</span>(ans!=<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> b1[<span class="number">2</span>],b2[<span class="number">2</span>];</span><br><span class="line">    get_(b1,idx,hidx);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=<span class="number">3</span>;j++)&#123;</span><br><span class="line">            get_(b2,i,j);</span><br><span class="line">            <span class="keyword">if</span>((b2[<span class="number">0</span>]&lt;b1[<span class="number">0</span>]&amp;&amp;b2[<span class="number">1</span>]&lt;b1[<span class="number">1</span>])||(b2[<span class="number">1</span>]&lt;b1[<span class="number">0</span>]&amp;&amp;b2[<span class="number">0</span>]&lt;b1[<span class="number">1</span>]))</span><br><span class="line">                ans=<span class="built_in">max</span>(ans,solve(i,j));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ans+=bs[idx][hidx];</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> kase=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&amp;&amp;n)&#123;</span><br><span class="line">        mst(bs,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=<span class="number">3</span>;j++)&#123;</span><br><span class="line">                <span class="built_in">cin</span>&gt;&gt;bs[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">            sort(bs[i]+<span class="number">1</span>,bs[i]+<span class="number">4</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        mst(dp,<span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=<span class="number">3</span>;j++)&#123;</span><br><span class="line">                ans=<span class="built_in">max</span>(ans,solve(i,j));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"Case "</span>&lt;&lt;++kase&lt;&lt;<span class="string">": maximum height = "</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">//Case 1: maximum height = 40</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="HDU1074-Doing-Homework"><a href="#HDU1074-Doing-Homework" class="headerlink" title="HDU1074 Doing Homework"></a><a href="https://cn.vjudge.net/problem/HDU-1074" rel="external nofollow noopener noreferrer" target="_blank">HDU1074 Doing Homework</a></h4><p>ä¸€é“çŠ¶å‹dpçš„é¢˜ç›®ï¼Œåˆšçœ‹åˆ°é¢˜ç›®çš„æ—¶å€™çœŸçš„æ²¡æœ‰æƒ³åˆ°æ˜¯çŠ¶å‹dpâ€¦â€¦å› ä¸ºå½“æ—¶æˆ‘è¿˜ä¸ä¼šçŠ¶å‹â€¦â€¦çœ‹äº†é¢˜è§£ï¼Œæ‰çŸ¥é“è¿™é¢˜è¦ç”¨çŠ¶å‹ã€‚äºæ˜¯å»å­¦äº†ä¸€æ³¢ï¼Œåšäº†å‡ é“å…¥é—¨é¢˜ï¼Œç„¶åæ‰æ¥åšè¿™é“é¢˜ã€‚</p>
<p>è¿™é¢˜çš„é¢˜è§£å·²ç»åœ¨ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« ä¸­æœ‰å†™åˆ°äº†ï¼Œæ•…è´´å‡ºé“¾æ¥ï¼Œä¸å†èµ˜è¿°</p>
<p><a href="https://xtayex.github.io/2019/07/22/%E7%8A%B6%E5%8E%8Bdp%E6%80%BB%E7%BB%93-%E6%9B%B4%E6%96%B0%E4%B8%AD/" rel="external nofollow noopener noreferrer" target="_blank">çŠ¶å‹dpæ€»ç»“</a></p>
<h4 id="HDU1087-Super-Jumping-Jumping-Jumping"><a href="#HDU1087-Super-Jumping-Jumping-Jumping" class="headerlink" title="HDU1087 Super Jumping! Jumping! Jumping!"></a><a href="https://cn.vjudge.net/problem/HDU-1087" rel="external nofollow noopener noreferrer" target="_blank">HDU1087 Super Jumping! Jumping! Jumping!</a></h4><p>å…¶å®å°±æ˜¯æ±‚æœ€å¤§å’Œä¸Šå‡å­åºåˆ—ï¼Œä¹Ÿå°±æ˜¯å¯¹äºç»™å®šçš„åºåˆ—ï¼Œæ‰¾å‡ºä¸€ä¸ªå­åºåˆ—ï¼Œä½¿å¾—è¯¥å­åºåˆ—çš„æ€»å’Œæœ€å¤§ã€‚è¾“å‡ºè¯¥æœ€å¤§å’Œã€‚</p>
<p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º:</p>
<script type="math/tex; mode=display">
dp[i]=max(dp[j]+arr[i],dp[i]),\ 0 â‰¤j<i</script><p>$dp[i]$è¡¨ç¤ºç”±å‰$i$ä¸ªæ•°ç»„æˆçš„åºåˆ—çš„æœ€å¤§å’Œä¸Šå‡å­åºåˆ—å’Œä¸ºå¤šå°‘ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> arr[<span class="number">1005</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1005</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&amp;&amp;n)&#123;</span><br><span class="line">        mst(arr,<span class="number">0</span>);mst(dp,-INF);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;arr[i];</span><br><span class="line">        <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">        dp[<span class="number">1</span>]=arr[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            dp[i]=arr[i];</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;i;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(arr[j]&lt;arr[i])&#123;</span><br><span class="line">                    dp[i]=<span class="built_in">max</span>(dp[i],dp[j]+arr[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            ans=<span class="built_in">max</span>(dp[i],ans);</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="HDU1114-Piggy-Bank"><a href="#HDU1114-Piggy-Bank" class="headerlink" title="HDU1114 Piggy-Bank"></a><a href="https://cn.vjudge.net/problem/HDU-1114" rel="external nofollow noopener noreferrer" target="_blank">HDU1114 Piggy-Bank</a></h4><p>å®Œå…¨èƒŒåŒ…æ¨¡æ¿é¢˜ï¼Œä¹‹å‰çš„é¢˜è§£ä¸­å·²æœ‰æåŠåˆ°æ­¤é¢˜ï¼Œä¸åœ¨èµ˜è¿°ã€‚</p>
<p><a href="https://xtayex.github.io/2019/02/17/POJ1384-Piggy-Bank/" rel="external nofollow noopener noreferrer" target="_blank">POJ1384 - Piggy Bank</a></p>
<h4 id="HDU1176-å…è´¹é¦…é¥¼"><a href="#HDU1176-å…è´¹é¦…é¥¼" class="headerlink" title="HDU1176 å…è´¹é¦…é¥¼"></a><a href="https://cn.vjudge.net/problem/HDU-1176" rel="external nofollow noopener noreferrer" target="_blank">HDU1176 å…è´¹é¦…é¥¼</a></h4><p>é¢˜æ„æ˜¯è¯´ï¼Œæœ‰è‹¥å¹²ä¸ªé¦…é¥¼æ‰è½ï¼Œé¦…é¥¼$p_i$ä¼šåœ¨æ—¶é—´$t_i$æ‰è½åˆ°ä½ç½®$x_i$å¤„ã€‚åˆå§‹æ—¶ä½ ä½äºä½ç½®5ï¼Œæ¯ç§’é’Ÿä½ åªå¯ä»¥å¾€å·¦æˆ–å¾€å³ç§»åŠ¨ä¸€ä¸ªå•ä½ï¼Œé—®èƒ½å¤Ÿæ¥åˆ°çš„é¦…é¥¼æ•°ç›®æ˜¯å¤šå°‘ã€‚</p>
<script type="math/tex; mode=display">
dp[i][j]=max(dp[i+1][j],max(dp[i+1][j-1],dp[i+1][j+1]))+bs[i][j]</script><p>$dp[i][j]$è¡¨ç¤ºåœ¨æ—¶é—´$i$ã€ä½ç½®$j$æ¥åˆ°çš„æœ€å¤šé¦…é¥¼æ•°ï¼›$bs[i][j]$è¡¨ç¤ºåœ¨æ—¶é—´$i$ï¼Œä½ç½®$j$æ‰åˆ°åœ°ä¸Šçš„é¦…é¥¼çš„æ•°ç›®ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">100000</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> bs[maxn][<span class="number">15</span>];        <span class="comment">//æ—¶é—´,ä½ç½® </span></span><br><span class="line"><span class="keyword">int</span> dp[maxn][<span class="number">15</span>];        <span class="comment">//æ—¶é—´,ä½ç½® </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)!=EOF&amp;&amp;n)&#123;</span><br><span class="line">        <span class="keyword">int</span> ubt=-INF;mst(bs,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> x,t;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;x,&amp;t);</span><br><span class="line">            bs[t][x]++;</span><br><span class="line">            ubt=<span class="built_in">max</span>(ubt,t);</span><br><span class="line">        &#125;</span><br><span class="line">        mst(dp,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=ubt;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;=<span class="number">10</span>;j++)&#123;</span><br><span class="line">                dp[i][j]=<span class="built_in">max</span>(dp[i+<span class="number">1</span>][j],<span class="built_in">max</span>(dp[i+<span class="number">1</span>][j<span class="number">-1</span>],dp[i+<span class="number">1</span>][j+<span class="number">1</span>]))+bs[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans=dp[<span class="number">0</span>][<span class="number">5</span>];</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="HDU1260-Tickets"><a href="#HDU1260-Tickets" class="headerlink" title="HDU1260 Tickets"></a><a href="https://cn.vjudge.net/problem/HDU-1260" rel="external nofollow noopener noreferrer" target="_blank">HDU1260 Tickets</a></h4><p>é¢˜æ„æ˜¯è¯´ï¼Œå¯¹äºä¸€ä¸ªæ•´æ•°åºåˆ—ï¼Œæœ‰ä¸¤ç§æ“ä½œï¼Œä¸€ç§æ˜¯åˆ é™¤å½“å‰çš„ä¸€ä¸ªæ•°ï¼Œä¸€ç§æ˜¯åˆ é™¤ç›¸é‚»çš„ä¸¤ä¸ªæ•°ï¼Œä¸¤ç§æ“ä½œéƒ½å¯¹åº”ä¸€å®šçš„è´¹ç”¨ã€‚ç°åœ¨è¦æ±‚ä»å·¦åˆ°å³è¿›è¡Œæ“ä½œï¼Œé—®å°†æ‰€æœ‰æ•°åˆ é™¤æ‰æ‰€éœ€è¦çš„æœ€å°è´¹ç”¨æ˜¯å¤šå°‘ã€‚</p>
<p>ç›´æ¥è½¬ç§»å³å¯</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">2005</span>;</span><br><span class="line"><span class="keyword">int</span> t1[maxn],t2[maxn];</span><br><span class="line"><span class="keyword">int</span> dp[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Time</span><span class="params">(<span class="keyword">int</span> todo)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tmp=todo;</span><br><span class="line">    <span class="keyword">int</span> mins=todo/<span class="number">60</span>;</span><br><span class="line">    <span class="keyword">int</span> hr=<span class="number">8</span>+mins/<span class="number">60</span>;</span><br><span class="line">    <span class="keyword">int</span> sec=todo%<span class="number">60</span>%<span class="number">60</span>;</span><br><span class="line">    mins%=<span class="number">60</span>;</span><br><span class="line">    <span class="keyword">int</span> htmp=hr;</span><br><span class="line">    <span class="keyword">if</span>(hr&gt;<span class="number">12</span>)        hr-=<span class="number">12</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%02d:%02d:%02d "</span>,hr,mins,sec);</span><br><span class="line">    <span class="keyword">if</span>(htmp&lt;<span class="number">12</span>)        <span class="built_in">printf</span>(<span class="string">"am\n"</span>);</span><br><span class="line">    <span class="keyword">else</span>        <span class="built_in">printf</span>(<span class="string">"pm\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,k;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="keyword">while</span>(n--)</span><br><span class="line">    &#123;    </span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">        <span class="built_in">memset</span>(t1,<span class="number">0</span>,<span class="keyword">sizeof</span>(t1));</span><br><span class="line">        <span class="built_in">memset</span>(t2,<span class="number">0</span>,<span class="keyword">sizeof</span>(t2));</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;k);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=k;i++)        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t1[i]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=k<span class="number">-1</span>;i++)        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t2[i]);</span><br><span class="line">        dp[<span class="number">1</span>]=t1[<span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">2</span>]=<span class="built_in">min</span>(t1[<span class="number">1</span>]+t1[<span class="number">2</span>],t2[<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">3</span>;i&lt;=k;i++)&#123;</span><br><span class="line">            dp[i]=<span class="built_in">min</span>(dp[i<span class="number">-1</span>]+t1[i],dp[i<span class="number">-2</span>]+t2[i<span class="number">-1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans=dp[k];</span><br><span class="line">        Time(ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="HDU1257-æœ€å°‘æ‹¦æˆªç³»ç»Ÿ"><a href="#HDU1257-æœ€å°‘æ‹¦æˆªç³»ç»Ÿ" class="headerlink" title="HDU1257 æœ€å°‘æ‹¦æˆªç³»ç»Ÿ"></a><a href="https://cn.vjudge.net/problem/HDU-1257" rel="external nofollow noopener noreferrer" target="_blank">HDU1257 æœ€å°‘æ‹¦æˆªç³»ç»Ÿ</a></h4><p>é¢˜ç›®æ˜¯è¯´ï¼Œå¯¹äºä¸€è¿ä¸²å¯¼å¼¹ï¼Œä¸€å¥—æ‹¦æˆªç³»ç»Ÿæ‰€èƒ½æ‹¦æˆªçš„å¯¼å¼¹çš„é«˜åº¦ä¸èƒ½å¤§äºè¯¥ç³»ç»Ÿä¸Šä¸€æ¬¡æ‹¦æˆªçš„å¯¼å¼¹çš„é«˜åº¦ã€‚é—®è¦æ‹¦æˆªæ‰€æœ‰çš„å¯¼å¼¹ï¼Œæœ€å°‘è¦å¤šå°‘å¥—æ‹¦æˆªç³»ç»Ÿã€‚</p>
<p>è¿™é¢˜ç›´æ¥è´ªå¿ƒæ¨¡æ‹Ÿå³å¯ï¼Œå¯¹äºæ¯ä¸€å‘å¯¼å¼¹ï¼Œæ£€æŸ¥å½“å‰å­˜åœ¨çš„æ‹¦æˆªç³»ç»Ÿæ˜¯å¦å¯ä»¥å°†å…¶æ‹¦æˆªã€‚å¦‚æœå­˜åœ¨ä¸€å¥—æ‹¦æˆªç³»ç»Ÿå¯ä»¥å°†è¯¥å¯¼å¼¹æ‹¦æˆªï¼Œå°±å°†æ­¤ç³»ç»Ÿçš„é«˜åº¦æ”¹ä¸ºè¯¥å¯¼å¼¹çš„é«˜åº¦ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œå°±æ·»åŠ ä¸€å¥—ç³»ç»Ÿï¼Œå¹¶å°†å…¶é«˜åº¦è®¾ä¸ºå½“å‰å¯¼å¼¹çš„é«˜åº¦ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> arr[maxn];</span><br><span class="line"><span class="keyword">int</span> sys[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;arr[i];</span><br><span class="line">        <span class="keyword">int</span> cnt=<span class="number">0</span>;sys[cnt++]=arr[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">bool</span> flag=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;cnt;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(sys[j]&gt;=arr[i])&#123;</span><br><span class="line">                    flag=<span class="number">1</span>;sys[j]=arr[i];</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(!flag)</span><br><span class="line">                sys[cnt++]=arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;cnt&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œå› ä¸ºsysæ•°ç»„æ˜¯å•è°ƒä¸å‡çš„ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥å°†å†…å±‚å¾ªç¯ä¼˜åŒ–ä¸ºäºŒåˆ†ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> arr[maxn];</span><br><span class="line"><span class="keyword">int</span> sys[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;arr[i];</span><br><span class="line">        <span class="keyword">int</span> cnt=<span class="number">0</span>;sys[cnt++]=arr[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span>* pos=lower_bound(sys,sys+cnt,arr[i]);</span><br><span class="line">            <span class="keyword">int</span> idx=pos-sys;</span><br><span class="line">            <span class="keyword">if</span>(pos==sys+cnt)</span><br><span class="line">                sys[cnt++]=arr[i];</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                sys[idx]=arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;cnt&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>åŸºç¡€DP</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>åŸºç¡€DP</tag>
      </tags>
  </entry>
  <entry>
    <title>å¢å¡æ–¯å®šç†ä¸ä¸­å›½å‰©ä½™å®šç†</title>
    <url>/2019/01/28/%E5%8D%A2%E5%8D%A1%E6%96%AF%E5%AE%9A%E7%90%86%E4%B8%8E%E4%B8%AD%E5%9B%BD%E5%89%A9%E4%BD%99%E5%AE%9A%E7%90%86/</url>
    <content><![CDATA[<h4 id="å¢å¡æ–¯å®šç†"><a href="#å¢å¡æ–¯å®šç†" class="headerlink" title="å¢å¡æ–¯å®šç†"></a>å¢å¡æ–¯å®šç†</h4><p>&emsp;&emsp;å¢å¡æ–¯å®šç†ä¸»è¦æ˜¯ç”¨æ¥æ±‚ç»„åˆæ•°å–æ¨¡ï¼Œå³C(n,m)%pã€‚å…¶é€‚ç”¨èŒƒå›´æ˜¯:ç»„åˆæ•°å¾ˆå¤§ï¼Œä½†påˆä¸æ˜¯å¾ˆå¤§ä¸”pæ˜¯ç´ æ•°çš„æƒ…å†µ(10^6+3ä¹Ÿç®—æ˜¯â€œä¸å¾ˆå¤§â€) ã€‚å¢å¡æ–¯å®šç†å¯ä»¥è¡¨è¾¾ä¸º:<br><a id="more"></a><br><img src="https://pic.superbed.cn/item/5c4ea00b5f3e509ed97ce0f6" alt></p>
<p>åœ¨å†™ä»£ç æ—¶ï¼Œå¯ä»¥ç”¨é€’å½’å®ç°:<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">LL <span class="title">lucas</span><span class="params">(LL a,LL b,LL p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> !b?<span class="number">1</span>:lucas(a/p,b/p,p)*comb(a%p,b%p,p)%p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä¸ºä»€ä¹ˆå¯ä»¥è½¬åŒ–ä¸ºlucas(a/p,b/p,p) * comb(a%p,b%p,p)%pè¿™ä¸ªé€’å½’å‘¢ï¼Ÿçœ‹è¿™é‡ŒğŸ‘‡<br><img src="https://pic.superbed.cn/item/5c4ea0d75f3e509ed97ce5e1" alt><br><img src="https://pic.superbed.cn/item/5c4ea0f25f3e509ed97ce666" alt></p>
<p>å› æ­¤ï¼Œå¯ä»¥åˆ©ç”¨è¿™æ ·çš„ä¸€ä¸ªé€’å½’å®ç°ã€‚<br>åœ¨è¿™é‡Œï¼Œcomb()æ˜¯æ±‚ç»„åˆæ•°å–æ¨¡çš„å‡½æ•°(é€‚ç”¨äºå°ç»„åˆæ•°)ï¼Œä»£ç ä¸º<br><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">LL comb(LL n,LL m,LL p)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;m||m&lt;<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    LL up=<span class="number">1</span>;</span><br><span class="line">    LL down=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(LL <span class="built_in">i</span>=n-m+<span class="number">1</span>;<span class="built_in">i</span>&lt;=n;<span class="built_in">i</span>++)</span><br><span class="line">        up=(up*<span class="built_in">i</span>)<span class="comment">%p;</span></span><br><span class="line">    <span class="keyword">for</span>(LL <span class="built_in">i</span>=<span class="number">1</span>;<span class="built_in">i</span>&lt;=m;<span class="built_in">i</span>++)</span><br><span class="line">        down=(down*<span class="built_in">i</span>)<span class="comment">%p;</span></span><br><span class="line">    <span class="keyword">return</span> up*inv(down,p)<span class="comment">%p;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è€Œinv()æ˜¯æ±‚downçš„é€†å…ƒçš„å‡½æ•°ï¼ŒåŸç†æ˜¯åˆ©ç”¨å¿«é€Ÿå¹‚æ±‚a^(p-2)ã€‚</p>
<h4 id="ä¸­å›½å‰©ä½™å®šç†"><a href="#ä¸­å›½å‰©ä½™å®šç†" class="headerlink" title="ä¸­å›½å‰©ä½™å®šç†"></a>ä¸­å›½å‰©ä½™å®šç†</h4><p>&emsp;&emsp;ä¸­å›½å‰©ä½™å®šç†åˆè¢«ç§°ä¸ºå­™å­å®šç†ï¼Œå®ƒæ¥è‡ªäºä¸€ä¸ªè€³ç†Ÿèƒ½è¯¦çš„æ•°å­¦é—®é¢˜ï¼šä»Šæœ‰ç‰©ä¸çŸ¥å…¶æ•°ï¼Œä¸‰ä¸‰æ•°ä¹‹å‰©äºŒï¼Œäº”äº”æ•°ä¹‹å‰©ä¸‰ï¼Œä¸ƒä¸ƒæ•°ä¹‹å‰©äºŒã€‚é—®ç‰©å‡ ä½•ï¼Ÿã€‚è½¬æ¢ä¸ºæ•°å­¦å¼å­ï¼Œå³ä¸ºä»¥ä¸‹è¿™ä¸ªä¸€å…ƒçº¿æ€§åŒä½™æ–¹ç¨‹ç»„<br><img src="https://pic.superbed.cn/item/5c4ea2b05f3e509ed97cf145" alt><br>é‚£ä¹ˆï¼Œè¦å¦‚ä½•æ±‚è§£è¿™ä¸ªæ–¹ç¨‹ç»„å‘¢ï¼Ÿ<br><img src="https://pic.superbed.cn/item/5c4ea3675f3e509ed97cf50c" alt><br>(æˆ‘è‡ªå·±è‡³ä»Šè¿˜æ˜¯ä¸å¤ªæ‡‚æ€ä¹ˆæ±‚è§£OTZ)<br>å› æ­¤ï¼Œåªéœ€è¦æ±‚kM+âˆ‘(i=1,n)ai x ti x Miå³å¯</p>
<p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">LL <span class="title">china</span><span class="params">(<span class="keyword">int</span> k,LL a[],LL m[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LL M=<span class="number">1</span>;LL ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k;i++)</span><br><span class="line">        M*=m[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        LL tmp=M/m[i];        <span class="comment">//tmp==&gt;mi        </span></span><br><span class="line">        ans=(ans+mulq(tmp*inv(tmp,m[i]),a[i],M))%M;        <span class="comment">//ti==&gt;ti*mi=1 (mod mi)</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (ans+M)%M;            <span class="comment">//é€šè§£ä¸ºkM+âˆ‘(i=0,k)(ai*ti*Mi) </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>æ•°è®º</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>æ•°è®º</tag>
      </tags>
  </entry>
  <entry>
    <title>å¿«é€Ÿä¹˜ç®—æ³•</title>
    <url>/2019/01/28/%E5%BF%AB%E9%80%9F%E4%B9%98%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<p>&emsp;&emsp;åŸç†ä¸å¿«é€Ÿå¹‚ç›¸ä¼¼ï¼Œåˆ©ç”¨äºŒè¿›åˆ¶å°†ä¸¤ä¸ªæ•°çš„ä¹˜æ³•è¿ç®—è½¬åŒ–ä¸ºåŠ æ³•è¿ç®—ã€‚å…·ä½“ä»£ç å¦‚ä¸‹:<br><a id="more"></a><br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">mul</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>)</span><br><span class="line">            ans+=a;</span><br><span class="line">        a+=a;</span><br><span class="line">        b&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åŠ ä¸Šå–æ¨¡çš„è¯æ˜¯è¿™æ ·:<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">mul</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>)</span><br><span class="line">            ans=(ans+a)%p;</span><br><span class="line">        a=(a+a)%p;</span><br><span class="line">        b&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>&emsp;&emsp;å¿«é€Ÿä¹˜å…¶å®æ˜¯åˆ©ç”¨äº†äºŒè¿›åˆ¶ä¸ä¹˜æ³•åˆ†é…å¾‹ã€‚ä»¥ 2 x 7 ä¸ºä¾‹ï¼Œå› ä¸º 7(10) = 111(2) = 100(2)+ 010(2) + 001(2) = 4(10)+2(10)+1(10)ï¼Œä¹Ÿå°±æ˜¯ 2 x 7 = 2 x ( 4 + 2 + 1 ) = 8 + 4 + 2ï¼Œä»è€Œå°†ä¹˜æ³•è½¬åŒ–ä¸ºåŠ æ³•(å¯¹äºè®¡ç®—æœºè€Œè¨€ï¼Œç®—åŠ æ³•è¦æ¯”ç®—ä¹˜æ³•å¿«å¾—å¤š) </p>
<p>&emsp;&emsp;æˆ‘ä»¬å†å°†å¿«é€Ÿå¹‚ä¸å¿«é€Ÿä¹˜å¯¹æ¯”ä¸€ä¸‹:<br>å¿«é€Ÿå¹‚:<br><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">int</span> fpow(<span class="built_in">int</span> a,<span class="built_in">int</span> b)</span><br><span class="line">&#123;    </span><br><span class="line">    <span class="built_in">int</span> ans=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>)</span><br><span class="line">            ans*=a;</span><br><span class="line">        a*=a;</span><br><span class="line">        b&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å¿«é€Ÿä¹˜:<br><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">int</span> mul(<span class="built_in">int</span> a,<span class="built_in">int</span> b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>)</span><br><span class="line">            ans+=a;</span><br><span class="line">        a+=a;</span><br><span class="line">        b&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å¯ä»¥å‘ç°ï¼Œä¸¤è€…ä¹‹é—´çš„å·®åˆ«åªæœ‰åŠ å·ä¸ä¹˜å·çš„å·®åˆ«ã€‚è¿™æ˜¯å› ä¸ºï¼Œä¹˜æ³•å°±æ˜¯è‹¥å¹²æ¬¡åŠ æ³•ï¼Œè€Œæ±‚å¹‚å°±æ˜¯è‹¥å¹²æ¬¡ä¹˜æ³•ã€‚</p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºç¡€dpä¸“é¢˜æ€»ç»“ Part 2</title>
    <url>/2019/07/28/%E5%9F%BA%E7%A1%80dp%E4%B8%93%E9%A2%98%E6%80%BB%E7%BB%93-Part-2/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/H7073915b94cb45789270cb9ac2829fb6e.jpg" alt><br><a id="more"></a></p>
<h4 id="HDU1160-FatMouseâ€™s-Speed"><a href="#HDU1160-FatMouseâ€™s-Speed" class="headerlink" title="HDU1160 FatMouseâ€™s Speed"></a><a href="https://cn.vjudge.net/problem/HDU-1160" rel="external nofollow noopener noreferrer" target="_blank">HDU1160 FatMouseâ€™s Speed</a></h4><p>é¢˜æ„æ˜¯è¯´ï¼Œæœ‰ä¸¤ä¸ªæ•´æ•°åºåˆ—$W$å’Œ$S$ï¼Œè¦æ±‚æ‰¾å‡ºä¸€ç»„ä¸‹æ ‡$m_1,m_2,m_3,Â·Â·Â·,m_n$ï¼Œä½¿å¾—<script type="math/tex">W[m_1]<W[m_2]<W[m_3]<Â·Â·Â·<W[m_n]</script>ä¸”<script type="math/tex">S[m_1]>S[m_2]>S[m_3]>Â·Â·Â·>S[m_n]</script>ã€‚ä¸‹æ ‡çš„ä¸ªæ•°åº”å°½å¯èƒ½åœ°å¤šã€‚è¦æ±‚è¾“å‡ºä¸‹æ ‡çš„ä¸ªæ•°ä»¥åŠè¢«é€‰å‡ºçš„ä¸‹æ ‡ã€‚</p>
<p>å¯¹æ‰€æœ‰çš„$W-S$å¯¹è¿›è¡Œæ’åºï¼Œæ’åºè§„åˆ™æ˜¯æŒ‰$W$ä¸ºç¬¬ä¸€å…³é”®å­—ä»å°åˆ°å¤§æ’åºï¼ŒæŒ‰$S$ä¸ºç¬¬äºŒå…³é”®å­—ä»å¤§åˆ°å°æ’åºã€‚è€Œdpçš„æ–¹æ³•å…¶å®è·ŸLISæˆ–è€…æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œæ˜¯å¾ˆåƒçš„ã€‚å…³äºè¾“å‡ºè¢«é€‰å–çš„ä¸‹æ ‡ï¼Œå…¶å®å°±æ˜¯è®°å½•è·¯å¾„ï¼Œåªéœ€è¦ç”¨ä¸€ä¸ªpreæ•°ç»„è®°å½•ä¸‹æ¯ä¸€ä¸ªä¸‹æ ‡çš„å‰é©±ï¼Œç„¶åé€’å½’å›å»å³å¯ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> wei;</span><br><span class="line">    <span class="keyword">int</span> speed;</span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> node&amp; nn)<span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(wei!=nn.wei)</span><br><span class="line">            <span class="keyword">return</span> wei&lt;nn.wei;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> speed&gt;nn.speed;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">node ns[<span class="number">1005</span>];</span><br><span class="line"><span class="keyword">int</span> pre[<span class="number">1005</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1005</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">(<span class="keyword">int</span> todo)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(pre[todo]==<span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;ns[todo].id&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    show(pre[todo]);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ns[todo].id&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> w,s;<span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> ID=<span class="number">0</span>;</span><br><span class="line">    mst(pre,<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;w&gt;&gt;s)&#123;</span><br><span class="line">        ns[cnt].wei=w;</span><br><span class="line">        ns[cnt].id=++ID;</span><br><span class="line">        ns[cnt++].speed=s;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(ns,ns+cnt);</span><br><span class="line">    <span class="keyword">int</span> idx=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> last=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;cnt;i++)&#123;</span><br><span class="line">        dp[i]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;i;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(ns[j].wei&lt;ns[i].wei&amp;&amp;ns[j].speed&gt;ns[i].speed)&#123;</span><br><span class="line">                <span class="keyword">if</span>(dp[i]&lt;dp[j]+<span class="number">1</span>)&#123;</span><br><span class="line">                    dp[i]=dp[j]+<span class="number">1</span>;</span><br><span class="line">                    pre[i]=j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> tmp=ans;</span><br><span class="line">        ans=<span class="built_in">max</span>(ans,dp[i]);</span><br><span class="line">        <span class="keyword">if</span>(ans!=tmp)</span><br><span class="line">            last=i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    show(last);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="POJ1015-Jury-Compromise"><a href="#POJ1015-Jury-Compromise" class="headerlink" title="POJ1015 Jury Compromise"></a><a href="https://cn.vjudge.net/problem/POJ-1015" rel="external nofollow noopener noreferrer" target="_blank">POJ1015 Jury Compromise</a></h4><p>å·²æœ‰é¢˜è§£ï¼Œä¸å†èµ˜è¿°ï¼ˆç¡®å®æ˜¯é“å¥½é¢˜ï¼‰</p>
<p><a href="https://xtayex.github.io/2019/07/22/POJ1015-Jury-Compromise/" rel="external nofollow noopener noreferrer" target="_blank">POJ1015 - Jury Compromise</a></p>
<h4 id="POJ1458-Common-Subsequence"><a href="#POJ1458-Common-Subsequence" class="headerlink" title="POJ1458 Common Subsequence"></a><a href="https://cn.vjudge.net/problem/POJ-1458" rel="external nofollow noopener noreferrer" target="_blank">POJ1458 Common Subsequence</a></h4><p>é¢˜å¦‚å…¶åï¼Œæœ€é•¿å…¬å…±å­åºåˆ—ã€‚ç›´æ¥å†™å°±å¯ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1005</span>][<span class="number">1005</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> sa,sb;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;sa&gt;&gt;sb)&#123;</span><br><span class="line">        mst(dp,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> lena=sa.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">int</span> lenb=sb.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=lena;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=lenb;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(sa[i<span class="number">-1</span>]==sb[j<span class="number">-1</span>])</span><br><span class="line">                    dp[i][j]=dp[i<span class="number">-1</span>][j<span class="number">-1</span>]+<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    dp[i][j]=<span class="built_in">max</span>(dp[i<span class="number">-1</span>][j],dp[i][j<span class="number">-1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;dp[lena][lenb]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="POJ1661-Help-Jimmy"><a href="#POJ1661-Help-Jimmy" class="headerlink" title="POJ1661 Help Jimmy"></a><a href="https://cn.vjudge.net/problem/POJ-1661" rel="external nofollow noopener noreferrer" target="_blank">POJ1661 Help Jimmy</a></h4><p>é¢˜ç›®å¤§æ„ä¸çŸ¥é“æ€ä¹ˆæè¿°â€¦â€¦</p>
<p>æ€è·¯å°±æ˜¯ä»æœ€ä¸‹é¢çš„å¹³å°å¾€ä¸Šdpï¼Œ$dp[i][0]$è¡¨ç¤ºçš„æ˜¯ä»å½“å‰å¹³å°å¾€å·¦èµ°ä¸€ç›´åˆ°ä¸‹ä¸€ä¸ªå¹³å°çš„è¾¹ç¼˜ï¼ˆå·¦è¾¹ç¼˜æˆ–å³è¾¹ç¼˜ï¼‰æ‰€éœ€è¦çš„æœ€å°æ—¶é—´ã€‚$dp[i][1]$è¡¨ç¤ºçš„æ˜¯ä»å½“å‰å¹³å°å¾€å³èµ°ä¸€ç›´åˆ°ä¸‹ä¸€ä¸ªå¹³å°çš„è¾¹ç¼˜ï¼ˆå·¦è¾¹ç¼˜æˆ–å³è¾¹ç¼˜ï¼‰æ‰€éœ€è¦çš„æœ€å°æ—¶é—´ã€‚æ­¤å¤„çš„æœ€å°æ—¶é—´æŒ‡çš„æ˜¯ä»æœ€ä¸‹é¢çš„å¹³å°ä¸€ç›´é€’æ¨åˆ°å½“å‰å¹³å°çš„æ€»æ—¶é—´ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> lef,rig;</span><br><span class="line">    <span class="keyword">int</span> hei;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> node&amp; nn)<span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> hei&gt;nn.hei;        <span class="comment">//ä»å¤§åˆ°å° </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">node ns[<span class="number">1005</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1005</span>][<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> n,x,y,maxi;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">left_</span><span class="params">(<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> k;</span><br><span class="line">    <span class="keyword">for</span>(k=i+<span class="number">1</span>;k&lt;=n+<span class="number">1</span>;k++)&#123;        <span class="comment">//kåœ¨iä¸‹é¢ </span></span><br><span class="line">        <span class="keyword">if</span>(ns[k].lef&lt;=ns[i].lef</span><br><span class="line">        &amp;&amp;ns[k].rig&gt;=ns[i].lef</span><br><span class="line">        &amp;&amp;ns[i].hei-ns[k].hei&lt;=maxi)&#123;</span><br><span class="line">            <span class="keyword">if</span>(k==n+<span class="number">1</span>)</span><br><span class="line">                dp[i][<span class="number">0</span>]=ns[i].hei-ns[k].hei;</span><br><span class="line">            <span class="keyword">else</span>    </span><br><span class="line">                dp[i][<span class="number">0</span>]=ns[i].hei-ns[k].hei+<span class="built_in">min</span>(dp[k][<span class="number">0</span>]+ns[i].lef-ns[k].lef,dp[k][<span class="number">1</span>]+ns[k].rig-ns[i].lef);</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(ns[i].hei-ns[k].hei&gt;maxi)</span><br><span class="line">        dp[i][<span class="number">0</span>]=INF;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">right_</span><span class="params">(<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> k;</span><br><span class="line">    <span class="keyword">for</span>(k=i+<span class="number">1</span>;k&lt;=n+<span class="number">1</span>;k++)&#123;        <span class="comment">//kåœ¨iä¸‹é¢ </span></span><br><span class="line">        <span class="keyword">if</span>(ns[k].lef&lt;=ns[i].rig</span><br><span class="line">        &amp;&amp;ns[k].rig&gt;=ns[i].rig</span><br><span class="line">        &amp;&amp;ns[i].hei-ns[k].hei&lt;=maxi)&#123;</span><br><span class="line">            <span class="keyword">if</span>(k==n+<span class="number">1</span>)</span><br><span class="line">                dp[i][<span class="number">1</span>]=ns[i].hei-ns[k].hei;</span><br><span class="line">            <span class="keyword">else</span>    </span><br><span class="line">                dp[i][<span class="number">1</span>]=ns[i].hei-ns[k].hei+<span class="built_in">min</span>(dp[k][<span class="number">0</span>]+ns[i].rig-ns[k].lef,dp[k][<span class="number">1</span>]+ns[k].rig-ns[i].rig);</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(ns[i].hei-ns[k].hei&gt;maxi)</span><br><span class="line">        dp[i][<span class="number">1</span>]=INF;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        mst(dp,<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;x&gt;&gt;y&gt;&gt;maxi;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;ns[i].lef&gt;&gt;ns[i].rig&gt;&gt;ns[i].hei;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(ns+<span class="number">1</span>,ns+<span class="number">1</span>+n);</span><br><span class="line">        dp[n+<span class="number">1</span>][<span class="number">0</span>]=dp[n+<span class="number">1</span>][<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">        ns[n+<span class="number">1</span>].lef=-INF;ns[n+<span class="number">1</span>].rig=INF;ns[n+<span class="number">1</span>].hei=<span class="number">0</span>;</span><br><span class="line">        ns[<span class="number">0</span>].lef=ns[<span class="number">0</span>].rig=x;ns[<span class="number">0</span>].hei=y;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=n;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">            left_(i);</span><br><span class="line">            right_(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans=<span class="built_in">min</span>(dp[<span class="number">0</span>][<span class="number">1</span>],dp[<span class="number">0</span>][<span class="number">0</span>]);        </span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="POJ2533-Longest-Ordered-Subsequence"><a href="#POJ2533-Longest-Ordered-Subsequence" class="headerlink" title="POJ2533 Longest Ordered Subsequence"></a><a href="https://cn.vjudge.net/problem/POJ-2533" rel="external nofollow noopener noreferrer" target="_blank">POJ2533 Longest Ordered Subsequence</a></h4><p>é¢˜å¦‚å…¶åï¼Œç›´æ¥è½¬ç§»å³å¯ã€‚æ³¨æ„åˆå§‹åŒ–ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1005</span>];</span><br><span class="line"><span class="keyword">int</span> arr[<span class="number">1005</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> n;<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    mst(dp,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;arr[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)    dp[i]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;i;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[j]&lt;arr[i])&#123;</span><br><span class="line">                dp[i]=<span class="built_in">max</span>(dp[i],dp[j]+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        ans=<span class="built_in">max</span>(ans,dp[i]);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="POJ3186-Treats-for-the-Cows"><a href="#POJ3186-Treats-for-the-Cows" class="headerlink" title="POJ3186 Treats for the Cows"></a><a href="https://cn.vjudge.net/problem/POJ-3186" rel="external nofollow noopener noreferrer" target="_blank">POJ3186 Treats for the Cows</a></h4><p>é¢˜æ„æ‡’å¾—æè¿°äº†â€¦â€¦</p>
<p>$dp[i][j]$è¡¨ç¤ºçš„æ˜¯åŒºé—´$[i,j]$æ‰€èƒ½è·å¾—çš„æœ€å¤§ä»·å€¼ã€‚</p>
<p>åšæ³•æ˜¯ç›´æ¥è½¬ç§»è¿‡å»å³å¯ã€‚æ³¨æ„åˆå§‹åŒ–å’Œè½¬ç§»é¡ºåºã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> arr[<span class="number">2005</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">2005</span>][<span class="number">2005</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> n;<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;arr[i],dp[i][i]=arr[i];</span><br><span class="line">    mst(dp,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> age=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n<span class="number">-1</span>;i&gt;=<span class="number">1</span>;i--)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;=n;j++)</span><br><span class="line">            dp[i][j]=<span class="built_in">max</span>(dp[i+<span class="number">1</span>][j]+arr[i]*(n-j+i),dp[i][j<span class="number">-1</span>]+arr[j]*(n-j+i));</span><br><span class="line">    <span class="keyword">int</span> ans=dp[<span class="number">1</span>][n];</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="HDU1078-FatMouse-and-the-Cheese"><a href="#HDU1078-FatMouse-and-the-Cheese" class="headerlink" title="HDU1078 FatMouse and the Cheese"></a><a href="https://cn.vjudge.net/problem/HDU-1078" rel="external nofollow noopener noreferrer" target="_blank">HDU1078 FatMouse and the Cheese</a></h4><p>é¢˜ç›®å¤§æ„æ˜¯è¯´ï¼Œç°åœ¨æœ‰$n \times n$ä¸ªç½‘æ ¼ï¼Œè¿™äº›ç½‘æ ¼ä¸­æœ‰è‹¥å¹²ä¸ªç½‘æ ¼æ”¾æœ‰cheeseã€‚ä»ç½‘æ ¼$(0,0)$å‡ºå‘ï¼Œæ¯æ¬¡èµ°åˆ°ä¸‹ä¸€ä¸ªæ”¾æœ‰cheeseçš„åœ°æ–¹ï¼Œå¯ä»¥æ°´å¹³èµ°ã€å‚ç›´èµ°ï¼Œå¯ä»¥å›å¤´ï¼Œæ¯æ¬¡æœ€å¤šèµ°$k$æ­¥ï¼›åŒæ—¶ï¼Œæ¯ä¸€æ¬¡è·å¾—çš„cheeseéƒ½åº”è¯¥æ¯”ä¸Šä¸€æ¬¡å¤šï¼Œé—®æœ€ç»ˆæœ€å¤šèƒ½å¾—åˆ°å¤šå°‘cheeseã€‚</p>
<p>ä¸€å¼€å§‹æƒ³ç€çŠ¶æ€è¦æ€ä¹ˆè½¬ç§»ï¼Œæ„Ÿè§‰è¿™é¢˜çš„è§„åˆ™æŒºå¤šï¼Œä¸å¤ªå¥½è½¬ç§»â€¦â€¦ç„¶è€Œå®é™…ä¸Šåªéœ€è¦è®°å¿†åŒ–+çˆ†æœ+ç®€å•dpå³å¯ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> mp[<span class="number">1005</span>][<span class="number">1005</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1005</span>][<span class="number">1005</span>];</span><br><span class="line"><span class="keyword">int</span> dir[<span class="number">4</span>][<span class="number">2</span>]=&#123;&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">int</span> n,k;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(dp[x][y])    <span class="keyword">return</span> dp[x][y];</span><br><span class="line">    <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> tx=<span class="number">0</span>;<span class="keyword">int</span> ty=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=k;j++)&#123;</span><br><span class="line">            tx=x+j*dir[i][<span class="number">0</span>];</span><br><span class="line">            ty=y+j*dir[i][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span>(tx&lt;n&amp;&amp;<span class="number">0</span>&lt;=tx&amp;&amp;ty&lt;n&amp;&amp;<span class="number">0</span>&lt;=ty)&#123;</span><br><span class="line">                <span class="keyword">if</span>(mp[tx][ty]&gt;mp[x][y])</span><br><span class="line">                    sum=<span class="built_in">max</span>(sum,dfs(tx,ty));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dp[x][y]=sum+mp[x][y];</span><br><span class="line">    <span class="keyword">return</span> dp[x][y];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;k&amp;&amp;n!=<span class="number">-1</span>&amp;&amp;k!=<span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">                <span class="built_in">cin</span>&gt;&gt;mp[i][j];</span><br><span class="line">        mst(dp,<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;dfs(<span class="number">0</span>,<span class="number">0</span>)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="HDU2859-Phalanx"><a href="#HDU2859-Phalanx" class="headerlink" title="HDU2859 Phalanx"></a><a href="https://cn.vjudge.net/problem/HDU-2859" rel="external nofollow noopener noreferrer" target="_blank">HDU2859 Phalanx</a></h4><p>é¢˜ç›®å¤§æ„æ˜¯è¯´ï¼Œä»ä¸€ä¸ªçŸ©é˜µä¸­æ‰¾å‡ºä¸€ä¸ªå…³äºè‡ªèº«å³å¯¹è§’çº¿ï¼ˆä»å³ä¸Šåˆ°å·¦ä¸‹ï¼‰å¯¹ç§°çš„å­çŸ©é˜µï¼Œé—®èƒ½æ‰¾åˆ°çš„ç¬¦åˆè¦æ±‚çš„æœ€å¤§å­çŸ©é˜µçš„å¤§å°æ˜¯å¤šå°‘ã€‚</p>
<p>$dp[i][j]$è¡¨ç¤ºå¦‚æœ$(i,j)$å¤„çš„å…ƒç´ æ˜¯æŸä¸ªå­çŸ©é˜µçš„å·¦ä¸‹è§’ï¼Œé‚£ä¹ˆå¯¹åº”çš„å­çŸ©é˜µçš„å¤§å°æ˜¯å¤šå°‘ã€‚</p>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">char</span> mp[<span class="number">1005</span>][<span class="number">1005</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1005</span>][<span class="number">1005</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&amp;&amp;n)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="built_in">string</span> str;<span class="built_in">cin</span>&gt;&gt;str;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">                mp[i][j]=str[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"1"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        mst(dp,<span class="number">0</span>);<span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">                <span class="keyword">int</span> x=i<span class="number">-1</span>;<span class="keyword">int</span> y=j+<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">while</span>(x&gt;=<span class="number">0</span>&amp;&amp;y&lt;n)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(mp[x][j]!=mp[i][y])</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    x--;y++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">int</span> sz=y-j;</span><br><span class="line">                <span class="keyword">if</span>(sz&gt;dp[i<span class="number">-1</span>][j+<span class="number">1</span>])</span><br><span class="line">                    dp[i][j]=dp[i<span class="number">-1</span>][j+<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    dp[i][j]=sz; </span><br><span class="line">                ans=<span class="built_in">max</span>(ans,dp[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="POJ3616-Miking-Time"><a href="#POJ3616-Miking-Time" class="headerlink" title="POJ3616 Miking Time"></a><a href="https://cn.vjudge.net/problem/POJ-3616" rel="external nofollow noopener noreferrer" target="_blank">POJ3616 Miking Time</a></h4><p>å°†æ¯ä¸€ä¸ªæ—¶é—´æ®µçš„ç»“æŸæ—¶é—´åŠ ä¸Šä¼‘æ¯æ—¶é—´ï¼Œå³å¯ç”¨æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œçš„æ€è·¯æ¥åšã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> s,e,eff;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> node&amp; nn)<span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(s!=nn.s)    <span class="keyword">return</span> s&lt;nn.s;</span><br><span class="line">        <span class="keyword">return</span> e&lt;nn.e;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">node ns[<span class="number">1005</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1005</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> n,m,r;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m&gt;&gt;r;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;ns[i].s&gt;&gt;ns[i].e&gt;&gt;ns[i].eff;</span><br><span class="line">        ns[i].e+=r;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(ns+<span class="number">1</span>,ns+<span class="number">1</span>+m);</span><br><span class="line">    mst(dp,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">        dp[i]=ns[i].eff;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;i;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(ns[j].e&lt;=ns[i].s)&#123;</span><br><span class="line">                dp[i]=<span class="built_in">max</span>(dp[j]+ns[i].eff,dp[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">        ans=<span class="built_in">max</span>(ans,dp[i]);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="POJ3666-Making-the-Grade"><a href="#POJ3666-Making-the-Grade" class="headerlink" title="POJ3666 Making the Grade"></a><a href="https://cn.vjudge.net/problem/POJ-3666" rel="external nofollow noopener noreferrer" target="_blank">POJ3666 Making the Grade</a></h4><p>é¢˜ç›®å¤§æ„æ˜¯è¯´ï¼Œå¯¹äºä¸€ä¸ªç»™å®šçš„åºåˆ—ï¼Œç°åœ¨è¦æŠŠå®ƒå˜æˆé€’å¢çš„æˆ–é€’å‡çš„ï¼Œæ¯æ”¹åŠ¨ä¸€ä¸ªæ•°è¦ä»˜å‡ºçš„ä»£ä»·ä¸ºæ”¹åŠ¨åçš„æ•°ä¸æ”¹åŠ¨å‰çš„æ•°çš„å·®çš„ç»å¯¹å€¼ã€‚é—®å¦‚ä½•æ”¹åŠ¨æ‰èƒ½ä½¿å¾—ä»£ä»·æœ€å°ã€‚</p>
<p>é¦–å…ˆï¼Œè¿™é¢˜çš„æ•°æ®æœ‰ç‚¹é—®é¢˜ï¼Œåªéœ€è¦è€ƒè™‘é€’å¢çš„æƒ…å†µâ€¦â€¦</p>
<p>è¿™é¢˜çš„çŠ¶æ€è½¬ç§»ä¹Ÿä¸å¤ªå¥½æƒ³ï¼Œç”šè‡³æ„Ÿè§‰æœ‰ç‚¹â€¦â€¦ç¥å¥‡ã€‚å…·ä½“è§ä»£ç åŠä»£ç æ³¨é‡Š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e3</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">abs_</span><span class="params">(<span class="keyword">int</span> todo)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(todo&lt;<span class="number">0</span>)    <span class="keyword">return</span> -todo;</span><br><span class="line">    <span class="keyword">return</span> todo;    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> arr[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> b[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> dp[maxn&lt;&lt;<span class="number">1</span>][maxn&lt;&lt;<span class="number">1</span>];        <span class="comment">//dp[i][j]è¡¨ç¤ºå‰iä¸ªæ•°,æœ€åä¸€ä¸ªæ•°åœ¨arr[]ä¸­ç¬¬jå° </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> n;<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;arr[i];</span><br><span class="line">        b[i]=arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">    sort(b+<span class="number">1</span>,b+n+<span class="number">1</span>);        <span class="comment">//? ä¸ºä»€ä¹ˆè¦æ’åº?ä¸ºä»€ä¹ˆä¸æ’åºå°±ä¼šä¸è¡Œ? </span></span><br><span class="line">    <span class="comment">//å¦‚æœæ’åºæ˜¯ä¸ºäº†å»é‡ï¼Œé‚£å»é‡çš„æ„ä¹‰æ˜¯ä»€ä¹ˆ?ä»¥åŠï¼Œä¸ºä»€ä¹ˆæˆ‘ä¸å»é‡ä¹Ÿèƒ½è¿‡? </span></span><br><span class="line">    mst(dp,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp=INF;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">            tmp=<span class="built_in">min</span>(dp[i<span class="number">-1</span>][j],tmp);        </span><br><span class="line">            <span class="comment">//k:[1,j],è¿™ä¸€å±‚å¾ªç¯å¯ä»¥çœæ‰,ç»´æŠ¤ä¸€ä¸ªæœ€å°å€¼å³å¯ </span></span><br><span class="line">            <span class="comment">//å¯ä»¥ä¿è¯tmpä¸€å®šæ˜¯èŒƒå›´[1,j]å†…æœ€å°çš„ </span></span><br><span class="line">            dp[i][j]=abs_(arr[i]-b[j])+tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans=INF;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        ans=<span class="built_in">min</span>(ans,dp[n][i]);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>åŸºç¡€DP</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>DP</tag>
        <tag>åŸºç¡€DP</tag>
      </tags>
  </entry>
  <entry>
    <title>å¿«é€Ÿè¯»å…¥æ¨¡æ¿</title>
    <url>/2019/02/18/%E5%BF%AB%E9%80%9F%E8%AF%BB%E5%85%A5%E6%A8%A1%E6%9D%BF/</url>
    <content><![CDATA[<p>ä»£ç å¦‚ä¸‹ğŸ‘‡</p>
<a id="more"></a>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    <span class="keyword">int</span> x=<span class="number">0</span>;<span class="keyword">int</span> sign=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        ch=getchar();</span><br><span class="line">        <span class="keyword">if</span>(ch==<span class="string">'-'</span>)        sign=<span class="number">-1</span>;</span><br><span class="line">    &#125;<span class="keyword">while</span>(ch&gt;<span class="string">'9'</span>||ch&lt;<span class="string">'0'</span>);</span><br><span class="line">    <span class="keyword">while</span>(<span class="string">'0'</span>&lt;=ch&amp;&amp;ch&lt;=<span class="string">'9'</span>)&#123;</span><br><span class="line">        x=x*<span class="number">10</span>+(ch-<span class="string">'0'</span>);</span><br><span class="line">        ch=getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x*sign;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; </span><br><span class="line"><span class="function"><span class="keyword">inline</span> T <span class="title">read_Tp</span><span class="params">(T&amp; x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> ch;x=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sign=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        ch=getchar();</span><br><span class="line">        <span class="keyword">if</span>(ch==<span class="string">'-'</span>)        sign=<span class="number">-1</span>;</span><br><span class="line">    &#125;<span class="keyword">while</span>(ch&gt;<span class="string">'9'</span>||ch&lt;<span class="string">'0'</span>);</span><br><span class="line">    <span class="keyword">while</span>(<span class="string">'0'</span>&lt;=ch&amp;&amp;ch&lt;=<span class="string">'9'</span>)&#123;</span><br><span class="line">        x=x*<span class="number">10</span>+(ch-<span class="string">'0'</span>);</span><br><span class="line">        ch=getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    x*=sign;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a;</span><br><span class="line">    a=read_Tp(a);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;a&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‹“å±•æ¬§å‡ é‡Œå¾—ç®—æ³•</title>
    <url>/2019/02/01/%E6%8B%93%E5%B1%95%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<h4 id="æ™®é€šçš„æ¬§å‡ é‡Œå¾—ç®—æ³•"><a href="#æ™®é€šçš„æ¬§å‡ é‡Œå¾—ç®—æ³•" class="headerlink" title="æ™®é€šçš„æ¬§å‡ é‡Œå¾—ç®—æ³•"></a>æ™®é€šçš„æ¬§å‡ é‡Œå¾—ç®—æ³•</h4><p>&emsp;&emsp;è¿™å¤§æ¦‚æ˜¯æœ€ä¸ºäººç†ŸçŸ¥çš„æ•°è®ºç®—æ³•äº†å§ï¼Œä½œç”¨æ˜¯æ±‚å‡ºgcd(a,b)ï¼Œä»£ç å¦‚ä¸‹:<br><a id="more"></a><br>é€’å½’ç‰ˆæœ¬:<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> !b?a:gcd(b,a%b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å¾ªç¯ç‰ˆæœ¬:<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> tmp=a%b;</span><br><span class="line">        a=b;</span><br><span class="line">        b=tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>&emsp;&emsp;å¦å¤–ï¼Œæ±‚æœ€å¤§å…¬çº¦æ•°è¿˜å¯ä»¥ç”¨åº“å‡½æ•°__gcd(),è¿™æ˜¯GNUé‡Œçš„åº“å‡½æ•°ï¼Œä¸æ˜¯æ ‡å‡†åº“å‡½æ•°ï¼Œå¤´æ–‡ä»¶ä¸º &lt; algorithm &gt;</p>
<h4 id="æ‹“å±•æ¬§å‡ é‡Œå¾—ç®—æ³•"><a href="#æ‹“å±•æ¬§å‡ é‡Œå¾—ç®—æ³•" class="headerlink" title="æ‹“å±•æ¬§å‡ é‡Œå¾—ç®—æ³•"></a>æ‹“å±•æ¬§å‡ é‡Œå¾—ç®—æ³•</h4><p>&emsp;&emsp;è€Œæ‹“å±•æ¬§å‡ é‡Œå¾—ç®—æ³•åˆ™æ˜¯åœ¨ç®—å‡ºa,bçš„æœ€å¤§å…¬çº¦æ•°çš„åŒæ—¶ï¼Œé¡ºå¸¦è®¡ç®—è´ç¥–å…¬å¼çš„ä¸€ç»„è§£ï¼Œå³ax+by=gcd(a,b)çš„è§£( <a href="https://baike.baidu.com/item/%E8%B4%9D%E7%A5%96%E5%AE%9A%E7%90%86/5185441?fr=aladdin" rel="external nofollow noopener noreferrer" target="_blank">è´ç¥–ç­‰å¼</a> )</p>
<p>&emsp;&emsp;é‚£ä¹ˆï¼Œå¦‚æœè¦æ‰‹ç®—ax+by=gcd(a,b)ï¼Œæˆ‘ä»¬è¦æ€ä¹ˆç®—å‘¢?</p>
<p>&emsp;&emsp;é¦–å…ˆï¼Œå› ä¸ºgcd(a,b)=gcd(b,a%b),</p>
<p>&emsp;&emsp;æ‰€ä»¥a x + b y = gcd ( a,b ) = gcd ( b,a%b )= c xâ€™ + d yâ€™ ( å…¶ä¸­ï¼Œc = bï¼Œd = a % b )</p>
<p>&emsp;&emsp;åˆå› ä¸ºa % b = a - (a/b) * b</p>
<p>&emsp;&emsp;æ‰€ä»¥æœ‰a yâ€™ + b ( xâ€™ - (a/b) * y) = a x + b y</p>
<p>&emsp;&emsp;æ¯”è¾ƒä¸¤å¼ï¼Œå¯å¾—x = yâ€™ , y = xâ€™ - ( a / b ) * yâ€™</p>
<p>&emsp;&emsp;åˆå› ä¸ºå½“b = 0æ—¶ï¼Œè§£ä¸ºx = 1 , y = 0ï¼Œæ‰€ä»¥åªè¦é€’å½’æ±‚è§£è‡³b = 0å³å¯</p>
<p>ä»£ç å¦‚ä¸‹:<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">exgcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span>&amp; x,<span class="keyword">int</span>&amp; y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!b)</span><br><span class="line">    &#123;</span><br><span class="line">        x=<span class="number">1</span>;y=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> r=exgcd(b,a%b,x,y);</span><br><span class="line">    <span class="keyword">int</span> tmp=x;</span><br><span class="line">    x=y;</span><br><span class="line">    y=tmp-(a/b)*y;</span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å¦ä¸€ç§å†™æ³•ä¸º:<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">exgcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span>&amp; x,<span class="keyword">int</span>&amp; y)</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="keyword">int</span> r;</span><br><span class="line">    <span class="keyword">if</span>(b==<span class="number">0</span>)&#123;    </span><br><span class="line">        x=<span class="number">1</span>;y=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        r=exgcd(b,a%b,y,x);</span><br><span class="line">        y-=x*(a/b);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>&emsp;&emsp;æ‹“å±•æ¬§å‡ é‡Œå¾—çš„ä¸€ä¸ªä½œç”¨ï¼Œæ˜¯æ±‚å‡ºæ»¡è¶³å½¢å¦‚ax+by=cçš„æ–¹ç¨‹çš„è§£ã€‚æ ¹æ®è´ç¥–ç­‰å¼å¯ä»¥çœ‹å‡ºï¼Œè‹¥c % gcd( a,b ) != 0ï¼Œåˆ™æ–¹ç¨‹æ— è§£ã€‚ä»£ç å¦‚ä¸‹:<br><figure class="highlight gml"><table><tr><td class="code"><pre><span class="line">ll solve(ll a,ll b,ll b)</span><br><span class="line">&#123;</span><br><span class="line">    ll <span class="symbol">x</span>,<span class="symbol">y</span>;</span><br><span class="line">    ll g=exgcd(a,b,<span class="symbol">x</span>,<span class="symbol">y</span>);</span><br><span class="line">    <span class="keyword">if</span>(c%g)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="symbol">x</span>*=c/gcd;</span><br><span class="line">    b/=gcd;</span><br><span class="line">    <span class="keyword">if</span>(b&lt;<span class="number">0</span>)</span><br><span class="line">        b=-b;        <span class="comment">//å¦‚æœb &lt; 0ï¼Œå°±å–å…¶ç»å¯¹å€¼</span></span><br><span class="line">    ll ans=<span class="symbol">x</span>%b;        <span class="comment">//å¦‚æœæ±‚å‡ºçš„è§£å°äº0ï¼Œå°±å°†å…¶åŠ ä¸Šb</span></span><br><span class="line">    <span class="keyword">if</span>(ans&lt;=<span class="number">0</span>)</span><br><span class="line">        ans+=b;</span><br><span class="line">    <span class="keyword">return</span> ans; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>&emsp;&emsp;è¿™ä¸ªç®—æ³•çš„å¦ä¸€ä¸ªä½œç”¨æ˜¯æ±‚æœ€å°é€†å…ƒã€‚æ ¹æ®a x = 1 ( mod p) ==&gt; ax = py + 1 ==&gt; ax + by = 1ï¼Œä¸éš¾çœ‹å‡ºï¼Œæ±‚æœ€å°é€†å…ƒå…¶å®å°±æ˜¯æ±‚ax + by = cçš„è§£çš„ç‰¹æ®Šæƒ…å†µã€‚å› æ­¤ï¼Œåˆ©ç”¨æ‹“å±•æ¬§å‡ é‡Œå¾—æ±‚æœ€å°é€†å…ƒçš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">inv</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="keyword">int</span> g=exgcd(a,bx,y);</span><br><span class="line">    <span class="keyword">if</span>(<span class="number">1</span>%gcd)        </span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    x*=<span class="number">1</span>/g;</span><br><span class="line">    b=<span class="built_in">abs</span>(b);        <span class="comment">//å‡å¦‚bæ˜¯ä¸€ä¸ªè´Ÿæ•°ï¼Œå°±å–bçš„ç»å¯¹å€¼</span></span><br><span class="line">    <span class="keyword">int</span> ans=x%b;    <span class="comment">//å‡å¦‚æ±‚å¾—çš„è§£ä¸æ˜¯æ­£æ•°ï¼Œå°±å°†è§£å¯¹bå–æ¨¡å†åŠ ä¸Šb</span></span><br><span class="line">    <span class="keyword">if</span>(ans&lt;=<span class="number">0</span>)        </span><br><span class="line">        ans+=b;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸€é“æ±‚ax + by = c çš„æ¨¡æ¿é¢˜ï¼š<br><a href="https://cn.vjudge.net/problem/POJ-1061" rel="external nofollow noopener noreferrer" target="_blank">é’è›™çº¦ä¼š</a></p>
<p>æˆ‘çš„ä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exgcd</span><span class="params">(ll a,ll b,ll&amp; d,ll&amp; x,ll&amp; y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!b)&#123;</span><br><span class="line">        d=a;x=<span class="number">1</span>;y=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        exgcd(b,a%b,d,y,x);</span><br><span class="line">        y-=(a/b)*x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">solve</span><span class="params">(ll a,ll b,ll c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll x;ll y;ll g;</span><br><span class="line">    exgcd(a,b,g,x,y);</span><br><span class="line">    <span class="keyword">if</span>(c%g)        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    x=(x*c)/g;</span><br><span class="line">    b/=g;</span><br><span class="line">    <span class="keyword">if</span>(b&lt;<span class="number">0</span>)        b=-b;</span><br><span class="line">    ll ans=x%b;</span><br><span class="line">    <span class="keyword">if</span>(ans&lt;=<span class="number">0</span>)        ans+=b;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll x,y,m,n,L;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld %lld %lld %lld %lld"</span>,&amp;x,&amp;y,&amp;m,&amp;n,&amp;L);</span><br><span class="line">    ll ans=solve(n-m,L,x-y);</span><br><span class="line">    <span class="keyword">if</span>(ans==<span class="number">-1</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Impossible\n"</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><del>ä¸ºä»€ä¹ˆæ±‚ax + by = cçš„ä»£ç å¯ä»¥è¿™æ ·å†™å‘¢ï¼Ÿæˆ‘ä¹Ÿä¸çŸ¥é“å•ŠOTZ(å‘å‡ºäº†æ•°å­¦å¤ªå·®çš„å£°éŸ³)</del></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>æ•°è®º</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>æ•°è®º</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ€å¤§æµï¼Œæœ€å¤§æµæœ€å°å‰²ä¸æœ€å¤§æƒé—­åˆå­å›¾</title>
    <url>/2019/10/10/%E6%9C%80%E5%A4%A7%E6%B5%81%EF%BC%8C%E6%9C%80%E5%A4%A7%E6%B5%81%E6%9C%80%E5%B0%8F%E5%89%B2%E4%B8%8E%E6%9C%80%E5%A4%A7%E6%9D%83%E9%97%AD%E5%90%88%E5%AD%90%E5%9B%BE/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/H5f34d005235d4ae08a65080af36eb1b35.jpg" alt><br><a id="more"></a></p>
<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>å¾ˆä¹…ä¹‹å‰å­¦è¿‡æœ€å¤§æµï¼Œä½†å½“æ—¶ç½‘ç»œæµçš„å­¦ä¹ ä¾¿æ­¢æ­¥äºæ­¤ã€‚å›½åº†æ—¶åšäº†å‡ å¥—å»å¹´ICPC Regionalçš„é¢˜ç›®ï¼Œæœ‰å¥½å‡ é“ç½‘ç»œæµç›¸å…³çš„é¢˜ç›®ï¼Œé‚å†³å®šå¤ä¹ ä¸€ä¸‹æœ€å¤§æµï¼ŒåŒæ—¶å­¦ç‚¹æ–°ä¸œè¥¿</p>
<h3 id="æœ€å¤§æµ"><a href="#æœ€å¤§æµ" class="headerlink" title="æœ€å¤§æµ"></a>æœ€å¤§æµ</h3><p>è§£å†³æœ€å¤§æµé—®é¢˜ä¸»è¦æœ‰FFï¼ŒEKï¼ŒDinicï¼ŒISAPè¿™å››ç§ç®—æ³•ã€‚FFå’ŒEKåœ¨æ—¶é—´å¤æ‚åº¦ä¸Šè¾ƒåŠ£ï¼Œä¸é€‚åˆç”¨æ¥è§£é¢˜ï¼Œæ•…å¤§å¤šæ•°æƒ…å†µä½¿ç”¨çš„éƒ½æ˜¯Dinicå’ŒISAPã€‚è€Œè¿™ä¸¤ç§ç®—æ³•ç›¸æ¯”è¾ƒï¼Œè™½ç„¶ISAPä¼šæ¯”Dinicæ›´å¿«ä¸€ç‚¹ï¼Œä½†ç”±äºç½‘ç»œæµç›¸å…³çš„é¢˜ç›®é‡ç‚¹å¾€å¾€ä¸åœ¨ç®—æ³•å®ç°ï¼Œè€Œåœ¨äºå¦‚ä½•å¯¹é—®é¢˜å»ºæ¨¡ã€‚å†åŠ ä¸ŠDinicçš„æ€è·¯æ¯”ISAPæ›´ç®€æ˜ï¼Œå®ç°ä¹Ÿå¾ˆç®€å•ï¼Œæ•…å®é™…è§£é¢˜æ—¶ï¼ŒDinicä½¿ç”¨å¾—æ›´å¤šä¸€äº›ã€‚</p>
<h4 id="Dinic"><a href="#Dinic" class="headerlink" title="Dinic"></a>Dinic</h4><h5 id="è¯¥ç®—æ³•çš„å¤§è‡´æ­¥éª¤å¦‚ä¸‹ï¼š"><a href="#è¯¥ç®—æ³•çš„å¤§è‡´æ­¥éª¤å¦‚ä¸‹ï¼š" class="headerlink" title="è¯¥ç®—æ³•çš„å¤§è‡´æ­¥éª¤å¦‚ä¸‹ï¼š"></a>è¯¥ç®—æ³•çš„å¤§è‡´æ­¥éª¤å¦‚ä¸‹ï¼š</h5><ol>
<li>è¿è¾¹ï¼Œå»ºç«‹ç½‘ç»œ</li>
<li>BFSå»ºç«‹åˆ†å±‚å›¾</li>
<li>åˆ¤æ–­åˆ†å±‚åæ±‡ç‚¹æ‰€å¤„å±‚æ¬¡æ˜¯å¦ä¸º-1ã€‚è‹¥æ˜¯ï¼Œè¯´æ˜æ­¤æ—¶æ±‡ç‚¹å·²ä¸å¯è¾¾ï¼Œç›´æ¥è¾“å‡ºç­”æ¡ˆï¼›å¦åˆ™ï¼Œè¿›è¡Œä¸‹ä¸€æ­¥</li>
<li>ä¸€è¾¹DFSå®Œæˆæ‰€æœ‰å¢å¹¿ã€‚å¯¹äºç½‘ç»œä¸­çš„æ¯ä¸€æ¡è¾¹ï¼Œéƒ½åŠ ä¸Šå½“å‰çš„æœ€å°æ®‹é‡ï¼ŒåŒæ—¶å¯¹äºæ¯ä¸€æ¡è¾¹çš„åå‘è¾¹ï¼Œéƒ½å‡å»å½“å‰çš„æœ€å°æ®‹é‡ï¼Œå¹¶å°†ç­”æ¡ˆåŠ ä¸Šè¯¥æœ€å°æ®‹é‡ã€‚</li>
<li>è¿”å›æ­¥éª¤2</li>
</ol>
<p>è¯¥ç®—æ³•çš„æœ€åæ—¶é—´å¤æ‚åº¦ä¸ºï¼š$O(n^2 m)$ï¼Œä½†å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯æŒºå¿«çš„</p>
<h5 id="å½“å‰å¼§ä¼˜åŒ–"><a href="#å½“å‰å¼§ä¼˜åŒ–" class="headerlink" title="å½“å‰å¼§ä¼˜åŒ–"></a>å½“å‰å¼§ä¼˜åŒ–</h5><p>æ¯ä¸€æ¬¡åœ¨åšdfsæ—¶ï¼Œå¯¹äºä¸€ä¸ªç‚¹ï¼Œæœ‰å¯èƒ½æœ‰ä¸€äº›è¾¹åœ¨ä¹‹å‰å·²ç»è®¡ç®—è¿‡äº†ï¼Œé‚£æˆ‘ä»¬åœ¨éå†è¿™ä¸ªç‚¹çš„è¾¹çš„æ—¶å€™ï¼Œå°±æ²¡å¿…è¦å†è®¡ç®—é‚£äº›å·²ç»è®¡ç®—è¿‡çš„è¾¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªcur[]æ•°ç»„è®°å½•æŸä¸ªç‚¹å·²ç»è®¡ç®—åˆ°äº†é‚£æ¡è¾¹ã€‚</p>
<h5 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h5><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> head[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> dep[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> cur[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;<span class="keyword">int</span> next;</span><br><span class="line">    <span class="keyword">int</span> wei;</span><br><span class="line">&#125;;</span><br><span class="line">edge es[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cnt=<span class="number">0</span>;mst(head,<span class="number">-1</span>);</span><br><span class="line">    mst(dep,<span class="number">-1</span>);mst(cur,<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> wei)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    es[cnt].to=v;</span><br><span class="line">    es[cnt].wei=wei;</span><br><span class="line">    es[cnt].next=head[u];</span><br><span class="line">    head[u]=cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_edge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> wei)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    add(u,v,wei);</span><br><span class="line">    add(v,u,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; que;</span><br><span class="line">    mst(dep,<span class="number">-1</span>);dep[s]=<span class="number">0</span>;</span><br><span class="line">    que.push(s);</span><br><span class="line">    <span class="keyword">while</span>(!que.empty())&#123;</span><br><span class="line">        <span class="keyword">int</span> u=que.front();</span><br><span class="line">        que.pop();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=head[u];i!=<span class="number">-1</span>;i=es[i].next)&#123;</span><br><span class="line">            <span class="keyword">if</span>(es[i].wei&gt;<span class="number">0</span>&amp;&amp;dep[es[i].to]==<span class="number">-1</span>)&#123;</span><br><span class="line">                dep[es[i].to]=dep[u]+<span class="number">1</span>;</span><br><span class="line">                que.push(es[i].to);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dep[t]!=<span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t,<span class="keyword">int</span> mini)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s==t) <span class="keyword">return</span> mini;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> &amp;i=cur[s];i!=<span class="number">-1</span>;i=es[i].next)&#123;</span><br><span class="line">        <span class="keyword">if</span>(es[i].wei&gt;<span class="number">0</span>&amp;&amp;dep[es[i].to]==dep[s]+<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> d=dfs(es[i].to,t,<span class="built_in">min</span>(es[i].wei,mini));</span><br><span class="line">            <span class="keyword">if</span>(d&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                es[i].wei-=d;</span><br><span class="line">                es[i^<span class="number">1</span>].wei+=d;</span><br><span class="line">                <span class="keyword">return</span> d;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Dinic</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t,<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;<span class="keyword">int</span> tmp;</span><br><span class="line">    <span class="keyword">while</span>(bfs(s,t))&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=n;i++) cur[i]=head[i];</span><br><span class="line">        <span class="keyword">while</span>((tmp=dfs(s,t,INF))&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            ans+=tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m,s,t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d %d %d"</span>,&amp;n,&amp;m,&amp;s,&amp;t);</span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> u,v,w;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>,&amp;u,&amp;v,&amp;w);</span><br><span class="line">        add_edge(u,v,w);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans=Dinic(s,t,n);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="éªŒæ¿å­"><a href="#éªŒæ¿å­" class="headerlink" title="éªŒæ¿å­"></a>éªŒæ¿å­</h5><p><a href="https://www.luogu.org/problem/P3376" rel="external nofollow noopener noreferrer" target="_blank">P3376 ã€æ¨¡æ¿ã€‘ç½‘ç»œæœ€å¤§æµ</a></p>
<h3 id="æœ€å¤§æµæœ€å°å‰²"><a href="#æœ€å¤§æµæœ€å°å‰²" class="headerlink" title="æœ€å¤§æµæœ€å°å‰²"></a>æœ€å¤§æµæœ€å°å‰²</h3><h4 id="ä»€ä¹ˆæ˜¯å‰²-ä»€ä¹ˆæ˜¯æœ€å°å‰²ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å‰²-ä»€ä¹ˆæ˜¯æœ€å°å‰²ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å‰²?ä»€ä¹ˆæ˜¯æœ€å°å‰²ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å‰²?ä»€ä¹ˆæ˜¯æœ€å°å‰²ï¼Ÿ</h4><p>æ‰€è°“çš„å‰²ï¼ŒæŒ‡çš„æ˜¯å¯¹äºä¸€ä¸ªç½‘ç»œä¸Šçš„ä¸€ä¸ªè¾¹é›†ï¼Œå¦‚æœä»ç½‘ç»œä¸Šå°†è¯¥è¾¹é›†ä¸­çš„è¾¹éƒ½åˆ å»åï¼Œä¸å­˜åœ¨ä¸€æ¡ä»æºç‚¹åˆ°æ±‡ç‚¹çš„è·¯ï¼Œåˆ™è¯¥è¾¹é›†ç§°ä¸ºå‰²ã€‚æœ€å°å‰²æŒ‡çš„å°±æ˜¯è¾¹æƒå’Œæœ€å°çš„å‰²</p>
<h4 id="ä¸€ä¸ªç»“è®º"><a href="#ä¸€ä¸ªç»“è®º" class="headerlink" title="ä¸€ä¸ªç»“è®º"></a>ä¸€ä¸ªç»“è®º</h4><center><strong>æœ€å°å‰²&emsp;==&emsp;æœ€å¤§æµ</strong></center>



<p>æˆ‘æ˜¯è¿™ä¹ˆç†è§£è¿™ä¸ªç»“è®ºçš„ï¼šå› ä¸ºå‰²çš„æ„æ€æ˜¯æŒ‡æ‹¿æ‰å‰²é‡Œé¢çš„è¾¹ä»¥åï¼Œå°±ä¸èƒ½æ‰¾åˆ°ä¸€æ¡ä»æºç‚¹åˆ°æ±‡ç‚¹çš„è·¯äº†ï¼Œä¹Ÿå°±æ˜¯è¯´å‰²å°†ç½‘ç»œçš„ä¸¤ä¸ªéƒ¨åˆ†è¿æ¥èµ·æ¥ï¼Œæ‹¿æ‰ä¹‹åç½‘ç»œå°±åˆ†æˆäº†ä¸¤ä¸ªéƒ¨åˆ†ã€‚é‚£æˆ‘ä»¬æ˜¯å¦å¯ä»¥å°†å‰²é›†ä¸­çš„è¾¹åˆå¹¶æˆä¸€æ¡è¾¹å‘¢ï¼Ÿè¿™æ ·å»ç†è§£çš„è¯å°±å¯ä»¥å¾ˆå®¹æ˜“å¾—å‡ºè¿™æ ·ä¸€ä¸ªç»“è®ºï¼šåœ¨æ»¡è¶³æœ€å¤§æµçš„æƒ…å†µä¸‹ï¼Œè¿™ä¸€æ¡è¾¹çš„æµé‡å°±æ˜¯ç­‰äºæœ€å¤§æµã€‚è€Œåˆå› ä¸ºæµé‡ä¸èƒ½è¶…è¿‡å®¹é‡ï¼Œæ•…åœ¨æ»¡è¶³æœ€å¤§æµçš„æƒ…å†µä¸‹ï¼Œä»»æ„ä¸€ä¸ªå‰²çš„å®¹é‡å’Œéƒ½æ˜¯å¤§äºç­‰äºæœ€å¤§æµçš„ã€‚åœ¨è¿™ä¸ªåŸºç¡€ä¸Šï¼Œæˆ‘ä»¬ä¸æ–­åœ°å»æ‰¾å®¹é‡å’Œæ›´å°çš„å‰²ï¼Œæœ€ç»ˆä¸€å®šèƒ½å¤Ÿæ‰¾åˆ°ä¸€ä¸ªå‰²ï¼Œä»–ä»¬çš„å®¹é‡å’Œç­‰äºæœ€å¤§æµã€‚ä¸ºä»€ä¹ˆä¸€å®šèƒ½æ‰¾åˆ°å‘¢ï¼Ÿå› ä¸ºæœ€å¤§æµæ„å‘³ç€æ»¡æµï¼Œæ„å‘³ç€æˆ‘ä»¬å·²ç»æ— æ³•ç»§ç»­å¢å¹¿äº†ã€‚</p>
<h4 id="æ¥é“ä¾‹é¢˜"><a href="#æ¥é“ä¾‹é¢˜" class="headerlink" title="æ¥é“ä¾‹é¢˜"></a>æ¥é“ä¾‹é¢˜</h4><p><a href="https://www.luogu.org/problem/P2774" rel="external nofollow noopener noreferrer" target="_blank">P2774 æ–¹æ ¼å–æ•°</a></p>
<p>ç¬¬ä¸€ååº”æ˜¯è´ªå¿ƒï¼Œéš”ä¸€ä¸ªæ•°å–ä¸€ä¸ªä»€ä¹ˆçš„ã€‚ä½†å¾ˆå®¹æ˜“å°±èƒ½ä¸¾å‡ºåä¾‹ã€‚æ­£ç¡®çš„åšæ³•æ˜¯æŒ‰ç…§$(i+j)$ï¼ˆ$i,j$åˆ†åˆ«æ˜¯è¡Œæ•°å’Œåˆ—æ•°ï¼‰çš„å¥‡å¶æ¥è¿è¾¹æ„å»ºä¸€ä¸ªäºŒåˆ†å›¾ã€‚å¯¹äºä¸€ä¸ªæ–¹æ ¼ï¼Œå¦‚æœå…¶æ‰€åœ¨è¡ŒåŠ ä¸Šæ‰€åœ¨åˆ—<script type="math/tex">row_{cur} + col_{cur}</script>ä¸ºå¥‡æ•°ï¼Œåˆ™å°†å…¶ä¸è¶…çº§æºç‚¹è¿ä¸€æ¡å®¹é‡ä¸º1çš„è¾¹ï¼›å¦‚æœä¸ºå¶æ•°ï¼Œåˆ™å°†å…¶ä¸è¶…çº§æ±‡ç‚¹è¿ä¸€æ¡å®¹é‡ä¸º1çš„è¾¹ã€‚æœ€åï¼Œå¯¹äºå·¦ä¾§çš„å¥‡æ•°ç‚¹ï¼Œå°†å®ƒä»¬ä¸æ‰€æœ‰<strong>ä¸ç¬¦åˆé™åˆ¶çš„ä¸èƒ½å–çš„</strong>å¶æ•°ç‚¹ï¼Œå³ä¸å®ƒä»¬ç›¸é‚»çš„é‚£äº›ç‚¹å„è¿ä¸€æ¡å®¹é‡ä¸ºINFçš„è¾¹ã€‚æœ€åç®—ä¸€éæœ€å°å‰²ï¼Œå°†æ‰€æœ‰æ–¹æ ¼çš„æ•°çš„æ€»å’Œå‡å»æœ€å°å‰²å³ä¸ºç­”æ¡ˆã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug puts(<span class="meta-string">"debug"</span>)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> head[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> dep[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> cur[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;<span class="keyword">int</span> next;</span><br><span class="line">    <span class="keyword">int</span> wei;</span><br><span class="line">&#125;;</span><br><span class="line">edge es[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cnt=<span class="number">0</span>;mst(head,<span class="number">-1</span>);</span><br><span class="line">    mst(dep,<span class="number">-1</span>);mst(cur,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> wei)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    es[cnt].to=v;</span><br><span class="line">    es[cnt].wei=wei;</span><br><span class="line">    es[cnt].next=head[u];</span><br><span class="line">    head[u]=cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_edge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> wei)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    add(u,v,wei);</span><br><span class="line">    add(v,u,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; que;</span><br><span class="line">    mst(dep,<span class="number">-1</span>);dep[s]=<span class="number">0</span>;</span><br><span class="line">    que.push(s);</span><br><span class="line">    <span class="keyword">while</span>(!que.empty())&#123;</span><br><span class="line">        <span class="keyword">int</span> u=que.front();</span><br><span class="line">        que.pop();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=head[u];i!=<span class="number">-1</span>;i=es[i].next)&#123;</span><br><span class="line">            <span class="keyword">if</span>(es[i].wei&gt;<span class="number">0</span>&amp;&amp;dep[es[i].to]==<span class="number">-1</span>)&#123;</span><br><span class="line">                dep[es[i].to]=dep[u]+<span class="number">1</span>;</span><br><span class="line">                que.push(es[i].to);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dep[t]!=<span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t,<span class="keyword">int</span> mini)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s==t) <span class="keyword">return</span> mini;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> &amp;i=cur[s];i!=<span class="number">-1</span>;i=es[i].next)&#123;</span><br><span class="line">        <span class="keyword">if</span>(es[i].wei&gt;<span class="number">0</span>&amp;&amp;dep[es[i].to]==dep[s]+<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> d=dfs(es[i].to,t,<span class="built_in">min</span>(es[i].wei,mini));</span><br><span class="line">            <span class="keyword">if</span>(d&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                es[i].wei-=d;</span><br><span class="line">                es[i^<span class="number">1</span>].wei+=d;</span><br><span class="line">                <span class="keyword">return</span> d;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Dinic</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t,<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;<span class="keyword">int</span> tmp;</span><br><span class="line">    <span class="keyword">while</span>(bfs(s,t))&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=n;i++) cur[i]=head[i];</span><br><span class="line">        <span class="keyword">while</span>((tmp=dfs(s,t,INF))&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            ans+=tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> mp[<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">int</span> n,m;<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=m;j++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;mp[i][j]);</span><br><span class="line">            sum+=mp[i][j]; </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> cntt=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=m;j++,cntt++)&#123;</span><br><span class="line">            <span class="keyword">if</span>((i+j)%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">                add_edge(<span class="number">0</span>,cntt,mp[i][j]);</span><br><span class="line">                <span class="keyword">if</span>(j&lt;m) </span><br><span class="line">                    add_edge(cntt,cntt+<span class="number">1</span>,INF);</span><br><span class="line">                <span class="keyword">if</span>(j&gt;<span class="number">1</span>) </span><br><span class="line">                    add_edge(cntt,cntt<span class="number">-1</span>,INF);</span><br><span class="line">                <span class="keyword">if</span>(i&gt;<span class="number">1</span>) </span><br><span class="line">                    add_edge(cntt,cntt-m,INF);</span><br><span class="line">                <span class="keyword">if</span>(i&lt;n) </span><br><span class="line">                    add_edge(cntt,cntt+m,INF);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                add_edge(cntt,n*m+<span class="number">1</span>,mp[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    debug;</span></span><br><span class="line">    <span class="keyword">int</span> ans=Dinic(<span class="number">0</span>,n*m+<span class="number">1</span>,n*m*<span class="number">2</span>);</span><br><span class="line">    ans=sum-ans;    <span class="comment">//æ€»å’Œå‡å»æœ€å°å‰²</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»è¿™é“é¢˜ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæœ€å°å‰²å¯ä»¥è§£å†³è¿™æ ·çš„ä¸€ç±»é—®é¢˜ï¼Œåœ¨æ»¡è¶³æŸäº›é™åˆ¶çš„æƒ…å†µä¸‹ï¼Œè®¡ç®—å¯ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå‡è®¾æ‰€æœ‰ä»·å€¼éƒ½å¯å–ï¼Œç„¶åå°†é‚£äº›ä¸æ»¡è¶³æƒ…å†µçš„ä½œä¸ºå‰²åˆ å»ï¼Œé‚£ä¹ˆæ±‚æœ€å°å‰²å°±ç­‰ä»·äºæ±‚æœ€å°æŸå¤±ã€‚</p>
<h3 id="æœ€å¤§æƒé—­åˆå­å›¾"><a href="#æœ€å¤§æƒé—­åˆå­å›¾" class="headerlink" title="æœ€å¤§æƒé—­åˆå­å›¾"></a>æœ€å¤§æƒé—­åˆå­å›¾</h3><h4 id="ä»€ä¹ˆæ˜¯æœ€å¤§æƒé—­åˆå­å›¾ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æœ€å¤§æƒé—­åˆå­å›¾ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æœ€å¤§æƒé—­åˆå­å›¾ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æœ€å¤§æƒé—­åˆå­å›¾ï¼Ÿ</h4><p>é¦–å…ˆï¼Œé—­åˆå­å›¾æŒ‡çš„æ˜¯å¯¹äºä¸€ä¸ªå›¾ï¼Œæˆ‘ä»¬ä»ä¸­é€‰å‡ºä¸€ä¸ªå­å›¾ï¼Œå®ƒçš„ä»»æ„ä¸€ä¸ªç‚¹çš„å‡ºåº¦æŒ‡å‘çš„ç‚¹ä»ç„¶åœ¨è¿™ä¸ªå­å›¾å†…ã€‚è€Œæœ€å¤§æƒé—­åˆå­å›¾æŒ‡çš„å°±æ˜¯æ‰€æœ‰é—­åˆå­å›¾ä¸­ç‚¹æƒå’Œæœ€å¤§çš„é‚£ä¸€ä¸ªã€‚</p>
<h4 id="å¦‚ä½•æ±‚æœ€å¤§æƒé—­åˆå­å›¾ï¼Ÿ"><a href="#å¦‚ä½•æ±‚æœ€å¤§æƒé—­åˆå­å›¾ï¼Ÿ" class="headerlink" title="å¦‚ä½•æ±‚æœ€å¤§æƒé—­åˆå­å›¾ï¼Ÿ"></a>å¦‚ä½•æ±‚æœ€å¤§æƒé—­åˆå­å›¾ï¼Ÿ</h4><p>æœ‰ä¸€ä¸ªç»“è®ºï¼Œå¯¹äºä¸€ä¸ªå›¾ï¼Œæ»¡è¶³</p>
<center><strong>æœ€å¤§æƒé—­åˆå­å›¾æƒå€¼=æ‰€æœ‰æƒå€¼ä¸ºæ­£çš„æƒå€¼æ€»å’Œ-æœ€å¤§æµ</strong></center>

<p>è¯æ˜ä¸ä¼šâ€¦â€¦</p>
<p>å¦‚ä½•å¾—åˆ°è¿™æ ·çš„ä¸€ä¸ªå›¾å‘¢ï¼Ÿ</p>
<ol>
<li>æŠ½è±¡å‡ºä¸€ä¸ªè¶…çº§æºç‚¹å’Œä¸€ä¸ªè¶…çº§æ±‡ç‚¹</li>
<li>å°†æƒå€¼ä¸ºæ­£çš„ç‚¹ä¸æºç‚¹è¿è¾¹ï¼Œå®¹é‡åˆ†åˆ«ä¸ºå„ç‚¹ç‚¹æƒ</li>
<li>å°†æƒå€¼ä¸ºè´Ÿçš„ç‚¹ä¸æ±‡ç‚¹è¿è¾¹ï¼Œå®¹é‡åˆ†åˆ«ä¸ºå„ç‚¹ç‚¹æƒçš„ç»å¯¹å€¼</li>
<li>æƒå€¼ä¸º0çš„ç‚¹ä¸åšå¤„ç†</li>
<li>å°†é™¤äº†æºç‚¹å’Œæ±‡ç‚¹ä¹‹å¤–çš„è¾¹æŒ‰ç…§é¢˜ç›®ä¸­çš„å…³ç³»è¿è¾¹ï¼Œå®¹é‡ä¸ºINF</li>
</ol>
<h4 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> head[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> dep[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> cur[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;<span class="keyword">int</span> next;</span><br><span class="line">    <span class="keyword">int</span> wei;</span><br><span class="line">&#125;;</span><br><span class="line">edge es[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cnt=<span class="number">0</span>;mst(head,<span class="number">-1</span>);</span><br><span class="line">    mst(dep,<span class="number">-1</span>);mst(cur,<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> wei)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    es[cnt].to=v;</span><br><span class="line">    es[cnt].wei=wei;</span><br><span class="line">    es[cnt].next=head[u];</span><br><span class="line">    head[u]=cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_edge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> wei)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    add(u,v,wei);</span><br><span class="line">    add(v,u,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; que;</span><br><span class="line">    mst(dep,<span class="number">-1</span>);dep[s]=<span class="number">0</span>;</span><br><span class="line">    que.push(s);</span><br><span class="line">    <span class="keyword">while</span>(!que.empty())&#123;</span><br><span class="line">        <span class="keyword">int</span> u=que.front();</span><br><span class="line">        que.pop();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=head[u];i!=<span class="number">-1</span>;i=es[i].next)&#123;</span><br><span class="line">            <span class="keyword">if</span>(es[i].wei&gt;<span class="number">0</span>&amp;&amp;dep[es[i].to]==<span class="number">-1</span>)&#123;</span><br><span class="line">                dep[es[i].to]=dep[u]+<span class="number">1</span>;</span><br><span class="line">                que.push(es[i].to);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dep[t]!=<span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t,<span class="keyword">int</span> mini)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s==t) <span class="keyword">return</span> mini;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> &amp;i=cur[s];i!=<span class="number">-1</span>;i=es[i].next)&#123;</span><br><span class="line">        <span class="keyword">if</span>(es[i].wei&gt;<span class="number">0</span>&amp;&amp;dep[es[i].to]==dep[s]+<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> d=dfs(es[i].to,t,<span class="built_in">min</span>(es[i].wei,mini));</span><br><span class="line">            <span class="keyword">if</span>(d&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                es[i].wei-=d;</span><br><span class="line">                es[i^<span class="number">1</span>].wei+=d;</span><br><span class="line">                <span class="keyword">return</span> d;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Dinic</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t,<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;<span class="keyword">int</span> tmp;</span><br><span class="line">    <span class="keyword">while</span>(bfs(s,t))&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=n;i++) cur[i]=head[i];</span><br><span class="line">        <span class="keyword">while</span>((tmp=dfs(s,t,INF))&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            ans+=tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> a[maxn&lt;&lt;<span class="number">1</span>],b[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">int</span> n,m;<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;b[i]);        <span class="comment">//å­¦ç”Ÿ </span></span><br><span class="line">    <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;        <span class="comment">//æ´»åŠ¨ </span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]);</span><br><span class="line">        sum+=a[i];</span><br><span class="line">        <span class="keyword">int</span> k;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;k);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=k;j++)&#123;</span><br><span class="line">            <span class="keyword">int</span> v;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;v);</span><br><span class="line">            add_edge(i,v+n,INF);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) add_edge(<span class="number">0</span>,i,a[i]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++) add_edge(i+n,n+m+<span class="number">1</span>,b[i]);</span><br><span class="line">    <span class="keyword">int</span> ans=Dinic(<span class="number">0</span>,n+m+<span class="number">1</span>,n+m+<span class="number">3</span>);</span><br><span class="line">    ans=sum-ans;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æµ‹ä¸€ä¸‹æ¿å­"><a href="#æµ‹ä¸€ä¸‹æ¿å­" class="headerlink" title="æµ‹ä¸€ä¸‹æ¿å­"></a>æµ‹ä¸€ä¸‹æ¿å­</h4><p><a href="https://vjudge.net/problem/HihoCoder-1398" rel="external nofollow noopener noreferrer" target="_blank">ç½‘ç»œæµäº”Â·æœ€å¤§æƒé—­åˆå­å›¾</a></p>
<h3 id="å‚è€ƒåšæ–‡"><a href="#å‚è€ƒåšæ–‡" class="headerlink" title="å‚è€ƒåšæ–‡"></a>å‚è€ƒåšæ–‡</h3><ul>
<li><a href="https://www.cnblogs.com/songorz/p/9642840.html" rel="external nofollow noopener noreferrer" target="_blank">æœ€å¤§æƒé—­åˆå­å›¾</a></li>
<li><a href="https://blog.csdn.net/qq_41357771/article/details/79416899" rel="external nofollow noopener noreferrer" target="_blank">ç½‘ç»œæµã€æœ€å¤§æµ&amp;&amp;æœ€å°å‰²&amp;&amp;è´¹ç”¨æµã€‘â€”â€”ä¸€ç¯‡ç®€å•æ˜“æ‡‚çš„åšæ–‡</a></li>
<li><a href="https://www.cnblogs.com/linzhengmin/p/9313216.html" rel="external nofollow noopener noreferrer" target="_blank">[ç®—æ³•]ç½‘ç»œæœ€å¤§æµDinic<br>å‰è¨€</a></li>
</ul>
]]></content>
      <categories>
        <category>ACM</category>
        <category>å›¾è®º</category>
        <category>ç½‘ç»œæµ</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>ç½‘ç»œæµ</tag>
        <tag>æœ€å¤§æµ</tag>
        <tag>æœ€å¤§æµæœ€å°å‰²</tag>
        <tag>æœ€å¤§æƒé—­åˆå­å›¾</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¬§æ‹‰è·¯ã€æ¬§æ‹‰å›è·¯ä¸Fleuryç®—æ³•</title>
    <url>/2019/02/27/%E6%AC%A7%E6%8B%89%E8%B7%AF%E3%80%81%E6%AC%A7%E6%8B%89%E5%9B%9E%E8%B7%AF%E4%B8%8EFleury%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<h4 id="ä¸€ã€æ¦‚å¿µè§£é‡Š"><a href="#ä¸€ã€æ¦‚å¿µè§£é‡Š" class="headerlink" title="ä¸€ã€æ¦‚å¿µè§£é‡Š"></a>ä¸€ã€æ¦‚å¿µè§£é‡Š</h4><ul>
<li><p>æ¬§æ‹‰è·¯ï¼šç»™å®šæ— å­¤ç«‹ç»“ç‚¹å›¾Gï¼Œè‹¥å­˜åœ¨ä¸€æ¡è·¯ï¼Œç»è¿‡å›¾ä¸­æ¯è¾¹ä¸€æ¬¡ä¸”ä»…ä¸€æ¬¡ï¼Œè¯¥æ¡è·¯ç§°ä¸ºæ¬§æ‹‰è·¯ã€‚</p>
</li>
<li><p>æ¬§æ‹‰è·¯çš„å­˜åœ¨æ¡ä»¶ï¼šæ²¡æœ‰å­¤ç«‹ç»“ç‚¹ï¼ŒåŒæ—¶å¥‡æ•°åº¦æ•°çš„ç‚¹åªæœ‰2ä¸ªæˆ–0ä¸ªã€‚</p>
</li>
<li><p>æ¬§æ‹‰å›è·¯ï¼šè‹¥ä¸€ä¸ªè¿é€šå›¾ä¸­æ²¡æœ‰å¥‡æ•°åº¦æ•°çš„ç‚¹ï¼Œåˆ™è¯¥å›¾ä¸­ä¸€å®šå­˜åœ¨ä¸€æ¡èµ·ç‚¹ä¸ç»ˆç‚¹é‡åˆçš„æ¬§æ‹‰è·¯ï¼Œç§°ä¸ºæ¬§æ‹‰å›è·¯ã€‚</p>
</li>
</ul>
<p>&emsp;&emsp;é€šä¿—åœ°è®²ï¼Œæ¬§æ‹‰è·¯å°±æ˜¯ä¸€ç¬”ç”»æ¸¸æˆï¼Œæ¯æ¡è¾¹åªèƒ½èµ°ä¸€æ¬¡ï¼Œé—®æ€ä¹ˆç”»æ‰èƒ½æŠŠæ‰€æœ‰è¾¹éƒ½ç”»å‡ºæ¥ã€‚æ¬§æ‹‰å›è·¯å°±æ˜¯åœ¨æ­¤åŸºç¡€ä¸Šï¼Œä¸ä»…è¦æŠŠæ‰€æœ‰è¾¹éƒ½ç”»å‡ºæ¥ï¼Œè¿˜è¦æ±‚èµ·ç‚¹å’Œç»ˆç‚¹è¦æ˜¯åŒä¸€ä¸ªåœ°æ–¹ã€‚</p>
<h4 id="äºŒã€åˆ¤æ–­æ¬§æ‹‰è·¯æ˜¯å¦å­˜åœ¨"><a href="#äºŒã€åˆ¤æ–­æ¬§æ‹‰è·¯æ˜¯å¦å­˜åœ¨" class="headerlink" title="äºŒã€åˆ¤æ–­æ¬§æ‹‰è·¯æ˜¯å¦å­˜åœ¨"></a>äºŒã€åˆ¤æ–­æ¬§æ‹‰è·¯æ˜¯å¦å­˜åœ¨</h4><p>&emsp;&emsp;è¦åˆ¤æ–­æ¬§æ‹‰è·¯æ˜¯å¦å­˜åœ¨ï¼Œåªéœ€è¦åˆ¤æ–­å¥‡æ•°åº¦æ•°çš„ä¸ªæ•°å³å¯ã€‚ä¸€èˆ¬ä½¿ç”¨å¹¶æŸ¥é›†æ¥å®ç°ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ¤æ–­æ¬§æ‹‰è·¯æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> pre[maxn];</span><br><span class="line"><span class="keyword">int</span> deg[maxn];</span><br><span class="line"><span class="keyword">bool</span> root[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">10000</span>;i++)</span><br><span class="line">        pre[i]=i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findr</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(pre[x]==x)</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">return</span> pre[x]=findr(pre[x]);;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mix</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> fx=findr(x);</span><br><span class="line">    <span class="keyword">int</span> fy=findr(y);</span><br><span class="line">    <span class="keyword">if</span>(fx!=fy)</span><br><span class="line">        pre[fy]=fx;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    mst(deg,<span class="number">0</span>);mst(root,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> a,b;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        mix(a,b);</span><br><span class="line">        deg[a]++;deg[b]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> d=<span class="number">0</span>;<span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="keyword">if</span>(deg[i]&amp;<span class="number">1</span>)</span><br><span class="line">            d++;        <span class="comment">//å¥‡æ•°åº¦æ•°èŠ‚ç‚¹è®¡æ•°</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        root[findr(i)]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="keyword">if</span>(root[i])        <span class="comment">//åˆ¤æ–­æ˜¯å¦æœ‰å­¤ç«‹èŠ‚ç‚¹</span></span><br><span class="line">            cnt++;</span><br><span class="line">    <span class="keyword">if</span>(cnt==<span class="number">1</span>&amp;&amp;(d==<span class="number">0</span>||d==<span class="number">2</span>))</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"OK"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"NO"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ä¸‰ã€Fleuryç®—æ³•æ±‚æ¬§æ‹‰å›è·¯"><a href="#ä¸‰ã€Fleuryç®—æ³•æ±‚æ¬§æ‹‰å›è·¯" class="headerlink" title="ä¸‰ã€Fleuryç®—æ³•æ±‚æ¬§æ‹‰å›è·¯"></a>ä¸‰ã€Fleuryç®—æ³•æ±‚æ¬§æ‹‰å›è·¯</h4><p>&emsp;&emsp;è¦æ±‚æ¬§æ‹‰å›è·¯ï¼Œä¸€èˆ¬ä½¿ç”¨Fleuryç®—æ³•ã€‚è¿™ä¸ªç®—æ³•çš„è¿‡ç¨‹å¯ä»¥è¿™æ ·æè¿°ï¼š</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>ã€åœ¨åŸå›¾ä¸­æ‰¾ä¸€ä¸ªä»»æ„è·¯å¾„L1(ä¸éœ€è¦æ˜¯æ¬§æ‹‰è·¯)ï¼Œå¹¶æŒ‰ç…§L1çš„é¡ºåºå°†L1ä¸Šçš„ç‚¹å‹å…¥ä¸€ä¸ªæ ˆä¸­</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>ã€ä»L1çš„ç»ˆç‚¹å¾€å›å›æº¯ï¼Œä¾æ¬¡å°†æ¯ä¸ªç‚¹å‡ºæ ˆã€‚å¹¶æ£€æŸ¥å½“å‰ç‚¹æ˜¯å¦è¿˜æœ‰å…¶ä»–æ²¡æœ‰ç»è¿‡çš„è¾¹ã€‚è‹¥å­˜åœ¨åˆ™ä»¥å½“å‰ç‚¹ä¸ºèµ·ç‚¹ï¼ŒæŸ¥æ‰¾L2ï¼Œå¹¶å¯¹L2çš„èŠ‚ç‚¹åŒæ ·ç”¨æ ˆè®°å½•é‡å¤è¯¥ç®—æ³•ã€‚</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>ã€å½“L1ä¸­çš„ç‚¹å…¨éƒ¨å‡ºæ ˆåï¼Œç®—æ³•ç»“æŸã€‚</span><br></pre></td></tr></table></figure>
<p>(å‚è€ƒ<a href="https://cn.vjudge.net/problem/HihoCoder-1181" rel="external nofollow noopener noreferrer" target="_blank">æ¬§æ‹‰è·¯Â·äºŒ</a>)</p>
<p>å…·ä½“ä»£ç å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> gra[<span class="number">1005</span>][<span class="number">1005</span>];</span><br><span class="line"><span class="keyword">int</span> deg[<span class="number">1005</span>];</span><br><span class="line"><span class="keyword">int</span> path[maxn];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; g[<span class="number">1005</span>];</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">size</span>;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;        </span><br><span class="line">    <span class="keyword">bool</span> flag=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;g[u].<span class="built_in">size</span>();i++)</span><br><span class="line">    &#123;    </span><br><span class="line">        <span class="keyword">int</span> x=g[u][i];</span><br><span class="line">        <span class="keyword">if</span>(gra[u][x])&#123;</span><br><span class="line">            gra[u][x]--;</span><br><span class="line">            gra[x][u]--;</span><br><span class="line">            dfs(x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    path[<span class="built_in">size</span>++]=u;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    mst(path,<span class="number">0</span>);<span class="built_in">size</span>=<span class="number">0</span>;</span><br><span class="line">    mst(gra,<span class="number">0</span>);mst(deg,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> m;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u,v;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;u&gt;&gt;v;</span><br><span class="line">        gra[u][v]++;gra[v][u]++;</span><br><span class="line">        deg[u]++;deg[v]++;</span><br><span class="line">        g[u].push_back(v);g[v].push_back(u);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> d=<span class="number">0</span>;<span class="keyword">int</span> st=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="keyword">if</span>(deg[i]&amp;<span class="number">1</span>)&#123;</span><br><span class="line">            d++;</span><br><span class="line">            st=i;</span><br><span class="line">        &#125;</span><br><span class="line">    dfs(st);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="built_in">size</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(i==<span class="number">0</span>)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;path[i];</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">" "</span>&lt;&lt;path[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM</category>
        <category>å›¾è®º</category>
        <category>æ¬§æ‹‰è·¯ä¸æ¬§æ‹‰å›è·¯</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>å›¾è®º</tag>
        <tag>æ¬§æ‹‰è·¯ä¸æ¬§æ‹‰å›è·¯</tag>
        <tag>Fleury</tag>
      </tags>
  </entry>
  <entry>
    <title>æ´›è°·P1417 çƒ¹è°ƒæ–¹æ¡ˆ</title>
    <url>/2019/02/19/%E6%B4%9B%E8%B0%B7P1417-%E7%83%B9%E8%B0%83%E6%96%B9%E6%A1%88/</url>
    <content><![CDATA[<p><a href="https://www.luogu.org/problemnew/show/P1417" rel="external nofollow noopener noreferrer" target="_blank">P1417 çƒ¹è°ƒæ–¹æ¡ˆ</a></p>
<p>&emsp;&emsp;ä¾ç„¶æ˜¯01èƒŒåŒ…ã€‚è¿™é“é¢˜è·Ÿä¹‹å‰HDUçš„é‚£é“merchantå¾ˆåƒï¼Œéƒ½æ˜¯è¦å…ˆç®—ä¸€ä¸ªä¸ç­‰å¼ï¼Œå†æ ¹æ®è¿™ä¸ªä¸ç­‰å¼è¿›è¡Œæ’åºï¼Œç„¶åå†è¿›è¡Œ01èƒŒåŒ…ã€‚å…·ä½“è€Œè¨€ï¼Œæ˜¯è¦è§£ä¸‹é¢è¿™ä¸ªä¸ç­‰å¼ï¼š</p>
<p>&emsp;a1 - (t0 + c1) x b1 + a2 - (t0 + c1 + c2) x b2 &gt; a2 - (t0 + c2) x b2 +a1 - (t0 + c1 + c2) x b1</p>
<p>==&gt;&emsp;&emsp;&emsp;b2 c1 &lt; b1 c2</p>
<p>å…·ä½“ä»£ç å¦‚ä¸‹:<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">food</span>&#123;</span></span><br><span class="line">    ll a,b,c;</span><br><span class="line">&#125;;</span><br><span class="line">food arr[<span class="number">55</span>];</span><br><span class="line">ll dp[maxn];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(food fa,food fb)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (fb.b)*(fa.c)&lt;(fa.b)*(fb.c);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll t,n;</span><br><span class="line">    mst(dp,<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;n;i++)        <span class="built_in">cin</span>&gt;&gt;arr[i].a;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;n;i++)        <span class="built_in">cin</span>&gt;&gt;arr[i].b;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;n;i++)        <span class="built_in">cin</span>&gt;&gt;arr[i].c;</span><br><span class="line">    sort(arr,arr+n,cmp);</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(ll j=t;j&gt;=arr[i].c;j--)&#123;</span><br><span class="line">            ll val=(arr[i].a)-(arr[i].b)*j;</span><br><span class="line">            dp[j]=<span class="built_in">max</span>(dp[j],dp[j-arr[i].c]+val);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ll ans=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll j=<span class="number">0</span>;j&lt;=t;j++)</span><br><span class="line">        ans=<span class="built_in">max</span>(ans,dp[j]);</span><br><span class="line"><span class="comment">//    ans=dp[t];</span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>01èƒŒåŒ…</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>01èƒŒåŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>æ´›è°·P1855 æ¦¨å–kkksc03</title>
    <url>/2019/02/19/%E6%B4%9B%E8%B0%B7P1855-%E6%A6%A8%E5%8F%96kkksc03/</url>
    <content><![CDATA[<p><a href="https://www.luogu.org/problemnew/show/P1855" rel="external nofollow noopener noreferrer" target="_blank">P1855 æ¦¨å–kkksc03</a></p>
<p>&emsp;&emsp;ä¸€é“01èƒŒåŒ…æ¨¡æ¿é¢˜ï¼Œä½†å¤šäº†ä¸€ä¸ªç»´åº¦ã€‚</p>
<a id="more"></a>
<p>ä»£ç å¦‚ä¸‹:<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> m[<span class="number">205</span>],t[<span class="number">205</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">205</span>][<span class="number">205</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> m[<span class="number">205</span>],t[<span class="number">205</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">205</span>][<span class="number">205</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,M,T;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;M&gt;&gt;T;</span><br><span class="line">    <span class="built_in">memset</span>(m,<span class="number">0</span>,<span class="keyword">sizeof</span>(m));</span><br><span class="line">    <span class="built_in">memset</span>(t,<span class="number">0</span>,<span class="keyword">sizeof</span>(t));</span><br><span class="line">    <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;m[i]&gt;&gt;t[i];</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;n;k++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=M;i&gt;=m[k];i--)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=T;j&gt;=t[k];j--)&#123;</span><br><span class="line">                dp[i][j]=<span class="built_in">max</span>(dp[i][j],dp[i-m[k]][j-t[k]]+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;dp[M][T]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>01èƒŒåŒ…</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>01èƒŒåŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¬¬ä¸€ç¯‡åšå®¢</title>
    <url>/2018/12/10/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<p>è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢<br><a id="more"></a><br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"hello,world\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>hexo-test</category>
      </categories>
  </entry>
  <entry>
    <title>ç”¨æ‰‹åŠ¿æ“æ§ä½ çš„ç”µè„‘â€”â€”åŸºäºOpencv.jsï¼ŒTensorflowï¼Œelectronçš„æ‰‹åŠ¿äººæœºäº¤äº’</title>
    <url>/2020/07/04/%E7%94%A8%E6%89%8B%E5%8A%BF%E6%93%8D%E6%8E%A7%E4%BD%A0%E7%9A%84%E7%94%B5%E8%84%91%E2%80%94%E2%80%94%E5%9F%BA%E4%BA%8EOpencv-js%EF%BC%8CTensorflow%EF%BC%8Celectron%E7%9A%84%E6%89%8B%E5%8A%BF%E4%BA%BA%E6%9C%BA%E4%BA%A4%E4%BA%92/</url>
    <content><![CDATA[<p><img src="https://pic.downk.cc/item/5f00278014195aa594787856.png" alt><br><a id="more"></a></p>
<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>æ˜¨æ™šçœ‹äº†ä»¥ä¸‹è®¸ä¹…æ²¡æœ‰è®¿é—®çš„åšå®¢ï¼Œå‘ç°æœ€è¿‘ä¸€ç¯‡åšå®¢å±…ç„¶æ˜¯ä»Šå¹´3æœˆä»½çš„ä¸€ä»½AGCé¢˜è§£ã€‚è¿˜è®°å¾—å¤§ä¸€çš„æ—¶å€™ï¼Œå†™åšå®¢çš„çƒ­æƒ…é«˜æ¶¨ï¼Œæ¨ä¸å¾—æ—¥æ›´ä¸‰ç¯‡ï¼›ä¸Šäº†å¤§äºŒä¹‹åï¼Œä¸€æ–¹é¢æ˜¯å„æ–¹é¢çš„å‹åŠ›å˜å¤§äº†ï¼Œå¦ä¸€æ–¹é¢æ˜¯è‡ªå·±åœ¨è¿™æ–¹é¢è¶Šæ¥è¶Šæ‡’ï¼Œ<del>äºæ˜¯å‡ºç°äº†å››ä¸ªæœˆæ²¡å†™è¿‡ä¸€ç¯‡æ–‡ç« çš„æƒ…å†µ</del>ã€‚è¿™å­¦æœŸä¸Šå¤šåª’ä½“è¯¾ç¨‹ï¼ŒæœŸæœ«å¤§ä½œä¸šå’Œåˆ˜æ€»ä¸€èµ·åšäº†ä¸€ä¸ªåŸºäºæ‰‹åŠ¿è¯†åˆ«çš„äººæœºäº¤äº’å°ç¨‹åºï¼Œå°±æ‹¿æ¥<del>æ°´ä¸€æ°´</del>å§</p>
<h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>çœ‹æ ‡é¢˜å°±çŸ¥é“ï¼Œè¿™æ˜¯ä¸€ä¸ªé€šè¿‡è¯†åˆ«æ‰‹åŠ¿æ¥å®Œæˆä¸€äº›ç”µè„‘æ“ä½œçš„ä¸œè¥¿ã€‚å› ä¸ºæ˜¯ä¸€ä¸ªæ¡Œé¢åº”ç”¨ï¼ŒåŒæ—¶ä¸ºäº†ç•Œé¢å¥½çœ‹ï¼ˆå¥½çœ‹æ˜¯ç¬¬ä¸€ç”Ÿäº§åŠ›.jpgï¼‰ï¼Œæˆ‘ä»¬é€‰æ‹©äº†electronã€‚é¦–å…ˆæ˜¯ç”¨python+Tensorflowè®­ç»ƒä¸€ä¸ªCNNç”¨äºæ‰‹åŠ¿è¯†åˆ«ï¼Œå¹¶å¯¼å‡ºè¯¥æ¨¡å‹ä¸ºjsonæ ¼å¼ï¼›ç„¶åï¼Œæˆ‘ä»¬åœ¨electronä¸­ä½¿ç”¨opencv.jså¤„ç†å›¾åƒï¼Œå¹¶æŠŠä¸Šä¸€æ­¥è®­ç»ƒå¾—åˆ°çš„jsonæ ¼å¼æ¨¡å‹å¯¼å…¥åˆ°Tensorflow.jsä¸­åšæ‰‹åŠ¿è¯†åˆ«ï¼›æœ€åï¼Œå€ŸåŠ©robot.jsæ¥å®ç°æ“æ§ç”µè„‘ã€‚</p>
<p>æ”¾ä¸€ä¸‹ç»“æ„å›¾</p>
<p><img src="https://pic.downk.cc/item/5f00239914195aa594769dc9.jpg"></p>
<p>ä¹‹æ‰€ä»¥è¦åˆ†ç¦»å‡ºå‰ç«¯å’ŒæœåŠ¡ç«¯ï¼Œæ˜¯å› ä¸ºrobot.jsè¦å¡è¿›electroné‡Œé¢æ¯”è¾ƒéº»çƒ¦ï¼Œå°è¯•äº†å¥½å‡ æ¬¡ä¹‹åéƒ½æ²¡æœ‰æˆåŠŸï¼Œäºæ˜¯ç´¢æ€§ä¸æŠŠä»–æ”¾åˆ°electroné‡Œé¢ã€‚è¿™æ ·ä¸€æ¥ï¼Œé¿å…äº†é…ç½®ä¸Šçš„éº»çƒ¦ï¼Œè€Œä¸”ç»“æ„æ›´æ¸…æ™°ï¼Œä»£ç å†™èµ·æ¥ä¹Ÿæ›´æ–¹ä¾¿ã€‚</p>
<p>ç›®å‰ä»…æ”¯æŒåœ¨windowsä¸Šä½¿ç”¨ï¼Œå¯ä»¥å®Œæˆçš„æ“ä½œæœ‰ï¼š</p>
<ul>
<li>åˆ‡æ¢çª—å£</li>
<li>éšè—çª—å£</li>
<li>é™éŸ³/æ¢å¤éŸ³é‡</li>
<li>å…³é—­å½“å‰çª—å£</li>
<li>ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘é”®</li>
</ul>
<h3 id="æ¨¡å‹æ­å»º"><a href="#æ¨¡å‹æ­å»º" class="headerlink" title="æ¨¡å‹æ­å»º"></a>æ¨¡å‹æ­å»º</h3><p>è¿™ä¸€æ­¥ä¸»è¦å°±æ˜¯é‡‡é›†è®­ç»ƒæ ·æœ¬ï¼Œç„¶åä½¿ç”¨Opencvå¤„ç†å›¾åƒï¼Œæœ€åæ‰”è¿›Tensorflowé‡Œè®­ç»ƒã€‚</p>
<p>å…ˆè¯´ä¸€ä¸‹é‡‡é›†è®­ç»ƒæ ·æœ¬ä»¥åŠå¤„ç†å›¾åƒè¿™ä¸¤éƒ¨åˆ†ã€‚é€šè¿‡Opencvè°ƒç”¨æ‘„åƒå¤´ï¼Œæ¯0.1ç§’æˆªå–ä¸€æ¬¡å›¾åƒï¼Œç„¶åç”¨Opencvå¤„ç†è¿™ä¸€å›¾åƒã€‚æ‰€åšçš„å¤„ç†åŒ…æ‹¬ï¼š</p>
<ul>
<li><p>è·å–ROIï¼ˆæ„Ÿå…´è¶£åŒºåŸŸï¼‰</p>
<p>å…¶å®å°±æ˜¯ä»åŸå›¾åƒä¸Šæˆªå–ä¸€ä¸ªæŒ‡å®šåŒºåŸŸã€‚</p>
<p><center><img src="https://pic.downk.cc/item/5f00061014195aa5946a4677.png" style="zoom:50%;"></center><br><center>å¤„ç†å‰</center><br><center><img src="https://pic.downk.cc/item/5f00064814195aa5946a5c36.png" style="zoom: 67%;"></center><br><center>å¤„ç†å</center><br>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getRoi</span><span class="params">(frame, x0, y0, width, height)</span>:</span></span><br><span class="line">    roi = frame[y0:y0 + height, x0:x0 + width]</span><br><span class="line">    cv.imshow(<span class="string">'roi'</span>, roi)</span><br><span class="line">    <span class="keyword">return</span> roi</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>ä½¿ç”¨Otsuæ³•ï¼ˆå¤§æ´¥æ³•ï¼‰è¿›è¡Œè‚¤è‰²æ£€æµ‹</p>
<p>å¤§è‡´åŸç†æ˜¯é€šè¿‡é®ç½©çš„æ–¹æ³•ï¼Œè®¡ç®—æŒ‰ä½ä¸è¿ç®—ï¼Œä»è€Œè¿‡æ»¤æ‰é‚£äº›æˆ‘ä»¬ä¸å…³å¿ƒçš„åƒç´ ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getSkin</span><span class="params">(frame)</span>:</span></span><br><span class="line">    ycrcb = cv.cvtColor(frame, cv.COLOR_BGR2YCR_CB)</span><br><span class="line">    y, cr, cb = cv.split(ycrcb)</span><br><span class="line">    cr_ = cv.GaussianBlur(cr, (<span class="number">5</span>, <span class="number">5</span>), <span class="number">0</span>) <span class="comment"># é«˜æ–¯æ¨¡ç³Š</span></span><br><span class="line">   _, skin = cv.threshold(cr_, <span class="number">0</span>, <span class="number">255</span>, cv.THRESH_BINARY | cv.THRESH_OTSU) <span class="comment"># otsuäºŒå€¼åŒ– </span></span><br><span class="line">    ret = cv.bitwise_and(frame, frame, mask=skin)</span><br><span class="line">    <span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure>
<center><img src="https://pic.downk.cc/item/5f00064814195aa5946a5c36.png" style="zoom:50%;"></center>
<center>å¤„ç†å‰</center>
<center><img src="https://pic.downk.cc/item/5f000a5c14195aa5946bfd10.png" style="zoom:50%;"></center>
<center>å¤„ç†å</center>
</li>
<li><p>æå–è½®å»“å¹¶è®¡ç®—å‚…é‡Œå¶ç®—å­</p>
<p>æå–è½®å»“å¯ä»¥ç”¨opencvä¸­çš„findContourã€‚è®¡ç®—å‚…é‡Œå¶ç®—å­å¯ä»¥ç†è§£ä¸ºæå–ç‰¹å¾ã€‚</p>
<center><img src="https://pic.downk.cc/item/5f000a5c14195aa5946bfd10.png" style="zoom:50%;"></center>
<center>å¤„ç†å‰</center>
 <center><img src="https://pic.downk.cc/item/5f000ad514195aa5946c30ba.png" style="zoom:50%;"></center>

<center>å¤„ç†å</center>

<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<p>æå–è½®å»“</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findContour</span><span class="params">(Laplacian)</span>:</span></span><br><span class="line">    h = cv.findContours(Laplacian, cv.RETR_EXTERNAL, cv.CHAIN_APPROX_NONE)</span><br><span class="line">    contour = h[<span class="number">0</span>]</span><br><span class="line">    contour = sorted(contour, key=cv.contourArea, reverse=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">return</span> contour</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>  è®¡ç®—å‚…é‡Œå¶ç®—å­ï¼š</p>
  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">trucate</span><span class="params">(des)</span>:</span></span><br><span class="line">    ret = np.fft.fftshift(des)</span><br><span class="line">    centerIdx = int(len(ret) / <span class="number">2</span>)</span><br><span class="line">    low, high = centerIdx - int(MIN_DESCRIPTOR / <span class="number">2</span>), centerIdx + int(MIN_DESCRIPTOR / <span class="number">2</span>)</span><br><span class="line">    ret = ret[low:high]</span><br><span class="line">    ret = np.fft.ifftshift(ret)</span><br><span class="line">    <span class="keyword">return</span> ret</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fourier</span><span class="params">(frame)</span>:</span></span><br><span class="line">    gray = cv.cvtColor(frame, cv.COLOR_BGR2GRAY)</span><br><span class="line">    dst = cv.Laplacian(gray, cv.CV_16S, ksize=<span class="number">3</span>)</span><br><span class="line">    Laplacian = cv.convertScaleAbs(dst)</span><br><span class="line">    contour = findContour(Laplacian)</span><br><span class="line">    contourArray = contour[<span class="number">0</span>][:, <span class="number">0</span>, :]</span><br><span class="line">    retbg = np.ones(dst.shape, np.uint8)</span><br><span class="line">    ret = cv.drawContours(retbg, contour[<span class="number">0</span>], <span class="number">-1</span>, (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>), <span class="number">1</span>)</span><br><span class="line">    contourComplex = np.empty(contourArray.shape[:<span class="number">-1</span>], dtype=complex)</span><br><span class="line">    contourComplex.real = contourArray[:, <span class="number">0</span>]</span><br><span class="line">    contourComplex.imag = contourArray[:, <span class="number">1</span>]</span><br><span class="line">    fourierResult = np.fft.fft(contourComplex)</span><br><span class="line">    desInUse = trucate(fourierResult)</span><br><span class="line">    <span class="keyword">return</span> ret, desInUse</span><br></pre></td></tr></table></figure>
<p>  æ ¹æ®å‚…é‡Œå¶ç®—å­é‡æ„ï¼š</p>
  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reconstruct</span><span class="params">(img, desInUse)</span>:</span></span><br><span class="line">    contour_reconstruct = np.fft.ifft(descirptor_in_use)</span><br><span class="line">    contour_reconstruct = np.array([contour_reconstruct.real, contour_reconstruct.imag])</span><br><span class="line">    contour_reconstruct = np.transpose(contour_reconstruct)</span><br><span class="line">    contour_reconstruct = np.expand_dims(contour_reconstruct, axis=<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> contour_reconstruct.min() &lt; <span class="number">0</span>:</span><br><span class="line">        contour_reconstruct -= contour_reconstruct.min()</span><br><span class="line">    contour_reconstruct *= img.shape[<span class="number">0</span>] / contour_reconstruct.max()</span><br><span class="line">    contour_reconstruct = contour_reconstruct.astype(np.int32, copy=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">    black_np = np.ones(img.shape, np.uint8)  <span class="comment"># åˆ›å»ºé»‘è‰²å¹•å¸ƒ</span></span><br><span class="line">    black = cv2.drawContours(black_np, contour_reconstruct, <span class="number">-1</span>, (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>), <span class="number">1</span>)  <span class="comment"># ç»˜åˆ¶ç™½è‰²è½®å»“</span></span><br><span class="line">    cv2.imshow(<span class="string">'contour_reconstruct'</span>, black)</span><br><span class="line">    <span class="keyword">return</span> black</span><br></pre></td></tr></table></figure>
<p>å®Œæˆä¸Šé¢è¿™äº›æ­¥éª¤åï¼Œå°±å¯ä»¥å¾—åˆ°åŸå§‹çš„è®­ç»ƒæ ·æœ¬äº†ã€‚</p>
<p>æ¥ç€è¿˜è¦å¤„ç†å¾—åˆ°æµ‹è¯•é›†ä¸è®­ç»ƒé›†ã€‚è¿™é‡Œåšçš„äº‹æƒ…åŒ…æ‹¬:</p>
<ul>
<li><p>æ”¹å˜åŸå§‹å›¾ç‰‡å°ºå¯¸</p>
<p>å°†å°ºå¯¸ä»$300\times 300$æ”¹æˆ$128\times 128$ã€‚</p>
</li>
<li><p>å½’ä¸€åŒ–</p>
<p>å°†å›¾ç‰‡ä¸­æ¯ä¸ªåƒç´ çš„å€¼é™¤ä»¥255ã€‚</p>
</li>
<li><p>åˆ’åˆ†æµ‹è¯•é›†ä¸è®­ç»ƒé›†</p>
</li>
</ul>
<p>æœ€åæ­å»ºCNNå¹¶è®­ç»ƒäº†ã€‚CNNçš„ç»“æ„å¦‚ä¸‹ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">Layer</th>
<th style="text-align:center">Width</th>
<th style="text-align:center">Height</th>
<th style="text-align:center">Filter</th>
<th style="text-align:center">Kernel Size</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Input</td>
<td style="text-align:center">128</td>
<td style="text-align:center">128</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:center">Convolution</td>
<td style="text-align:center">128</td>
<td style="text-align:center">128</td>
<td style="text-align:center">32</td>
<td style="text-align:center">3Ã—3</td>
</tr>
<tr>
<td style="text-align:center">Max Pooling</td>
<td style="text-align:center">64</td>
<td style="text-align:center">64</td>
<td style="text-align:center">32</td>
<td style="text-align:center">2Ã—2</td>
</tr>
<tr>
<td style="text-align:center">Convolution</td>
<td style="text-align:center">64</td>
<td style="text-align:center">64</td>
<td style="text-align:center">64</td>
<td style="text-align:center">3Ã—3</td>
</tr>
<tr>
<td style="text-align:center">Max Pooling</td>
<td style="text-align:center">32</td>
<td style="text-align:center">32</td>
<td style="text-align:center">64</td>
<td style="text-align:center">2Ã—2</td>
</tr>
<tr>
<td style="text-align:center">Convolution</td>
<td style="text-align:center">32</td>
<td style="text-align:center">32</td>
<td style="text-align:center">128</td>
<td style="text-align:center">3Ã—3</td>
</tr>
<tr>
<td style="text-align:center">Max Pooling</td>
<td style="text-align:center">16</td>
<td style="text-align:center">16</td>
<td style="text-align:center">128</td>
<td style="text-align:center">2Ã—2</td>
</tr>
<tr>
<td style="text-align:center">Flatten</td>
<td style="text-align:center">32768</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:center">Dense</td>
<td style="text-align:center">64</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:center">Dropout</td>
<td style="text-align:center">64</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:center">Dense</td>
<td style="text-align:center">9</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
</tr>
</tbody>
</table>
</div>
<p>æœ€ç»ˆè®­ç»ƒç»“æœï¼š</p>
<p><img src="https://pic.downk.cc/item/5f00128a14195aa5946f60ad.jpg" alt></p>
<p>æ•ˆæœè¿˜ä¸é”™ï¼ˆè‡³å°‘ç›®å‰æ¥è¯´ï¼‰</p>
<h3 id="å‰ç«¯"><a href="#å‰ç«¯" class="headerlink" title="å‰ç«¯"></a>å‰ç«¯</h3><p>å‰ç«¯éƒ¨åˆ†åšçš„äº‹æƒ…é™¤äº†å±•ç¤ºç•Œé¢ï¼Œè¿˜åŒ…æ‹¬ä»¥ä¸‹è¿™äº›ï¼š</p>
<ul>
<li><p>é‡‡é›†æ‰‹åŠ¿</p>
<p>è°ƒç”¨æ‘„åƒå¤´å¹¶è¯»å–å›¾åƒå¸§ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getMedia</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> constraints = &#123;</span><br><span class="line">    video: &#123;</span><br><span class="line">      width: <span class="number">400</span>, </span><br><span class="line">      height: <span class="number">400</span>, </span><br><span class="line">      facingMode: <span class="string">'user'</span>,</span><br><span class="line">      mirrored: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    audio: <span class="literal">false</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">let</span> promise = navigator.mediaDevices.getUserMedia(constraints);</span><br><span class="line">  promise.then(<span class="function"><span class="keyword">function</span> (<span class="params">MediaStream</span>) </span>&#123;</span><br><span class="line">    video.srcObject = MediaStream;</span><br><span class="line">    video.play();</span><br><span class="line">  &#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">PermissionDeniedError</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(PermissionDeniedError);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•°æ®å¤„ç†</p>
<p>  å…¶å®å°±æ˜¯æŠŠåœ¨Opencvé‡Œçš„ä¸œè¥¿åœ¨Opencv.jsä¸Šå†å®ç°ä¸€é</p>
</li>
<li><p>æ¨¡å‹é¢„æµ‹</p>
<p>å°†å¤„ç†åçš„å›¾åƒå¸§æ•°æ®è½¬æ¢ä¸ºTensorflow.jsè¾“å…¥æ‰€å¯¹åº”çš„æ ¼å¼åï¼Œå°†å…¶è¾“å…¥ä¸Šè¿°å·²ç»è®­ç»ƒå¥½çš„æ¨¡å‹ä¸­ï¼Œè·å¾—é¢„æµ‹å€¼</p>
</li>
<li><p>æ‰‹åŠ¿åˆ¤æ–­ä¸è¾“å‡º</p>
<p>æ ¹æ®æ¨¡å‹é¢„æµ‹è¾“å‡ºçš„Tensoråˆ¤æ–­æ‰‹åŠ¿ç±»å‹ï¼Œä¸”æ ¹æ®â€œé˜ˆå€¼æº¢å‡ºæœºåˆ¶â€åˆ¤æ–­æ˜¯å¦å‘æœåŠ¡å™¨å‘é€æ‰‹åŠ¿ã€‚ä»€ä¹ˆæ˜¯â€œé˜ˆå€¼æº¢å‡ºæœºåˆ¶â€å‘¢ï¼Ÿå®é™…ä¸Šå°±æ˜¯ï¼Œå•ä½æ—¶é—´å†…ï¼Œå¦‚æœæŸä¸ªæ‰‹åŠ¿çš„å‡ºç°é¢‘ç‡è¶…è¿‡ä¸€ä¸ªé˜ˆå€¼$\lambda(&gt;0.5)$ï¼Œåˆ™è®¤ä¸ºè¿™ä¸€æ‰‹åŠ¿å°±æ˜¯å½“å‰æ‰‹åŠ¿ã€‚</p>
</li>
</ul>
<h3 id="æœåŠ¡ç«¯"><a href="#æœåŠ¡ç«¯" class="headerlink" title="æœåŠ¡ç«¯"></a>æœåŠ¡ç«¯</h3><p>è¿™ä¸€éƒ¨åˆ†é€šè¿‡TCPåè®®è·å–å‰ç«¯çš„æ‰‹åŠ¿è¯†åˆ«ç»“æœï¼Œå¹¶æ ¹æ®è¿™ä¸€ç»“æœï¼Œé€šè¿‡è°ƒç”¨robot.jsæ¥å®Œæˆç›¸åº”æ“ä½œã€‚</p>
<p>æœåŠ¡ç«¯ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> net = <span class="built_in">require</span>(<span class="string">'net'</span>)</span><br><span class="line"><span class="keyword">const</span> robot = <span class="built_in">require</span>(<span class="string">'robotjs'</span>)</span><br><span class="line"><span class="keyword">let</span> controlable = <span class="literal">false</span><span class="comment">//è§£é”</span></span><br><span class="line"><span class="keyword">let</span> directable = <span class="literal">false</span><span class="comment">//å¼€å¯ä¸Šä¸‹å·¦å³é”®</span></span><br><span class="line"><span class="keyword">let</span> key_set = []</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clear_key</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; key_set.length; index++) &#123;</span><br><span class="line">    robot.keyToggle(key_set[index], <span class="string">'up'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  key_set = []</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">minimize</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'minimize'</span>)</span><br><span class="line">  pre_gesture = <span class="number">7</span>;</span><br><span class="line">  robot.keyToggle(<span class="string">'command'</span>, <span class="string">'down'</span>)</span><br><span class="line">  robot.keyTap(<span class="string">'D'</span>)</span><br><span class="line">  robot.keyToggle(<span class="string">'command'</span>, <span class="string">'up'</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">closeWindow</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'closeWin'</span>)</span><br><span class="line">  pre_gesture = <span class="number">4</span>;</span><br><span class="line">  robot.keyToggle(<span class="string">'alt'</span>, <span class="string">'down'</span>)</span><br><span class="line">  robot.keyTap(<span class="string">'f4'</span>)</span><br><span class="line">  robot.keyToggle(<span class="string">'alt'</span>, <span class="string">'up'</span>)</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">altTab</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'altTab'</span>)</span><br><span class="line">  pre_gesture = <span class="number">8</span>;</span><br><span class="line">  robot.keyToggle(<span class="string">'alt'</span>, <span class="string">'down'</span>)</span><br><span class="line">  key_set.push(<span class="string">'alt'</span>)</span><br><span class="line">  robot.keyTap(<span class="string">'tab'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">re_altTab</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'re_altTab'</span>)</span><br><span class="line">  pre_gesture = <span class="number">9</span>;</span><br><span class="line">  robot.keyToggle(<span class="string">'alt'</span>, <span class="string">'down'</span>)</span><br><span class="line">  key_set.push(<span class="string">'alt'</span>)</span><br><span class="line">  robot.keyToggle(<span class="string">'shift'</span>, <span class="string">'down'</span>)</span><br><span class="line">  key_set.push(<span class="string">'shift'</span>)</span><br><span class="line">  robot.keyTap(<span class="string">'tab'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">audioMute</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'audio_mute'</span>)</span><br><span class="line">  robot.keyTap(<span class="string">'audio_mute'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> pre_gesture;</span><br><span class="line"><span class="keyword">const</span> server = net.createServer(<span class="function"><span class="keyword">function</span> (<span class="params">sock</span>) </span>&#123;</span><br><span class="line">  sock.on(<span class="string">'close'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'close socket'</span>)</span><br><span class="line">    server.close()</span><br><span class="line">  &#125;)</span><br><span class="line">  sock.on(<span class="string">'data'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ok!'</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(data.toString())</span><br><span class="line">    <span class="keyword">let</span> stringifyData = data.toString()</span><br><span class="line">    <span class="keyword">if</span> (stringifyData === <span class="string">'5'</span>) &#123;</span><br><span class="line">      directable = <span class="literal">false</span>;</span><br><span class="line">      <span class="keyword">if</span> (controlable) &#123;</span><br><span class="line">        controlable = <span class="literal">false</span>;</span><br><span class="line">        clear_key();</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        controlable = <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      pre_gesture = stringifyData;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (controlable) &#123;</span><br><span class="line">      <span class="keyword">if</span> (directable) &#123;</span><br><span class="line">        <span class="keyword">if</span> (stringifyData === <span class="string">'1'</span>) &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'up'</span>)</span><br><span class="line">          robot.keyTap(<span class="string">'up'</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (stringifyData === <span class="string">'7'</span>) &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'down'</span>)</span><br><span class="line">          robot.keyTap(<span class="string">'down'</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (stringifyData === <span class="string">'8'</span>) &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'right'</span>)</span><br><span class="line">          robot.keyTap(<span class="string">'right'</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (stringifyData === <span class="string">'9'</span>) &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'left'</span>)</span><br><span class="line">          robot.keyTap(<span class="string">'left'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (stringifyData != pre_gesture) &#123;</span><br><span class="line">          clear_key()</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (stringifyData === <span class="string">'6'</span>) &#123;</span><br><span class="line">          audioMute()</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (stringifyData === <span class="string">'7'</span>) &#123;</span><br><span class="line">          minimize()</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (stringifyData === <span class="string">'4'</span>) &#123;</span><br><span class="line">          directable = <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (stringifyData === <span class="string">'2'</span>) &#123;</span><br><span class="line">          closeWindow()</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (stringifyData === <span class="string">'9'</span>) &#123;</span><br><span class="line">          re_altTab()</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (stringifyData === <span class="string">'8'</span>) &#123;</span><br><span class="line">          altTab()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.on(<span class="string">'listening'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'start listening'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'listen error'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.on(<span class="string">'close'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'stop listening'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.listen(&#123;</span><br><span class="line">  port: <span class="number">6080</span>,</span><br><span class="line">  host: <span class="string">'127.0.0.1'</span>,</span><br><span class="line">  exclusive: <span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>electronçš„ä¸»è¿›ç¨‹ä¸­è¿æ¥æœåŠ¡ç«¯å¹¶å‘é€æ‰‹åŠ¿è¯†åˆ«ç»“æœ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> sockConfig = &#123;</span><br><span class="line">  port: <span class="number">6080</span>,</span><br><span class="line">  host: <span class="string">'127.0.0.1'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> sock = net.connect(sockConfig, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'connected to server!'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">sock.on(<span class="string">'connect'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'connect success'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sendGesture</span>(<span class="params">ges</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> ges2string = ges.toString()</span><br><span class="line">  <span class="built_in">console</span>.log(ges2string)</span><br><span class="line">  sock.write(ges2string)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æœ€ç»ˆå®ç°æ•ˆæœ"><a href="#æœ€ç»ˆå®ç°æ•ˆæœ" class="headerlink" title="æœ€ç»ˆå®ç°æ•ˆæœ"></a>æœ€ç»ˆå®ç°æ•ˆæœ</h2><p><img src="https://pic.downk.cc/item/5f00185114195aa59471b6bb.png"></p>
<center>ä¸ºäº†é¿å…è¯¯æ“ä½œï¼Œä¸€å¼€å§‹æ˜¯ä¸Šé”çŠ¶æ€ï¼Œæ— æ³•æ“ä½œ</center>

<p><img src="https://pic.downk.cc/item/5f00188214195aa59471cc29.png"></p>
<center>æ‰‹åŠ¿5è§£é”</center>

<p><img src="https://pic.downk.cc/item/5f0018a814195aa59471daeb.png"></p>
<center>æ— æ³•è¯†åˆ«æ‰‹åŠ¿ï¼Œéœ€è¦è°ƒæ•´æ‰‹åŠ¿</center>]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>æ‰‹åŠ¿è¯†åˆ«</tag>
        <tag>äººæœºäº¤äº’</tag>
        <tag>JavaScript</tag>
        <tag>Electron</tag>
        <tag>Tensorflow</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>çŠ¶å‹dpæ€»ç»“(æ›´æ–°ä¸­)</title>
    <url>/2019/07/22/%E7%8A%B6%E5%8E%8Bdp%E6%80%BB%E7%BB%93-%E6%9B%B4%E6%96%B0%E4%B8%AD/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/HTB1pqI0aW61gK0jSZFlq6xDKFXaA.jpg" alt><br><a id="more"></a></p>
<p>æ‰€è°“çš„çŠ¶å‹dpæŒ‡çš„æ˜¯çŠ¶æ€å‹ç¼©dpã€‚å…·ä½“æ¥è¯´å°±æ˜¯å€ŸåŠ©äºŒè¿›åˆ¶æ•°æ¥å¯¹ä¿å­˜çŠ¶æ€æ—¶çš„ç©ºé—´å¤æ‚åº¦è¿›è¡Œä¼˜åŒ–ã€‚ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œå¯¹äºä¸€ä¸ªnè¡Œmåˆ—çš„æ£‹ç›˜ï¼Œå¦‚æœç”¨1è¡¨ç¤ºæœ‰æ£‹å­æ”¾ç½®ï¼Œç”¨0è¡¨ç¤ºæ²¡æœ‰æ£‹å­æ”¾ç½®ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥ç”¨nä¸ªmä½çš„äºŒè¿›åˆ¶æ•°æ¥è¡¨ç¤ºå½“å‰æ£‹ç›˜çš„æ•´ä½“çŠ¶æ€ã€‚ä¸å¸¸è§„çš„ä½¿ç”¨æ•°ç»„ä¿å­˜çŠ¶æ€ç›¸æ¯”ï¼Œå¯¹äºä¸€ä¸ªnè¡Œmåˆ—çš„æ£‹ç›˜ï¼Œè‡³å°‘éœ€è¦ä¸€ä¸ªn Ã— mçš„intå‹æ•°ç»„æ¥è¿›è¡Œä¿å­˜ï¼Œä¹Ÿå°±æ˜¯n Ã— m Ã— 32 byteã€‚è€Œä½¿ç”¨äºŒè¿›åˆ¶æ•°è¡¨ç¤ºåˆ™åªéœ€è¦n Ã— 32 byteï¼ˆä¸€èˆ¬è€Œè¨€ï¼‰ã€‚ç”±æ­¤å¯è§ï¼Œç©ºé—´å¤æ‚åº¦å¾—åˆ°äº†å¾ˆå¤§çš„ä¼˜åŒ–ã€‚è€Œåœ¨çŠ¶å‹dpä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å„ç§ä½è¿ç®—æ¥æ“ä½œäºŒè¿›åˆ¶æ•°ï¼Œè¿™ä½¿å¾—æ—¶é—´å¤æ‚åº¦ä¹Ÿå¾ˆä¼˜è‰¯ã€‚</p>
<p>é¦–å…ˆä¸Šä¸€é“é¢˜ç›®æ„Ÿå—ä¸€ä¸‹å§ã€‚</p>
<p><a href="https://www.luogu.org/problemnew/show/P1879" rel="external nofollow noopener noreferrer" target="_blank">P1879 Corn Fields</a></p>
<p>é¢˜ç›®å¤§æ„æ˜¯è¯´ï¼Œæœ‰ä¸€å—mè¡Œnåˆ—çš„ç‰§åœºï¼Œæ¯ä¸€æ ¼éƒ½æ˜¯ä¸€å—æ­£æ–¹å½¢çš„åœŸåœ°ã€‚ç°åœ¨è¦åœ¨è¿™äº›åœŸåœ°ä¸Šç§è‰ï¼Œè§„åˆ™æ˜¯åªèƒ½åœ¨è‚¥æ²ƒçš„åœŸåœ°ä¸Šç§è‰ï¼Œä¸”ä¸èƒ½é€‰æ‹©ä¸¤å—ç›¸é‚»çš„åœŸåœ°ã€‚é—®ä¸€å…±æœ‰å¤šå°‘ç§å¯è¡Œçš„ç§æ¤æ–¹æ¡ˆã€‚ï¼ˆå®Œå…¨ä¸ç§è‰ä¹Ÿæ˜¯ä¸€ç§æ–¹æ¡ˆï¼‰</p>
<p>å¦‚æœä¸ä½¿ç”¨çŠ¶å‹dpè€Œæ˜¯ç›´æ¥æš´åŠ›dfsçš„è¯ï¼Œå½“nå’Œmå–åˆ°æœ€å¤§å€¼æ—¶ï¼Œå¾ˆæœ‰å¯èƒ½è·‘å‡ ä¸ªå°æ—¶éƒ½è·‘ä¸å‡ºç»“æœâ€¦â€¦</p>
<p>è€ƒè™‘ä½¿ç”¨çŠ¶å‹dpã€‚å¤§è‡´æ€è·¯ä¸ºï¼Œé¦–å…ˆä½¿ç”¨mä¸ªnä½çš„äºŒè¿›åˆ¶æ•°ä¿å­˜åœŸåœ°çš„è‚¥æ²ƒæƒ…å†µï¼Œç„¶åé¢„å¤„ç†å‡ºæ‰€æœ‰ä¸å­˜åœ¨ç›¸é‚»åˆ—çš„è¡ŒçŠ¶æ€ã€‚dp[i][j]è¡¨ç¤ºçš„æ˜¯å¯¹äºç‰§åœºçš„ç¬¬iè¡Œï¼Œåœ¨çŠ¶æ€jä¸‹ä¸€å…±æœ‰å¤šå°‘ç§æ”¾ç½®æ–¹æ³•ã€‚å¯¹äºç¬¬iè¡Œï¼Œæˆ‘ä»¬å¯ä»¥ç”±ç¬¬k-1è¡Œè½¬ç§»è¿‡æ¥ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º:</p>
<script type="math/tex; mode=display">
dp[i][j]=(dp[i][j]+dp[i-1][k])\ mod\ p\\
p = 100000000, 0\lt j\lt (1<<n),0\lt k\lt (1<<n)</script><p>åœ¨æœ€åè®¡ç®—ç­”æ¡ˆçš„æ—¶å€™ï¼Œæ ¹æ®dp[][]çš„å®šä¹‰ï¼Œæˆ‘ä»¬åªéœ€è¦è®²dp[n][]é‡Œé¢çš„å†…å®¹å…¨éƒ¨åŠ èµ·æ¥ï¼Œç„¶åå–ä¸ªæ¨¡å°±æ˜¯é¢˜ç›®è¦æ±‚çš„ç­”æ¡ˆã€‚</p>
<p>ä»£ç å¦‚ä¸‹:</p>
<p>ï¼ˆç”±äºä¸ªäººä¹ æƒ¯ï¼Œä»£ç ä¸­æ˜¯nè¡Œmåˆ—ï¼Œè€Œéé¢˜ç›®æ‰€è¿°çš„mè¡Œnåˆ—ï¼‰</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">20005</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> map_[<span class="number">15</span>];</span><br><span class="line"><span class="keyword">int</span> arr[<span class="number">1</span>&lt;&lt;<span class="number">12</span>+<span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">15</span>][<span class="number">1</span>&lt;&lt;<span class="number">12</span>+<span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span> mod=<span class="number">100000000</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;      <span class="comment">//nè¡Œmåˆ— </span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=m;j++)&#123;</span><br><span class="line">            <span class="keyword">int</span> tmp;<span class="built_in">cin</span>&gt;&gt;tmp;</span><br><span class="line">            map_[i]=(map_[i]&lt;&lt;<span class="number">1</span>)+tmp;   <span class="comment">//ç”¨äºŒè¿›åˆ¶æ•°ä¿å­˜</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;(<span class="number">1</span>&lt;&lt;m);i++)&#123;</span><br><span class="line">        arr[i]=((i&amp;(i&lt;&lt;<span class="number">1</span>))==<span class="number">0</span>)&amp;&amp;((i&amp;(i&gt;&gt;<span class="number">1</span>))==<span class="number">0</span>); <span class="comment">//æ£€æŸ¥è¯¥çŠ¶æ€æ˜¯å¦æœ‰ç›¸é‚»åˆ—</span></span><br><span class="line">    &#125;</span><br><span class="line">    mst(dp,<span class="number">0</span>);</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;(<span class="number">1</span>&lt;&lt;m);j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[j]&amp;&amp;((j&amp;map_[i])==j))&#123;    <span class="comment">//å½“å‰çŠ¶æ€æ²¡æœ‰ç›¸é‚»åˆ—ï¼Œä¸”éƒ½æ˜¯åœ¨è‚¥æ²ƒåœŸåœ°ä¸Šç§è‰</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;(<span class="number">1</span>&lt;&lt;m);k++)&#123;    <span class="comment">//æšä¸¾ä¸Šä¸€è¡Œçš„çŠ¶æ€</span></span><br><span class="line">                    <span class="keyword">if</span>((k&amp;j)==<span class="number">0</span>)        <span class="comment">//åŒä¸€åˆ—ä¸Šæ²¡æœ‰ç›¸é‚»</span></span><br><span class="line">                        dp[i][j]=(dp[i][j]+dp[i<span class="number">-1</span>][k])%mod; <span class="comment">//å½“å‰è¡Œçš„çŠ¶æ€ç”±ä¸Šä¸€è¡Œè½¬ç§»è€Œæ¥</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;(<span class="number">1</span>&lt;&lt;m);i++)</span><br><span class="line">        ans=(ans+dp[n][i])%mod;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡è¿™é“é¢˜ç›®ï¼Œæœ‰æ²¡æœ‰ä¸€ç§æ„Ÿè§‰ï¼ŒçŠ¶å‹dpå…¶å®æ˜¯ä¸€ç§é«˜æ•ˆçš„æš´åŠ›ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶æœ¬è´¨è¿˜æ˜¯æš´åŠ›ï¼Ÿç¡®å®å¦‚æ­¤ï¼ŒçŠ¶å‹dpå…¶å®å¯ä»¥è¯´æ˜¯ç»è¿‡äº†å¾ˆå¥½çš„ä¼˜åŒ–çš„æš´åŠ›(è‡³å°‘ç›®å‰æˆ‘æ˜¯è¿™ä¹ˆè®¤ä¸ºçš„OTZ)ã€‚æŠ“ä½è¿™ä¸€ç‚¹ï¼Œæœ‰åˆ©äºæˆ‘ä»¬å»ºç«‹çŠ¶å‹dpçš„æ€è€ƒæ–¹æ³•ã€‚</p>
<p>å†çœ‹ä¸€é“é¢˜</p>
<p><a href="https://www.luogu.org/problemnew/show/P1896" rel="external nofollow noopener noreferrer" target="_blank">P1896 äº’ä¸ä¾µçŠ¯</a></p>
<p>é¢˜ç›®å¤§æ„æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªn Ã— nçš„æ£‹ç›˜ä¸­æ”¾kä¸ªå›½ç‹ï¼Œä½¿ä»–ä»¬äº’ä¸æ”»å‡»ï¼Œé—®æœ‰å¤šå°‘ç§æ‘†æ”¾çš„æ–¹æ¡ˆã€‚å›½ç‹å¯ä»¥æ”»å‡»åˆ°å®ƒçš„ä¸Šä¸‹å·¦å³ï¼Œä»¥åŠå·¦ä¸Šå·¦ä¸‹å³ä¸Šå³ä¸‹å…«ä¸ªæ–¹å‘ã€‚</p>
<p>è¿™é“é¢˜ä¸ä¸Šä¸€é“é¢˜æœ‰ç‚¹åƒï¼Œä½†å¤šäº†ä¸ªkä¸ªå›½ç‹çš„çº¦æŸæ¡ä»¶ã€‚å¤§è‡´æ€è·¯ä¸ºï¼šé¦–å…ˆé¢„å¤„ç†å‡ºæ‰€æœ‰ä¸å­˜åœ¨åˆ—ç›¸é‚»æƒ…å†µçš„è¡ŒçŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯é‚£äº›æ— æ³•è®©å›½ç‹æ¨ªå‘æ”»å‡»çš„è¡ŒçŠ¶æ€ã€‚é€šè¿‡ä¸Šä¸€è¡Œçš„çŠ¶æ€ï¼Œå¯ä»¥è½¬ç§»å¾—åˆ°å½“å‰è¡Œçš„çŠ¶æ€ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š</p>
<script type="math/tex; mode=display">
dp[i][j][kings[i]+cnt]+=dp[i-1][p][cnt]\</script><p>è¯¥æ–¹ç¨‹çš„ç¬¬ä¸€ç»´è¡¨ç¤ºçš„æ˜¯å½“å‰æ‰€å¤„è¡Œçš„è¡Œå·ï¼Œç¬¬äºŒç»´è¡¨ç¤ºçš„æ˜¯çŠ¶æ€jï¼Œç¬¬ä¸‰ç»´è¡¨ç¤ºçš„æ˜¯åœ¨è¿™ä¸€è¡Œä»¥åŠè¿™ä¸€è¡Œä¸Šé¢çš„è¡Œä¸­ä¸€ä¸ªæ”¾ç½®äº†çš„å›½ç‹çš„ä¸ªæ•°(kings[i]è¡¨ç¤ºçš„æ˜¯çŠ¶æ€jçš„å›½ç‹ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯æœ‰å¤šå°‘ä¸ª1)ã€‚</p>
<p>å…·ä½“ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">20005</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line">ll ok[<span class="number">1</span>&lt;&lt;<span class="number">9</span>+<span class="number">5</span>];</span><br><span class="line">ll kings[<span class="number">1</span>&lt;&lt;<span class="number">9</span>+<span class="number">5</span>];</span><br><span class="line">ll dp[<span class="number">10</span>][<span class="number">1</span>&lt;&lt;<span class="number">9</span>+<span class="number">2</span>][<span class="number">100</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> n,k;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;k;</span><br><span class="line">    mst(ok,<span class="number">0</span>);mst(kings,<span class="number">0</span>);</span><br><span class="line">    mst(dp,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> maxi_state=(<span class="number">1</span>&lt;&lt;n);</span><br><span class="line">    <span class="keyword">int</span> idx=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;maxi_state;i++)&#123;        <span class="comment">//é¢„å¤„ç†æ‰€æœ‰ä¸å­˜åœ¨åˆ—ç›¸é‚»æƒ…å†µçš„è¡ŒçŠ¶æ€</span></span><br><span class="line">        <span class="keyword">if</span>((i&amp;(i&lt;&lt;<span class="number">1</span>))==<span class="number">0</span>)&#123;</span><br><span class="line">            ok[idx++]=i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;idx;i++)&#123;        <span class="comment">//æ•°ä¸€ä¸‹çŠ¶æ€iæœ‰å¤šå°‘ä¸ªå›½ç‹ï¼Œä¹Ÿå°±æ˜¯æœ‰å¤šå°‘ä¸ª1</span></span><br><span class="line">        <span class="keyword">int</span> tmp=ok[i];</span><br><span class="line">        <span class="keyword">while</span>(tmp)&#123;</span><br><span class="line">            kings[i]+=(tmp&amp;<span class="number">1</span>);    <span class="comment">//ç­‰ä»·äºkings[i]+=tmp%2;</span></span><br><span class="line">            tmp&gt;&gt;=<span class="number">1</span>;            <span class="comment">//ç­‰ä»·äºtmp/=2;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;idx;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(kings[i]&lt;=k)        <span class="comment">//å¦‚æœç¬¬ä¸€è¡Œçš„å›½ç‹ä¸ªæ•°ä¸å¤§äºk</span></span><br><span class="line">            dp[<span class="number">1</span>][i][kings[i]]=<span class="number">1</span>;    <span class="comment">//å…ˆå¤„ç†ç¬¬ä¸€è¡Œï¼Œä»¥ä¾¿æ ¹æ®ç¬¬ä¸€è¡Œæ¨å‡ºç¬¬äºŒè¡Œ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> row=<span class="number">2</span>;row&lt;=n;row++)&#123;    <span class="comment">//å¤„ç†æ¯ä¸€è¡Œ</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;idx;i++)&#123;     <span class="comment">//æšä¸¾å½“å‰è¡Œçš„çŠ¶æ€</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;idx;j++)&#123;     <span class="comment">//æšä¸¾ä¸Šä¸€è¡Œçš„çŠ¶æ€</span></span><br><span class="line">                <span class="keyword">if</span>(ok[i]&amp;ok[j])        <span class="comment">//å¦‚æœè¡Œç›¸é‚»</span></span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>((ok[j]&lt;&lt;<span class="number">1</span>)&amp;(ok[i]))    <span class="comment">//å¦‚æœå¯¹è§’çº¿ä¸Šæœ‰å›½ç‹</span></span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>((ok[j]&gt;&gt;<span class="number">1</span>)&amp;(ok[i]))    <span class="comment">//åŒä¸Š</span></span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> cnt=<span class="number">1</span>;cnt&lt;=k;cnt++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(kings[i]+cnt&lt;=k)&#123;        <span class="comment">//å›½ç‹æ•°ä¸èƒ½è¶…è¿‡k</span></span><br><span class="line">                        dp[row][i][kings[i]+cnt]+=dp[row<span class="number">-1</span>][j][cnt];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ll ans=<span class="number">0</span>;        <span class="comment">//æ³¨æ„è¦ç”¨long longï¼Œå¦åˆ™ä¼šWA</span></span><br><span class="line">    <span class="comment">//å› ä¸ºä¸çŸ¥é“åˆ°åº•æ˜¯åœ¨å“ªä¸€è¡Œç”¨å®Œkä¸ªå›½ç‹ï¼Œæ‰€ä»¥è¦æŠŠæ‰€æœ‰è¡Œä¸Šçš„æ–¹æ¡ˆæ•°éƒ½åŠ èµ·æ¥</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;idx;j++)</span><br><span class="line">            ans+=dp[i][j][k];</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœ€åå†æ¥ä¸€é¢˜</p>
<p><a href="https://cn.vjudge.net/problem/HDU-1074" rel="external nofollow noopener noreferrer" target="_blank">Doing Homework</a></p>
<p>å¤§è‡´é¢˜æ„æ˜¯è¯´ï¼Œç°åœ¨è¦äº¤ä½œä¸šäº†ï¼Œä¸€å…±æœ‰né¡¹ä½œä¸šè¦åšï¼Œæ¯ä¸€é¡¹ä½œä¸šéƒ½å¯¹åº”ä¸€ä¸ªddlå’Œå®Œæˆæ‰€éœ€è¦çš„æ—¶é—´ï¼Œå¦‚æœè¶…è¿‡äº†ddlï¼Œåˆ™ä¼šå¾—åˆ°ä¸€å®šçš„æƒ©ç½šï¼Œæ¯è¶…è¿‡1å¤©åˆ™æƒ©ç½šåŠ 1åˆ†ã€‚é—®å¦‚ä½•å®‰æ’åšä½œä¸šçš„æ¬¡åºæ‰èƒ½ä½¿å¾—åˆ°çš„æƒ©ç½šæœ€å°‘ã€‚</p>
<p>ä¸€å¼€å§‹çœ‹åˆ°è¿™é“é¢˜ç›®æ—¶æˆ‘æ²¡æœ‰æƒ³åˆ°è¦ç”¨çŠ¶å‹ï¼Œå› ä¸ºé‚£æ—¶æˆ‘è¿˜æ²¡å­¦â€¦â€¦æˆ‘æƒ³åˆ°çš„æ˜¯ï¼Œè¿™é¢˜æ„Ÿè§‰å¯ä»¥é€šè¿‡DAGæ¥è§£å†³ï¼Œä½†åˆä¼¼ä¹ä¸æ˜¯æ­£è§£â€¦..æ‰€ä»¥æ­£ç¡®åšæ³•åº”è¯¥æ˜¯ï¼Œç”¨äºŒè¿›åˆ¶æ•°è¡¨ç¤ºæŸä¸€ç§‘ç›®æ˜¯å¦å·²ç»å®Œæˆï¼Œ0è¡¨ç¤ºæœªå®Œæˆï¼Œ1è¡¨ç¤ºå·²å®Œæˆã€‚æ•…011è¡¨ç¤ºç¬¬1å’Œç¬¬2é¡¹ä½œä¸šå·²ç»å®Œæˆï¼Œè€Œç¬¬3é¡¹åˆ™æœªå®Œæˆã€‚ä¸€ä¸ªè¡¨ç¤ºä½œä¸šå®Œæˆæƒ…å†µçš„äºŒè¿›åˆ¶æ•°æ˜¯å¯ä»¥ç”±å…¶ä»–äºŒè¿›åˆ¶æ•°è½¬ç§»è€Œæ¥çš„ï¼Œå¦‚011å°±å¯ä»¥æœ‰001å’Œ010è½¬ç§»è€Œæ¥ï¼Œè€Œ001å’Œ010éƒ½æ˜¯ç”±000è½¬ç§»è€Œæ¥ã€‚è¿™å°±æ˜¯è¿™é“é¢˜dpçš„åŸºæœ¬æ€è·¯ã€‚è€Œå¯¹äºè¿™é“é¢˜çš„è¾“å‡ºï¼Œå› ä¸ºè¦è¾“å‡ºåšä½œä¸šçš„æ¬¡åºï¼Œæ‰€ä»¥éœ€è¦è¾“å‡ºè·¯å¾„ã€‚è¿™åªéœ€è¦è®°å½•ä¸‹å½“å‰ä½œä¸šçš„å‰é©±ï¼Œè¾“å‡ºæ—¶é€’å½’ä¸€ä¸‹å³å¯ã€‚å…·ä½“è§ä»£ç æ³¨é‡Šã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">hw</span>&#123;</span></span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    <span class="keyword">int</span> cost;</span><br><span class="line">    <span class="keyword">int</span> ddl;</span><br><span class="line">&#125;;</span><br><span class="line">hw hws[<span class="number">20</span>];</span><br><span class="line"><span class="keyword">int</span> dp[(<span class="number">1</span>&lt;&lt;<span class="number">15</span>)+<span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span> pre[(<span class="number">1</span>&lt;&lt;<span class="number">15</span>)+<span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">(<span class="keyword">int</span> state)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(state==<span class="number">0</span>)    <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">int</span> tt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(((<span class="number">1</span>&lt;&lt;i)&amp;state)&amp;&amp;(((<span class="number">1</span>&lt;&lt;i)&amp;pre[state])==<span class="number">0</span>))&#123;        </span><br><span class="line">            <span class="comment">//å¦‚æœåœ¨çŠ¶æ€stateä¸‹ï¼Œä½œä¸šiå·²ç»å®Œæˆï¼Œè€Œstateçš„å‰é©±æ²¡æœ‰å®Œæˆä½œä¸šiï¼Œé‚£å°±è¯´æ˜stateç›¸è¾ƒäºå…¶</span></span><br><span class="line">            <span class="comment">//å‰é©±ï¼Œå¤šå®Œæˆäº†ä½œä¸ši</span></span><br><span class="line">            tt=i;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    show(pre[state]);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;hws[tt].name&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        mst(pre,<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;hws[i].name&gt;&gt;hws[i].ddl&gt;&gt;hws[i].cost;</span><br><span class="line">        <span class="keyword">int</span> maxi_state=(<span class="number">1</span>&lt;&lt;n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;maxi_state;i++)</span><br><span class="line">            dp[i]=INF;        <span class="comment">//å› ä¸ºæ˜¯æ±‚æœ€å°å€¼ï¼Œæ‰€ä»¥åˆå§‹åŒ–ä¸ºINF</span></span><br><span class="line">        dp[<span class="number">0</span>]=<span class="number">0</span>;        <span class="comment">//æ‰€æœ‰ä½œä¸šéƒ½æ²¡åšæ—¶ï¼Œæƒ©ç½šè‡ªç„¶ä¹Ÿæ˜¯0</span></span><br><span class="line">        <span class="keyword">int</span> kase=<span class="number">0</span>;<span class="keyword">int</span> t1=<span class="number">0</span>;<span class="keyword">int</span> t2=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;maxi_state;i++)&#123;        <span class="comment">//æšä¸¾å®Œæˆä½œä¸šçš„æƒ…å†µ</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;    <span class="comment">//æšä¸¾ä½œä¸š</span></span><br><span class="line">                <span class="keyword">if</span>(i&amp;(<span class="number">1</span>&lt;&lt;j))        <span class="comment">//å¦‚æœå½“å‰ä½œä¸šå·²ç»å®Œæˆäº†ï¼Œå°±continue</span></span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">int</span> tot=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;n;k++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(i&amp;(<span class="number">1</span>&lt;&lt;k))</span><br><span class="line">                        tot+=hws[k].cost;        <span class="comment">//å°†å·²ç»å®Œæˆçš„ä½œä¸šæ‰€èŠ±è´¹çš„æ—¶é—´åŠ èµ·æ¥</span></span><br><span class="line">                &#125;</span><br><span class="line">                tot+=hws[j].cost;        <span class="comment">//å†åŠ ä¸Šå½“å‰ä½œä¸š</span></span><br><span class="line">                <span class="keyword">int</span> penalty=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">if</span>(tot&gt;hws[j].ddl)        <span class="comment">//è®¡ç®—æƒ©ç½š</span></span><br><span class="line">                    penalty=tot-hws[j].ddl;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    penalty=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">int</span> tmp=dp[i|(<span class="number">1</span>&lt;&lt;j)];</span><br><span class="line">                dp[i|(<span class="number">1</span>&lt;&lt;j)]=<span class="built_in">min</span>(dp[i|(<span class="number">1</span>&lt;&lt;j)],dp[i]+penalty);</span><br><span class="line">                <span class="keyword">if</span>(dp[i|(<span class="number">1</span>&lt;&lt;j)]!=tmp)       <span class="comment">//å°äºæ—¶æ‰å»è®°å½•</span></span><br><span class="line">                    pre[i|(<span class="number">1</span>&lt;&lt;j)]=i;        <span class="comment">//pre[]ä¿å­˜å‰é©±çŠ¶æ€</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;dp[(<span class="number">1</span>&lt;&lt;n)<span class="number">-1</span>]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        show((<span class="number">1</span>&lt;&lt;n)<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰€ä»¥ï¼Œç»è¿‡è¿™ä¸‰é“é¢˜ç›®ï¼Œå¯ä»¥å¾—å‡ºç»“è®ºï¼ŒçŠ¶å‹dpå…¶å®æœ¬è´¨å°±æ˜¯æš´åŠ›(å¤§æ¦‚)</p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>DP</category>
        <category>çŠ¶å‹DP</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>C</tag>
        <tag>C++</tag>
        <tag>DP</tag>
        <tag>çŠ¶å‹DP</tag>
      </tags>
  </entry>
  <entry>
    <title>çº¿æ®µæ ‘ä¸“é¢˜æ€»ç»“</title>
    <url>/2019/08/10/%E7%BA%BF%E6%AE%B5%E6%A0%91%E4%B8%93%E9%A2%98%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/H8248ceab1da6430e949cd345061b92c0I.jpg" alt></p>
<p>Photo by <strong>Mohsin</strong> khan from <strong>Pexels</strong><br><a id="more"></a></p>
<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>çº¿æ®µæ ‘çš„ä¸“é¢˜äº‹å®ä¸Šæ—©å°±å·²ç»åˆ·å®Œäº†ï¼Œç„¶è€Œä¸€ç›´æ‹–åˆ°ç°åœ¨æ‰å†™é¢˜è§£â€¦â€¦</p>
<p>binå·¨çš„çº¿æ®µæ ‘ä¸“é¢˜ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>çº¿æ®µæ ‘ç»´æŠ¤å’Œã€åŒºé—´å’Œã€ç«‹æ–¹å’Œã€æœ€å¤§å€¼ã€æœ€å°å€¼</li>
<li>çº¿æ®µæ ‘ä¸æŸ“è‰²é—®é¢˜</li>
<li>åŒºé—´åˆå¹¶</li>
<li>æ‰«æçº¿</li>
</ul>
<h3 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h3><p><a href="https://cn.vjudge.net/problem/HDU-1166" rel="external nofollow noopener noreferrer" target="_blank">HDU1166 æ•Œå…µå¸ƒé˜µ</a></p>
<p>é¢˜æ„æ˜¯è¯´ï¼Œç°åœ¨æœ‰Nä¸ªæ•°ï¼Œä¸‰ç§æ“ä½œï¼Œè¿™ä¸‰ç§æ“ä½œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>Add i jï¼Œè¡¨ç¤ºåœ¨ç¬¬$i$ä¸ªæ•°$a_i$ä¸ŠåŠ ä¸Š$j$</li>
<li>Sub i jï¼Œè¡¨ç¤ºåœ¨ç¬¬$i$ä¸ªæ•°$a_i$ä¸Šå‡å»$j$</li>
<li>Query i jï¼Œè¡¨ç¤ºè¯¢é—®åŒºé—´$[i,j]$çš„æ€»å’Œ</li>
</ul>
<p>å…¸å‹çš„å•ç‚¹ä¿®æ”¹åŒºé—´æŸ¥è¯¢ã€‚ç›´æ¥å¥—çº¿æ®µæ ‘æ¨¡æ¿å³å¯ã€‚subæ“ä½œå¯ä»¥é€šè¿‡addä¸Šç›¸åæ•°å®ç°ã€‚</p>
<p>ä»£ç å¦‚ä¸‹</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">50005</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> sum[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> arr[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_up</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum[rt]=sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]+sum[rt&lt;&lt;<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;sum[rt]);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">    push_up(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> pos,<span class="keyword">int</span> todo,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        sum[rt]+=todo;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(pos&lt;=mid)</span><br><span class="line">        update(pos,todo,lson);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        update(pos,todo,rson);</span><br><span class="line">    push_up(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L&lt;=lef&amp;&amp;R&gt;=rig)</span><br><span class="line">        <span class="keyword">return</span> sum[rt];</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(L&lt;=mid)</span><br><span class="line">        ret+=query(L,R,lson);</span><br><span class="line">    <span class="keyword">if</span>(R&gt;mid)</span><br><span class="line">        ret+=query(L,R,rson);</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="keyword">int</span> kase=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    getchar();</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d:\n"</span>,++kase);</span><br><span class="line">        mst(arr,<span class="number">0</span>);mst(sum,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        getchar();</span><br><span class="line"><span class="comment">//        for(int i=1;i&lt;=n;i++)</span></span><br><span class="line"><span class="comment">//            scanf("%d",&amp;arr[i]);</span></span><br><span class="line">        build(<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">char</span> str[<span class="number">15</span>];<span class="keyword">int</span> a,b;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>,str);</span><br><span class="line">            getchar();</span><br><span class="line">            <span class="keyword">if</span>(str[<span class="number">0</span>]==<span class="string">'E'</span>)        <span class="keyword">break</span>;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;a,&amp;b); </span><br><span class="line">            getchar();</span><br><span class="line">            <span class="keyword">if</span>(str[<span class="number">0</span>]==<span class="string">'Q'</span>)&#123;</span><br><span class="line">                <span class="keyword">int</span> ans=query(a,b,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(str[<span class="number">0</span>]==<span class="string">'A'</span>)&#123;</span><br><span class="line">                update(a,b,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(str[<span class="number">0</span>]==<span class="string">'S'</span>)&#123;</span><br><span class="line">                update(a,-b,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vjudge.net/problem/HDU-1754" rel="external nofollow noopener noreferrer" target="_blank">HDU1754 I Hate It</a></p>
<p>é¢˜æ„æ˜¯æŸ¥è¯¢åŒºé—´æœ€å¤§å€¼ï¼ŒåŒæ—¶è¿˜è¦æœ‰ä¿®æ”¹æ“ä½œã€‚çº¿æ®µæ ‘ç»´æŠ¤åŒºé—´æœ€å¤§å€¼å³å¯ã€‚</p>
<p>ä»£ç å¦‚ä¸‹</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">200000</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> maxi[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    maxi[rt]=<span class="built_in">max</span>(maxi[rt&lt;&lt;<span class="number">1</span>],maxi[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;tmp);</span><br><span class="line">        maxi[rt]=tmp;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">    pushup(rt);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> pos,<span class="keyword">int</span> val,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        maxi[rt]=val;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(pos&lt;=mid)</span><br><span class="line">        update(pos,val,lson);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        update(pos,val,rson);</span><br><span class="line">    pushup(rt);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> ans;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L&lt;=lef&amp;&amp;rig&lt;=R)&#123;</span><br><span class="line">        ans=<span class="built_in">max</span>(ans,maxi[rt]);</span><br><span class="line">        <span class="keyword">return</span> ;    </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(L&lt;=mid)</span><br><span class="line">        query(L,R,lson);</span><br><span class="line">    <span class="keyword">if</span>(R&gt;mid)</span><br><span class="line">        query(L,R,rson);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;m)!=EOF)&#123;</span><br><span class="line">        build(<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">        ans=<span class="number">-1</span>;</span><br><span class="line"><span class="comment">//        getchar();</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">            getchar();</span><br><span class="line">            <span class="keyword">char</span> op;<span class="built_in">scanf</span>(<span class="string">"%c"</span>,&amp;op);</span><br><span class="line">            <span class="keyword">int</span> x,y;<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;x,&amp;y);</span><br><span class="line">            <span class="keyword">if</span>(op==<span class="string">'Q'</span>)&#123;</span><br><span class="line">                ans=<span class="number">-1</span>;</span><br><span class="line">                query(x,y,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="string">'U'</span>)&#123;</span><br><span class="line">                update(x,y,<span class="number">1</span>,n,<span class="number">1</span>);    </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é¢˜æœ‰å¤šç»„æ ·ä¾‹â€¦OTZ</p>
<p><a href="https://cn.vjudge.net/problem/POJ-3468" rel="external nofollow noopener noreferrer" target="_blank">POJ3468 A Simple Problem with integers</a></p>
<p>é¢˜æ„æ˜¯è¯´ï¼Œæœ‰ä¸€ä¸²æ•°å­—ä»¥åŠä¸¤ç§æ“ä½œï¼Œä¸€æ˜¯ä¸ºæŸä¸€åŒºé—´ä¸Šçš„æ•°éƒ½åŠ ä¸ŠæŸä¸ªæ•°ï¼Œå¦ä¸€ä¸ªæ“ä½œæ˜¯è¯¢é—®åŒºé—´å’Œã€‚æœ€ç®€å•çš„åŒºé—´ä¿®æ”¹åŒºé—´æŸ¥è¯¢ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line">ll sum[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line">ll lazy[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(ll rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum[rt]=sum[rt&lt;&lt;<span class="number">1</span>]+sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(ll lef,ll rig,ll rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum[rt]=<span class="number">0</span>;lazy[rt]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line"><span class="comment">//        cin&gt;&gt;sum[rt];</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;sum[rt]);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    ll mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(ll rt,ll len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lazy[rt])&#123;</span><br><span class="line">        lazy[rt&lt;&lt;<span class="number">1</span>]+=lazy[rt];</span><br><span class="line">        lazy[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]+=lazy[rt];</span><br><span class="line">        sum[rt&lt;&lt;<span class="number">1</span>]+=lazy[rt]*(len-(len&gt;&gt;<span class="number">1</span>));</span><br><span class="line">        sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]+=lazy[rt]*(len&gt;&gt;<span class="number">1</span>);</span><br><span class="line">        lazy[rt]=<span class="number">0</span>; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(ll toL,ll toR,ll todo,ll lef,ll rig,ll rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=lef&amp;&amp;toR&gt;=rig)&#123;</span><br><span class="line">        lazy[rt]+=todo;</span><br><span class="line">        sum[rt]+=todo*(rig-lef+<span class="number">1</span>); </span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt,rig-lef+<span class="number">1</span>);</span><br><span class="line">    ll mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=mid)</span><br><span class="line">        update(toL,toR,todo,lson);</span><br><span class="line">    <span class="keyword">if</span>(toR&gt;mid)</span><br><span class="line">        update(toL,toR,todo,rson);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">query</span><span class="params">(ll toL,ll toR,ll lef,ll rig,ll rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=lef&amp;&amp;toR&gt;=rig)&#123;</span><br><span class="line">        <span class="keyword">return</span> sum[rt];</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt,rig-lef+<span class="number">1</span>);</span><br><span class="line">    ll mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    ll ans=<span class="number">0</span>; </span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=mid)</span><br><span class="line">        ans+=query(toL,toR,lson);</span><br><span class="line">    <span class="keyword">if</span>(toR&gt;mid)</span><br><span class="line">        ans+=query(toL,toR,rson);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">        </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//    std::ios::sync_with_stdio(false);</span></span><br><span class="line">    ll n,q;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>,&amp;n,&amp;q);</span><br><span class="line">    build(<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;q;i++)&#123;</span><br><span class="line">        <span class="keyword">char</span> op;<span class="built_in">cin</span>&gt;&gt;op;</span><br><span class="line">        <span class="keyword">if</span>(op==<span class="string">'Q'</span>)&#123;</span><br><span class="line">            ll L,R;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>,&amp;L,&amp;R);</span><br><span class="line">            ll ans=query(L,R,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="string">'C'</span>)&#123;</span><br><span class="line">            ll L,R,to;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld %lld %lld"</span>,&amp;L,&amp;R,&amp;to);</span><br><span class="line">            update(L,R,to,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vjudge.net/problem/POJ-2528" rel="external nofollow noopener noreferrer" target="_blank">POJ2528 Mayorâ€™s posters</a></p>
<p>å·²å†™é¢˜è§£ï¼Œä¸å†èµ˜è¿°</p>
<p><a href="https://mimori.coding.me/2019/05/18/POJ2528-Mayor-s-poster/" rel="external nofollow noopener noreferrer" target="_blank">Mayorâ€™s poster</a></p>
<p><a href="https://cn.vjudge.net/problem/HDU-1698" rel="external nofollow noopener noreferrer" target="_blank">HDU1698 Just a Hook</a></p>
<p>å°±æ˜¯åŒºé—´ä¿®æ”¹åŒºé—´æŸ¥è¯¢ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> lazy[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> sum[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum[rt]=sum[rt&lt;&lt;<span class="number">1</span>]+sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lazy[rt]!=<span class="number">0</span>)&#123;</span><br><span class="line">        lazy[rt&lt;&lt;<span class="number">1</span>]=lazy[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=lazy[rt];</span><br><span class="line">        sum[rt&lt;&lt;<span class="number">1</span>]=(len-(len&gt;&gt;<span class="number">1</span>))*lazy[rt];</span><br><span class="line">        sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=(len&gt;&gt;<span class="number">1</span>)*lazy[rt];</span><br><span class="line">        lazy[rt]=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum[rt]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        sum[rt]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> toL,<span class="keyword">int</span> toR,<span class="keyword">int</span> todo,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=lef&amp;&amp;toR&gt;=rig)&#123;</span><br><span class="line">        lazy[rt]=todo;</span><br><span class="line">        sum[rt]=(rig-lef+<span class="number">1</span>)*todo;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    pushdown(rt,rig-lef+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=mid)</span><br><span class="line">        update(toL,toR,todo,lson);</span><br><span class="line">    <span class="keyword">if</span>(toR&gt;mid)</span><br><span class="line">        update(toL,toR,todo,rson);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> toL,<span class="keyword">int</span> toR,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=lef&amp;&amp;toR&gt;=rig)&#123;</span><br><span class="line">        <span class="keyword">return</span> sum[rt];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    pushdown(rt,rig-lef+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=mid)</span><br><span class="line">        ret+=query(toL,toR,lson);</span><br><span class="line">    <span class="keyword">if</span>(toR&gt;mid)</span><br><span class="line">        ret+=query(toL,toR,rson);</span><br><span class="line">    <span class="keyword">return</span> ret; </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//    std::ios::sync_with_stdio(false);</span></span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">int</span> kase=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        mst(lazy,<span class="number">0</span>);mst(sum,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> n;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        build(<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line"><span class="comment">//        debug;</span></span><br><span class="line">        <span class="keyword">int</span> q;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;q);</span><br><span class="line"><span class="comment">//        debug;</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;q;i++)&#123;</span><br><span class="line"><span class="comment">//            debug;</span></span><br><span class="line">            <span class="keyword">int</span> x,y,z;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>,&amp;x,&amp;y,&amp;z);</span><br><span class="line">            update(x,y,z,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans=query(<span class="number">1</span>,n,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: The total value of the hook is %d.\n"</span>,++kase,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vjudge.net/problem/ZOJ-1610" rel="external nofollow noopener noreferrer" target="_blank">ZOJ1610 Count the Colors</a></p>
<p>ä¾ç„¶æ˜¯æŸ“è‰²é—®é¢˜ã€‚é¢˜æ„æ˜¯è¯´ï¼Œåœ¨ä¸€æ¡ç›´çº¿ä¸Šæ¶‚è‰²ï¼Œé¢œè‰²ä¸é¢œè‰²ä¹‹é—´å¯ä»¥ç›¸äº’è¦†ç›–ï¼Œé—®æœ€ç»ˆå¯ä»¥çœ‹åˆ°çš„é¢œè‰²æœ‰å¤šå°‘ã€‚</p>
<p>ä¸è´´æµ·æŠ¥é‚£é¢˜æ€è·¯å‡ ä¹ä¸€æ ·ã€‚åªéœ€è¦ç”¨ä¸ª$cnt[]$æ•°ç»„è®°å½•ä¸€ä¸‹é¢œè‰²ä¸ªæ•°å³å¯ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">8005</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> lazy[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> cnt[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> lef;</span><br><span class="line">    <span class="keyword">int</span> rig;</span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">&#125;;</span><br><span class="line">node ns[<span class="number">8005</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lazy[rt]!=<span class="number">-1</span>)&#123;</span><br><span class="line">        lazy[rt&lt;&lt;<span class="number">1</span>]=lazy[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=lazy[rt];</span><br><span class="line">        lazy[rt]=<span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> toL,<span class="keyword">int</span> toR,<span class="keyword">int</span> todo,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=lef&amp;&amp;toR&gt;=rig)&#123;</span><br><span class="line">        lazy[rt]=todo;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=mid)</span><br><span class="line">        update(toL,toR,todo,lson);</span><br><span class="line">    <span class="keyword">if</span>(toR&gt;mid)</span><br><span class="line">        update(toL,toR,todo,rson);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> tag=<span class="number">-1</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        <span class="keyword">if</span>(lazy[rt]!=<span class="number">-1</span>&amp;&amp;lazy[rt]!=tag)&#123;</span><br><span class="line">            cnt[lazy[rt]]++;</span><br><span class="line">        &#125;</span><br><span class="line">        tag=lazy[rt];</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    query(lson);</span><br><span class="line">    query(rson);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> max_id=<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">int</span> range=<span class="number">-1</span>;</span><br><span class="line">        mst(lazy,<span class="number">-1</span>);mst(cnt,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> lef,rig,to;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>,&amp;ns[i].lef,&amp;ns[i].rig,&amp;ns[i].to);</span><br><span class="line">            range=<span class="built_in">max</span>(range,ns[i].rig); </span><br><span class="line">            max_id=<span class="built_in">max</span>(max_id,ns[i].to);</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            update(ns[i].lef+<span class="number">1</span>,ns[i].rig,ns[i].to,<span class="number">0</span>,range,<span class="number">1</span>);</span><br><span class="line">        query(<span class="number">0</span>,range,<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=max_id;i++)</span><br><span class="line">            <span class="keyword">if</span>(cnt[i]!=<span class="number">0</span>)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,i,cnt[i]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vjudge.net/problem/POJ-3264" rel="external nofollow noopener noreferrer" target="_blank">POJ3264 Balanced Lineup</a></p>
<p>çº¿æ®µæ ‘ç»´æŠ¤åŒºé—´æœ€å¤§å€¼å’Œæœ€å°å€¼</p>
<p>ä»£ç å¦‚ä¸‹</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">8005</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> lazy[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> cnt[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> lef;</span><br><span class="line">    <span class="keyword">int</span> rig;</span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">&#125;;</span><br><span class="line">node ns[<span class="number">8005</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lazy[rt]!=<span class="number">-1</span>)&#123;</span><br><span class="line">        lazy[rt&lt;&lt;<span class="number">1</span>]=lazy[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=lazy[rt];</span><br><span class="line">        lazy[rt]=<span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> toL,<span class="keyword">int</span> toR,<span class="keyword">int</span> todo,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=lef&amp;&amp;toR&gt;=rig)&#123;</span><br><span class="line">        lazy[rt]=todo;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=mid)</span><br><span class="line">        update(toL,toR,todo,lson);</span><br><span class="line">    <span class="keyword">if</span>(toR&gt;mid)</span><br><span class="line">        update(toL,toR,todo,rson);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> tag=<span class="number">-1</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        <span class="keyword">if</span>(lazy[rt]!=<span class="number">-1</span>&amp;&amp;lazy[rt]!=tag)&#123;</span><br><span class="line">            cnt[lazy[rt]]++;</span><br><span class="line">        &#125;</span><br><span class="line">        tag=lazy[rt];</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    query(lson);</span><br><span class="line">    query(rson);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> max_id=<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">int</span> range=<span class="number">-1</span>;</span><br><span class="line">        mst(lazy,<span class="number">-1</span>);mst(cnt,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> lef,rig,to;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>,&amp;ns[i].lef,&amp;ns[i].rig,&amp;ns[i].to);</span><br><span class="line">            range=<span class="built_in">max</span>(range,ns[i].rig); </span><br><span class="line">            max_id=<span class="built_in">max</span>(max_id,ns[i].to);</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            update(ns[i].lef+<span class="number">1</span>,ns[i].rig,ns[i].to,<span class="number">0</span>,range,<span class="number">1</span>);</span><br><span class="line">        query(<span class="number">0</span>,range,<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=max_id;i++)</span><br><span class="line">            <span class="keyword">if</span>(cnt[i]!=<span class="number">0</span>)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,i,cnt[i]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vjudge.net/problem/HDU-4027" rel="external nofollow noopener noreferrer" target="_blank">HDU4027 Can you answer these queries?</a></p>
<p>é¢˜æ„æ˜¯è¯´ï¼Œç°åœ¨æœ‰ä¸€æ­£æ•´æ•°åºåˆ—ï¼Œè¿˜æœ‰ä¸¤ç§æ“ä½œï¼Œç¬¬ä¸€ç§æ˜¯å¯ä»¥å°†æŸä¸€åŒºé—´å†…çš„æ•´æ•°å˜ä¸ºå…¶è‡ªèº«çš„å¹³æ–¹æ ¹ï¼›ç¬¬äºŒç§æ“ä½œæ˜¯è¯¢é—®åŒºé—´å’Œã€‚</p>
<p>æ³¨æ„æœ¬é¢˜æœ‰ä¸€ä¸ªæ¡ä»¶ï¼Œâ€œNotice that the square root operation should be rounded down to integer.â€ï¼Œå› æ­¤ï¼Œå½“æŸæ¬¡æ“ä½œåï¼Œå¦‚æœæŸä¸ªæ•°çš„ç»“æœå°äº1ï¼Œé‚£å®ƒå°±ç›´æ¥å˜æˆ0äº†ï¼è¿™å°±ç»™äº†æˆ‘ä»¬ä¸€ä¸ªè§£é¢˜çš„æ€è·¯ï¼šè¿™é¢˜æˆ‘ä»¬å¯ä»¥ä¸€ç›´èµ°åˆ°å¶å­èŠ‚ç‚¹å†è¿›è¡Œå¹³æ–¹æ ¹æ“ä½œï¼Œå¯¹äºé‚£äº›å·²ç»ä¸º0çš„æ•°ï¼Œå°±å¯ä»¥å°†å®ƒä»¬è®°å½•ä¸‹æ¥ï¼Œä¸‹æ¬¡æ“ä½œçš„æ—¶å€™å°±å¯ä»¥ä¸ç”¨æ“ä½œè¿™ä¸ªæ•°äº†ï¼ç”±æ­¤é™ä½å¤æ‚åº¦ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">100000</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line">ll sum[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="keyword">bool</span> flag[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum[rt]=sum[rt&lt;&lt;<span class="number">1</span>]+sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>];</span><br><span class="line">    flag[rt]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(flag[rt&lt;&lt;<span class="number">1</span>]&amp;&amp;flag[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>])</span><br><span class="line">        flag[rt]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;sum[rt]);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">    pushup(rt);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> toL,<span class="keyword">int</span> toR,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(flag[rt])</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        sum[rt]=(ll)<span class="built_in">sqrt</span>(sum[rt]);</span><br><span class="line">        <span class="keyword">if</span>(sum[rt]&lt;=<span class="number">1</span>)        </span><br><span class="line">            flag[rt]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=mid) </span><br><span class="line">        update(toL,toR,lson);</span><br><span class="line">    <span class="keyword">if</span>(toR&gt;mid)    </span><br><span class="line">        update(toL,toR,rson);</span><br><span class="line">    pushup(rt);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line">ll ans=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> toL,<span class="keyword">int</span> toR,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=lef&amp;&amp;rig&lt;=toR)&#123;</span><br><span class="line">        ans+=sum[rt];</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=mid)</span><br><span class="line">        query(toL,toR,lson);</span><br><span class="line">    <span class="keyword">if</span>(toR&gt;mid)</span><br><span class="line">        query(toL,toR,rson);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;<span class="keyword">int</span> kase=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)!=EOF)&#123;</span><br><span class="line">        mst(flag,<span class="number">0</span>);</span><br><span class="line">        build(<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> t;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case #%d:\n"</span>,++kase);</span><br><span class="line">        <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">            <span class="keyword">int</span> op,l,r;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>,&amp;op,&amp;l,&amp;r);</span><br><span class="line">            <span class="keyword">if</span>(l&gt;r)</span><br><span class="line">                swap(l,r);</span><br><span class="line">            <span class="keyword">if</span>(op==<span class="number">0</span>)&#123;</span><br><span class="line">                update(l,r,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">1</span>)&#123;</span><br><span class="line">                ans=<span class="number">0</span>;</span><br><span class="line">                query(l,r,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vjudge.net/problem/HDU-1540" rel="external nofollow noopener noreferrer" target="_blank">HDU1540 Tunnel Warfare</a></p>
<p>åœ°é“æˆ˜ã€‚</p>
<p>é¢˜æ„æ˜¯è¯´ï¼Œæœ‰ä¸€ç³»åˆ—çš„æ‘åº„ï¼Œé™¤äº†æœ«ç«¯çš„ä¸¤ä¸ªæ‘åº„ä»¥å¤–ï¼Œå…¶ä»–çš„éƒ½ä¸ç›¸é‚»çš„ä¸¤ä¸ªè¿æ¥å½¢æˆä¸€æ¡çº¿ã€‚ç°åœ¨æœ‰ä¸‰ç§æ“ä½œï¼Œä¸€ç§æ˜¯æ‘§æ¯ç¬¬$x$ä¸ªæ‘åº„ï¼›ä¸€ç§æ˜¯è¯¢é—®æœ‰å¤šå°‘ä¸ªæ‘åº„ä¸ç¬¬$x$ä¸ªæ‘åº„ç›´æ¥æˆ–é—´æ¥è¿æ¥ï¼›è¿˜æœ‰ä¸€ç§æ˜¯å°†æœ€åè¢«æ‘§æ¯çš„æ‘åº„ä¿®å¤ï¼Œæ„å‘³ç€è¯¥æ‘åº„ä¸å…¶é‚»è¿‘ä¸¤ä¸ªæ‘åº„çš„è¿æ¥é‡æ–°å»ºç«‹ã€‚</p>
<p>è¿™é¢˜çš„æ­£è§£æ˜¯åŒºé—´åˆå¹¶ï¼Œä½†æœ‰ä¸€ç§å¾ˆå·§å¦™çš„åšæ³•ï¼šç”¨çº¿æ®µæ ‘ç»´æŠ¤åŒºé—´æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚å¯¹äºæœ€å¤§å€¼ï¼Œä¸€å¼€å§‹åˆå§‹åŒ–æ¯ä¸ªæ‘åº„éƒ½ä¸º0ï¼›å¯¹äºæœ€å°å€¼ï¼Œåˆå§‹åŒ–æ¯ä¸ªæ‘åº„éƒ½ä¸ºINFã€‚æ‘§æ¯çš„æ—¶å€™ï¼Œå¦‚æœè¦æ‘§æ¯ç¬¬$x$ä¸ªæ‘åº„ï¼Œåªéœ€è¦å°†å¯¹åº”çš„maxi[rt]æ”¹ä¸º$x$ï¼Œå¯¹åº”çš„mini[rt]ä¹Ÿæ”¹ä¸º$x$å³å¯ã€‚æŸ¥è¯¢çš„æ—¶å€™ï¼Œå¯¹äºç¬¬$x$ä¸ªæ‘åº„ï¼ŒæŸ¥è¯¢åŒºé—´$[1,x-1]$çš„æœ€å°å€¼$mini_val$ï¼Œå†æŸ¥è¯¢åŒºé—´$[x,n]$çš„æœ€å¤§å€¼$mini_val$ï¼Œç­”æ¡ˆå°±æ˜¯$mini_val-maxi_val-1$ã€‚è€Œå¯¹äºä¿®å¤æ“ä½œï¼Œåªéœ€è¦å°†å¯¹åº”çš„maxi[rt]æ”¹å›0ï¼Œmini[rt]æ”¹å›INFå³å¯ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">50000</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> mini[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> maxi[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    mini[rt]=<span class="built_in">min</span>(mini[rt&lt;&lt;<span class="number">1</span>],mini[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]);</span><br><span class="line">    maxi[rt]=<span class="built_in">max</span>(maxi[rt&lt;&lt;<span class="number">1</span>],maxi[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        mini[rt]=n+<span class="number">1</span>;</span><br><span class="line">        maxi[rt]=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update_max</span><span class="params">(<span class="keyword">int</span> pos,<span class="keyword">int</span> todo,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        maxi[rt]=todo;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(pos&lt;=mid)</span><br><span class="line">        update_max(pos,todo,lson);</span><br><span class="line">    <span class="keyword">if</span>(pos&gt;mid)</span><br><span class="line">        update_max(pos,todo,rson);</span><br><span class="line">    maxi[rt]=<span class="built_in">max</span>(maxi[rt&lt;&lt;<span class="number">1</span>],maxi[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update_min</span><span class="params">(<span class="keyword">int</span> pos,<span class="keyword">int</span> todo,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        mini[rt]=todo;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(pos&lt;=mid)</span><br><span class="line">        update_min(pos,todo,lson);</span><br><span class="line">    <span class="keyword">if</span>(pos&gt;mid)</span><br><span class="line">        update_min(pos,todo,rson);</span><br><span class="line">    mini[rt]=<span class="built_in">min</span>(mini[rt&lt;&lt;<span class="number">1</span>],mini[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> min_val=INF;</span><br><span class="line"><span class="keyword">int</span> max_val=<span class="number">-1</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">query_max</span><span class="params">(<span class="keyword">int</span> toL,<span class="keyword">int</span> toR,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=lef&amp;&amp;rig&lt;=toR)&#123;</span><br><span class="line">        max_val=<span class="built_in">max</span>(max_val,maxi[rt]);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=mid)</span><br><span class="line">        query_max(toL,toR,lson);</span><br><span class="line">    <span class="keyword">if</span>(toR&gt;mid)</span><br><span class="line">        query_max(toL,toR,rson);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">query_min</span><span class="params">(<span class="keyword">int</span> toL,<span class="keyword">int</span> toR,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=lef&amp;&amp;rig&lt;=toR)&#123;</span><br><span class="line">        min_val=<span class="built_in">min</span>(min_val,mini[rt]);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=mid)</span><br><span class="line">        query_min(toL,toR,lson);</span><br><span class="line">    <span class="keyword">if</span>(toR&gt;mid)</span><br><span class="line">        query_min(toL,toR,rson);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> stk[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m;</span><br><span class="line">     <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;m)!=EOF)&#123;</span><br><span class="line">         getchar();<span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">         mst(stk,<span class="number">0</span>);</span><br><span class="line">         build(<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">         <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">             max_val=<span class="number">-2</span>;min_val=INF;</span><br><span class="line">            <span class="keyword">char</span> op;<span class="built_in">cin</span>&gt;&gt;op;</span><br><span class="line"><span class="comment">//            getchar();getchar();</span></span><br><span class="line">            <span class="keyword">if</span>(op==<span class="string">'D'</span>)&#123;</span><br><span class="line">                <span class="keyword">int</span> a;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a);</span><br><span class="line">                stk[cnt++]=a;</span><br><span class="line">                update_max(a,a,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">                update_min(a,a,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="string">'Q'</span>)&#123;</span><br><span class="line">                <span class="keyword">int</span> a;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a);</span><br><span class="line">                query_max(<span class="number">1</span>,a,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">                query_min(a,n,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line"><span class="comment">//                cout&lt;&lt;"max:"&lt;&lt;max_val&lt;&lt;" "&lt;&lt;"min:"&lt;&lt;min_val&lt;&lt;endl; </span></span><br><span class="line"><span class="comment">//                if(min_val==50001)        min_val=n+1;</span></span><br><span class="line"><span class="comment">//                if(max_val==-1)        max_val=1;</span></span><br><span class="line">                <span class="keyword">int</span> ans=min_val-max_val<span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">if</span>(min_val==max_val)        ans=<span class="number">0</span>;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="string">'R'</span>)&#123;</span><br><span class="line">                <span class="keyword">int</span> tmp=stk[--cnt];</span><br><span class="line">                update_max(tmp,<span class="number">0</span>,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">                update_min(tmp,n+<span class="number">1</span>,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶è€Œæœ¬é¢˜çš„æ­£è§£æˆ‘å´æ²¡æœ‰å†™hhhhï¼Œå…ˆæŒ–ä¸ªå‘ï¼Œåˆ°æ—¶å†è¡¥</p>
<p><a href="https://cn.vjudge.net/problem/HDU-3974" rel="external nofollow noopener noreferrer" target="_blank">HDU3974 Assign the task</a></p>
<p>é¢˜æ„æ˜¯è¯´ï¼Œä¸€ä¸ªå…¬å¸æœ‰Nä¸ªå‘˜å·¥ï¼Œæ¯ä¸ªå‘˜å·¥éƒ½æœ‰ä¸€ä¸ªç›´æ¥çš„ä¸Šå¸ã€‚å¶å­èŠ‚ç‚¹æ²¡æœ‰ä¸‹å±ï¼Œæ ‘æ ¹æ²¡æœ‰ä¸Šå¸ã€‚å½“ä¸Šå¸æ”¶åˆ°å·¥ä½œåï¼Œä¸Šå¸ä¼šå°†è¿™ä»½å·¥ä½œä¸‹å‘ç»™ä»–çš„æ‰€æœ‰ä¸‹å±ï¼ŒåŒ…æ‹¬ä¸ç›´å±çš„ä¸‹å±ã€‚ä¸‹å±åœ¨æ”¶åˆ°ä¸€ä»½æ–°çš„å·¥ä½œåï¼Œä¼šé©¬ä¸Šåœæ­¢æ‰‹å¤´ä¸Šçš„å·¥ä½œå¼€å§‹æ–°çš„å·¥ä½œã€‚é—®ï¼Œå½“å‰æŸä¸ªå‘˜å·¥çš„å·¥ä½œæ˜¯ä»€ä¹ˆã€‚</p>
<p>å…ˆç”¨dfsåºå°†æ ‘è½¬ä¸ºçº¿æ€§åŒºé—´ï¼Œå°±è½¬åŒ–ä¸ºå•ç‚¹æŸ¥è¯¢åŒºé—´ä¿®æ”¹çš„é—®é¢˜äº†ï¼Œå¯ä»¥ç›´æ¥ç”¨çº¿æ®µæ ‘æ¥æã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">50010</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> in[maxn];</span><br><span class="line"><span class="keyword">int</span> out[maxn];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; gra[maxn];</span><br><span class="line"><span class="keyword">int</span> tree[maxn&lt;&lt;<span class="number">3</span>];</span><br><span class="line"><span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> id=<span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u)</span>        <span class="comment">//idä»1å¼€å§‹ </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    len++;</span><br><span class="line">    in[u]=id++;        <span class="comment">//è®°å½•ä¸€ä¸‹å…¥æ ˆæ—¶é—´ </span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;gra[u].<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        dfs(gra[u][i]);</span><br><span class="line">    &#125;</span><br><span class="line">    out[u]=id++;    <span class="comment">//è®°å½•ä¸€ä¸‹å‡ºæ ˆæ—¶é—´ </span></span><br><span class="line">    len++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    tree[rt]=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(tree[rt]!=<span class="number">-1</span>)&#123;</span><br><span class="line">        tree[rt&lt;&lt;<span class="number">1</span>]=tree[rt];</span><br><span class="line">        tree[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=tree[rt];</span><br><span class="line">        tree[rt]=<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> toL,<span class="keyword">int</span> toR,<span class="keyword">int</span> todo,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=lef&amp;&amp;rig&lt;=toR)&#123;</span><br><span class="line">        tree[rt]=todo;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=mid)</span><br><span class="line">        update(toL,toR,todo,lson);</span><br><span class="line">    <span class="keyword">if</span>(toR&gt;mid)</span><br><span class="line">        update(toL,toR,todo,rson);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> ans;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> pos,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        ans=tree[rt];</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="keyword">if</span>(pos&lt;=mid)</span><br><span class="line">        query(pos,lson);</span><br><span class="line">    <span class="keyword">if</span>(pos&gt;mid)</span><br><span class="line">        query(pos,rson);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//    freopen("data_generator.txt","r",stdin);</span></span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">int</span> kase=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case #%d:\n"</span>,++kase);</span><br><span class="line">        ans=<span class="number">0</span>;id=<span class="number">1</span>;</span><br><span class="line">        mst(vis,<span class="number">0</span>);</span><br><span class="line">        mst(in,<span class="number">0</span>);mst(out,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> n;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        build(<span class="number">1</span>,<span class="number">2</span>*n,<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n<span class="number">-1</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> u,v;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;u,&amp;v);</span><br><span class="line">            gra[v].push_back(u);</span><br><span class="line">            vis[u]=<span class="number">1</span>;        <span class="comment">//ç”¨æ¥è®°å½•èŠ‚ç‚¹uæ˜¯å¦æ˜¯åˆ«äººçš„å„¿å­ </span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!vis[i])&#123;</span><br><span class="line">                dfs(i);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> m;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;m);</span><br><span class="line"><span class="comment">//        getchar();</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">            <span class="keyword">char</span> op;<span class="built_in">cin</span>&gt;&gt;op;</span><br><span class="line"><span class="comment">//            char tmp=getchar();</span></span><br><span class="line">            <span class="keyword">if</span>(op==<span class="string">'C'</span>)&#123;</span><br><span class="line">                <span class="keyword">int</span> x;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;x);</span><br><span class="line">                query(in[x],<span class="number">1</span>,<span class="number">2</span>*n,<span class="number">1</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);    </span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="string">'T'</span>)&#123;</span><br><span class="line">                <span class="keyword">int</span> x,y;<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;x,&amp;y);</span><br><span class="line">                update(in[x],out[x],y,<span class="number">1</span>,<span class="number">2</span>*n,<span class="number">1</span>);    </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            gra[i].<span class="built_in">clear</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vjudge.net/problem/HDU-4578" rel="external nofollow noopener noreferrer" target="_blank">HDU4578 Transformation</a></p>
<p>é¢˜æ„æ˜¯è¯´ï¼Œç°åœ¨æœ‰$n$ä¸ªæ•´æ•°$a_1,a_2,a_3,â€¦,a_n$ï¼Œåˆå§‹å€¼éƒ½ä¸º0ã€‚æœ‰ä»¥ä¸‹å››ç§æ“ä½œï¼š</p>
<ul>
<li><p>å¯¹$a_x$åˆ°$a_y$çš„æ•°ï¼Œåˆ†åˆ«éƒ½åŠ ä¸Š$c$ã€‚</p>
</li>
<li><p>å¯¹$a_x$åˆ°$a_y$çš„æ•°ï¼Œåˆ†åˆ«éƒ½ä¹˜ä¸Š$c$ã€‚</p>
</li>
<li><p>å°†$a_x$åˆ°$a_y$çš„æ•°ï¼Œéƒ½æ”¹ä¸º$c$ã€‚</p>
</li>
<li><p>æ±‚$a<em>x$åˆ°$a_y$çš„æ•°çš„$p$æ¬¡å¹‚çš„æ€»å’Œã€‚å³$a_x^p+a</em>{x+1}^p+a<em>{x+2}^p+â€¦+a</em>{y}^p$ã€‚å…¶ä¸­ï¼Œ$0 \lt p \lt 4$ï¼Œ$p$æ˜¯æ•´æ•°ã€‚</p>
<p>è¿™æ˜¯ä¸€é“æ¯”è¾ƒå¤æ‚çš„é¢˜ç›®ï¼Œéš¾ç‚¹åœ¨äºæ€ä¹ˆç»´æŠ¤$p$æ¬¡å¹‚çš„åŒºé—´å’Œï¼Œä»¥åŠåŠ æ“ä½œä¸ä¹˜æ“ä½œä¹‹é—´çš„ç›¸äº’å½±å“æ€ä¹ˆå¤„ç†ã€‚äº‹å®ä¸Šæ ¹æ®ä»¥ä¸‹ä¸¤æ¡å¼å­æ¥ç»´æŠ¤ä¸‰æ¬¡æ–¹å’Œä»¥åŠäºŒæ¬¡æ–¹å’Œå³å¯ï¼š</p>
<script type="math/tex; mode=display">
(x+c)^3=x^3+3cx^2+3c^2x+c^3 \\
(x+c)^2=x^2+2cx+c^2</script><p>å…·ä½“çš„çœ‹ä»£ç æ³¨é‡Šå§ã€‚</p>
<p>ä»£ç å¦‚ä¸‹</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line">ll mod=<span class="number">10007</span>;</span><br><span class="line">ll sum1[maxn&lt;&lt;<span class="number">2</span>];        <span class="comment">//åŒºé—´å’Œ </span></span><br><span class="line">ll sum2[maxn&lt;&lt;<span class="number">2</span>];        <span class="comment">//åŒºé—´å¹³æ–¹å’Œ </span></span><br><span class="line">ll sum3[maxn&lt;&lt;<span class="number">2</span>];        <span class="comment">//åŒºé—´ç«‹æ–¹å’Œ</span></span><br><span class="line">ll lazy_add[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line">ll lazy_mul[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line">ll lazy_set[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_up</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum1[rt]=(sum1[rt&lt;&lt;<span class="number">1</span>]+sum1[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>])%mod;</span><br><span class="line">    sum2[rt]=(sum2[rt&lt;&lt;<span class="number">1</span>]+sum2[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>])%mod;</span><br><span class="line">    sum3[rt]=(sum3[rt&lt;&lt;<span class="number">1</span>]+sum3[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>])%mod; </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum1[rt]=sum2[rt]=sum3[rt]=<span class="number">0</span>;</span><br><span class="line">    lazy_add[rt]=<span class="number">0</span>;</span><br><span class="line">    lazy_mul[rt]=<span class="number">1</span>;</span><br><span class="line">    lazy_set[rt]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line"><span class="comment">//        sum1[rt]=sum2[rt]=sum3[rt]=0;</span></span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">    push_up(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_down</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lazy_set[rt]!=<span class="number">0</span>)&#123;</span><br><span class="line">        lazy_add[rt&lt;&lt;<span class="number">1</span>]=lazy_add[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=<span class="number">0</span>;        </span><br><span class="line">        lazy_mul[rt&lt;&lt;<span class="number">1</span>]=lazy_mul[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">        lazy_set[rt&lt;&lt;<span class="number">1</span>]=lazy_set[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=lazy_set[rt];</span><br><span class="line">        ll tmp=(lazy_set[rt]*(lazy_set[rt]%mod)*(lazy_set[rt]%mod))%mod;</span><br><span class="line">        sum3[rt&lt;&lt;<span class="number">1</span>]=((len-(len&gt;&gt;<span class="number">1</span>))*tmp)%mod;</span><br><span class="line">        sum3[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=((len&gt;&gt;<span class="number">1</span>)*tmp)%mod;</span><br><span class="line">        </span><br><span class="line">        sum2[rt&lt;&lt;<span class="number">1</span>]=((len-(len&gt;&gt;<span class="number">1</span>))*((lazy_set[rt]%mod)*(lazy_set[rt]%mod)))%mod;</span><br><span class="line">        sum2[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=((len&gt;&gt;<span class="number">1</span>)*((lazy_set[rt]%mod)*(lazy_set[rt]%mod)))%mod;</span><br><span class="line">        </span><br><span class="line">        sum1[rt&lt;&lt;<span class="number">1</span>]=((len-(len&gt;&gt;<span class="number">1</span>))*(lazy_set[rt]%mod))%mod;</span><br><span class="line">        sum1[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=((len&gt;&gt;<span class="number">1</span>)*(lazy_set[rt]%mod))%mod;</span><br><span class="line">        </span><br><span class="line">        lazy_set[rt]=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(lazy_add[rt]!=<span class="number">0</span>||lazy_mul[rt]!=<span class="number">1</span>)&#123;</span><br><span class="line">        ll add=lazy_add[rt];ll mul=lazy_mul[rt];</span><br><span class="line">        ll tmp=(mul*mul%mod*mul%mod)%mod;</span><br><span class="line">        </span><br><span class="line">        lazy_add[rt&lt;&lt;<span class="number">1</span>]=(lazy_add[rt&lt;&lt;<span class="number">1</span>]*mul%mod+add%mod)%mod;</span><br><span class="line">        lazy_add[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=(lazy_add[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]*mul%mod+add%mod)%mod;</span><br><span class="line">        lazy_mul[rt&lt;&lt;<span class="number">1</span>]=(lazy_mul[rt&lt;&lt;<span class="number">1</span>]%mod*mul%mod)%mod;</span><br><span class="line">        lazy_mul[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=(lazy_mul[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]*mul%mod)%mod;</span><br><span class="line">        </span><br><span class="line">        sum3[rt&lt;&lt;<span class="number">1</span>]=(sum3[rt&lt;&lt;<span class="number">1</span>]*tmp%mod+add*add%mod*add%mod*(len-(len&gt;&gt;<span class="number">1</span>))</span><br><span class="line">                    +<span class="number">3</span>*sum2[rt&lt;&lt;<span class="number">1</span>]*mul*mul%mod*add%mod+<span class="number">3</span>*sum1[rt&lt;&lt;<span class="number">1</span>]*mul</span><br><span class="line">                    *add%mod*add%mod)%mod;        <span class="comment">//(x + c)^3 = x^3 + 3cx^2 + 3(c^2)x + c^3</span></span><br><span class="line">        sum3[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=(sum3[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]*tmp%mod+add*add%mod*add%mod*(len&gt;&gt;<span class="number">1</span>)</span><br><span class="line">                    +<span class="number">3</span>*sum2[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]*mul*mul%mod*add%mod+<span class="number">3</span>*sum1[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]*mul</span><br><span class="line">                    *add%mod*add%mod)%mod;        <span class="comment">//(x + c)^3 = x^3 + 3cx^2 + 3(c^2)x + c^3</span></span><br><span class="line">                    </span><br><span class="line">        sum2[rt&lt;&lt;<span class="number">1</span>]=(sum2[rt&lt;&lt;<span class="number">1</span>]*mul*mul%mod+add*add%mod*(len-(len&gt;&gt;<span class="number">1</span>))</span><br><span class="line">                    +<span class="number">2</span>*mul*add%mod*sum1[rt&lt;&lt;<span class="number">1</span>]%mod)%mod;    <span class="comment">//(x + c)^2 = x^2 + 2cx + c^2</span></span><br><span class="line">        sum2[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=(sum2[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]*mul*mul%mod+add*add%mod*(len&gt;&gt;<span class="number">1</span>)</span><br><span class="line">                    +<span class="number">2</span>*mul*add%mod*sum1[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]%mod)%mod;    <span class="comment">//(x + c)^2 = x^2 + 2cx + c^2</span></span><br><span class="line">                    </span><br><span class="line">        sum1[rt&lt;&lt;<span class="number">1</span>]=(sum1[rt&lt;&lt;<span class="number">1</span>]*mul%mod+add%mod*(len-(len&gt;&gt;<span class="number">1</span>)))%mod;</span><br><span class="line">        sum1[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=(sum1[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]*mul%mod+add%mod*(len&gt;&gt;<span class="number">1</span>))%mod;</span><br><span class="line">        </span><br><span class="line">        lazy_add[rt]=<span class="number">0</span>;lazy_mul[rt]=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">op==1:add </span></span><br><span class="line"><span class="comment">op==2:mul</span></span><br><span class="line"><span class="comment">op==3:set</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> op,<span class="keyword">int</span> toL,<span class="keyword">int</span> toR,<span class="keyword">int</span> todo,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(toR&lt;lef||toL&gt;rig)        <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=lef&amp;&amp;toR&gt;=rig)&#123;</span><br><span class="line">        <span class="keyword">if</span>(op==<span class="number">1</span>)&#123;</span><br><span class="line">            lazy_add[rt]=(todo+lazy_add[rt])%mod;</span><br><span class="line">            sum3[rt]=(sum3[rt]+(todo*todo%mod*todo%mod*(rig-lef+<span class="number">1</span>))</span><br><span class="line">            +<span class="number">3</span>*todo%mod*sum2[rt]%mod+<span class="number">3</span>*todo*todo%mod*sum1[rt]%mod)%mod;</span><br><span class="line">            <span class="comment">//(x + c)^3 = x^3 + 3cx^2 + 3(c^2)x + c^3</span></span><br><span class="line">            sum2[rt]=(sum2[rt]+(todo*todo%mod)*(rig-lef+<span class="number">1</span>)</span><br><span class="line">            +<span class="number">2</span>*sum1[rt]%mod*todo%mod)%mod;</span><br><span class="line">            </span><br><span class="line">            sum1[rt]=(sum1[rt]+(rig-lef+<span class="number">1</span>)*todo%mod)%mod;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">2</span>)&#123;</span><br><span class="line">            lazy_add[rt]=(lazy_add[rt]*todo)%mod;</span><br><span class="line">            lazy_mul[rt]=(lazy_mul[rt]*todo)%mod;</span><br><span class="line">            sum1[rt]=(todo*sum1[rt])%mod;</span><br><span class="line">            sum2[rt]=(todo*todo%mod*sum2[rt])%mod;</span><br><span class="line">            sum3[rt]=(todo*todo%mod*todo%mod*sum3[rt]%mod)%mod;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">3</span>)&#123;</span><br><span class="line">            lazy_add[rt]=<span class="number">0</span>;</span><br><span class="line">            lazy_mul[rt]=<span class="number">1</span>;</span><br><span class="line">            lazy_set[rt]=todo;</span><br><span class="line">            sum3[rt]=(rig-lef+<span class="number">1</span>)%mod*todo*todo%mod*todo%mod;</span><br><span class="line">            sum2[rt]=(rig-lef+<span class="number">1</span>)%mod*todo*todo%mod;</span><br><span class="line">            sum1[rt]=(rig-lef+<span class="number">1</span>)%mod*todo%mod;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    push_down(rt,rig-lef+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=mid)</span><br><span class="line">        update(op,toL,toR,todo,lson);</span><br><span class="line">    <span class="keyword">if</span>(toR&gt;mid)</span><br><span class="line">        update(op,toL,toR,todo,rson);</span><br><span class="line">    push_up(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">query</span><span class="params">(<span class="keyword">int</span> p,<span class="keyword">int</span> toL,<span class="keyword">int</span> toR,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=lef&amp;&amp;toR&gt;=rig)&#123;</span><br><span class="line">        <span class="keyword">if</span>(p==<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> sum1[rt];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(p==<span class="number">2</span>)</span><br><span class="line">            <span class="keyword">return</span> sum2[rt];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(p==<span class="number">3</span>)</span><br><span class="line">            <span class="keyword">return</span> sum3[rt]; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    push_down(rt,rig-lef+<span class="number">1</span>);</span><br><span class="line">    ll ret=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=mid)</span><br><span class="line">        ret+=query(p,toL,toR,lson);</span><br><span class="line">    <span class="keyword">if</span>(toR&gt;mid)</span><br><span class="line">        ret+=query(p,toL,toR,rson);</span><br><span class="line">    <span class="keyword">return</span> ret%mod;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//void update(int op,int toL,int toR,int todo,int lef,int rig,int rt)</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//    freopen("data_generator.txt","r",stdin);</span></span><br><span class="line"><span class="comment">//    freopen("out_hdu4578.txt","w",stdout);</span></span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;m)!=EOF&amp;&amp;n&amp;&amp;m)&#123;</span><br><span class="line"><span class="comment">//        mst(sum1,0);mst(sum2,0);mst(sum3,0);</span></span><br><span class="line"><span class="comment">//        mst(lazy_add,0);mst(lazy_mul,0);mst(lazy_set,0);</span></span><br><span class="line">        build(<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> type;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;type);</span><br><span class="line">            <span class="keyword">int</span> a,b,c;</span><br><span class="line">            c%=mod; </span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>,&amp;a,&amp;b,&amp;c);</span><br><span class="line">            <span class="keyword">if</span>(type!=<span class="number">4</span>)&#123;</span><br><span class="line">                update(type,a,b,c,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                ll ans=query(c,a,b,<span class="number">1</span>,n,<span class="number">1</span>);</span><br><span class="line">                ans%=mod;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><a href="https://cn.vjudge.net/problem/HDU-4614" rel="external nofollow noopener noreferrer" target="_blank">HDU4614 Vases and Flowers</a></p>
<p>é¢˜æ„æ˜¯è¯´ï¼Œæœ‰è‹¥å¹²ä¸ªèŠ±ç“¶ï¼Œæœ‰ä¸¤ç§æ“ä½œï¼Œåˆ†åˆ«æ˜¯</p>
<ul>
<li>ä»èŠ±ç“¶Aå¼€å§‹æ”¾FæœµèŠ±ï¼Œå¦‚æœæŸä¸ªèŠ±ç“¶å·²ç»æœ‰èŠ±äº†ï¼Œå°±è·³è¿‡è¿™ä¸ªèŠ±ç“¶ã€‚ä¸æ–­å°è¯•èŠ±ç“¶ï¼Œç›´è‡³æ‰€æœ‰èŠ±éƒ½æ”¾å®Œäº†ï¼Œæˆ–è€…Aä»¥åŠAä»¥åçš„èŠ±ç“¶éƒ½è¢«å°è¯•äº†ä¸€è¾¹ã€‚è¾“å‡ºæ”¾ç¬¬ä¸€æœµèŠ±çš„ä½ç½®ä»¥åŠæ”¾æœ€åä¸€æœµèŠ±çš„ä½ç½®ã€‚</li>
<li>ç¬¬äºŒç§æ“ä½œåˆ™æ˜¯æ¸…æ¥šåŒºé—´å†…çš„èŠ±ã€‚å¹¶è¾“å‡ºæ¸…é™¤äº†å¤šå°‘èŠ±</li>
</ul>
<p>æ€è·¯æ˜¯ï¼Œç©ºèŠ±ç“¶ç”¨1è¡¨ç¤ºï¼Œçº¿æ®µæ ‘æä¾›setæ“ä½œï¼Œç»´æŠ¤åŒºé—´å’Œã€‚æ¸…ç©ºèŠ±ç“¶çš„æ“ä½œå¾ˆç®€å•ï¼Œåªéœ€è¦æŸ¥è¯¢ä¸€ä¸‹åŒºé—´å’Œï¼Œç„¶åç”¨åŒºé—´é•¿åº¦å‡å»åŒºé—´å’Œå³å¯ã€‚å¯¹äºæ”¾èŠ±çš„æ“ä½œï¼Œå¯ä»¥ç”¨äºŒåˆ†æ‰¾åˆ°å·¦è¾¹ç•Œå’Œå³è¾¹ç•Œã€‚å…·ä½“è§ä»£ç åŠæ³¨é‡Šã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">50005</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> lazy[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> sum[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum[rt]=sum[rt&lt;&lt;<span class="number">1</span>]+sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    lazy[rt]=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        sum[rt]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lazy[rt]!=<span class="number">-1</span>)&#123;</span><br><span class="line">        lazy[rt&lt;&lt;<span class="number">1</span>]=lazy[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=lazy[rt];</span><br><span class="line">        sum[rt&lt;&lt;<span class="number">1</span>]=lazy[rt]*(len-(len&gt;&gt;<span class="number">1</span>));</span><br><span class="line">        sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=lazy[rt]*(len&gt;&gt;<span class="number">1</span>);</span><br><span class="line">        lazy[rt]=<span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> toL,<span class="keyword">int</span> toR,<span class="keyword">int</span> todo,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span>        <span class="comment">//è¿›è¡Œsetæ“ä½œ    //ç©ºèŠ±ç“¶ç”¨1è¡¨ç¤º </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=lef&amp;&amp;rig&lt;=toR)&#123;</span><br><span class="line">        lazy[rt]=todo;</span><br><span class="line">        sum[rt]=(rig-lef+<span class="number">1</span>)*todo;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt,rig-lef+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=mid)</span><br><span class="line">        update(toL,toR,todo,lson);</span><br><span class="line">    <span class="keyword">if</span>(toR&gt;mid)</span><br><span class="line">        update(toL,toR,todo,rson);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> toL,<span class="keyword">int</span> toR,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=lef&amp;&amp;rig&lt;=toR)&#123;</span><br><span class="line">        <span class="keyword">return</span> sum[rt];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    pushdown(rt,rig-lef+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=mid)</span><br><span class="line">        ret+=query(toL,toR,lson);</span><br><span class="line">    <span class="keyword">if</span>(toR&gt;mid)</span><br><span class="line">        ret+=query(toL,toR,rson);</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binary</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> num,<span class="keyword">int</span> cnt)</span>        <span class="comment">//cntä¸ºè¦æ‰¾çš„ç©ºèŠ±ç“¶çš„æ•°ç›® </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> mid=L+(R-L)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span>(L&lt;=R)&#123;</span><br><span class="line">        mid=L+(R-L)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(query(<span class="number">0</span>,mid,<span class="number">0</span>,n<span class="number">-1</span>,<span class="number">1</span>)-num&gt;=cnt)&#123;</span><br><span class="line">            R=mid<span class="number">-1</span>;</span><br><span class="line">            ans=mid;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            L=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">        build(<span class="number">0</span>,n<span class="number">-1</span>,<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> op;<span class="keyword">int</span> x,y;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;op&gt;&gt;x&gt;&gt;y;</span><br><span class="line">            <span class="keyword">if</span>(op==<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">int</span> tot=query(x,n<span class="number">-1</span>,<span class="number">0</span>,n<span class="number">-1</span>,<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span>(tot==<span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"Can not put any one.\n"</span>);</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(tot&lt;y)        y=tot;    <span class="comment">//totä¸ºä»xå¼€å§‹æœ€å¤šèƒ½æ”¾çš„èŠ±çš„æ•°ç›® </span></span><br><span class="line">                <span class="keyword">int</span> nu=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">if</span>(x&gt;=<span class="number">1</span>)</span><br><span class="line">                    nu=query(<span class="number">0</span>,x<span class="number">-1</span>,<span class="number">0</span>,n<span class="number">-1</span>,<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    nu=<span class="number">0</span>;        <span class="comment">//æ­¤æ—¶x-1ä¸ºè´Ÿæ•°ï¼Œè¦ç‰¹åˆ¤ä¸€ä¸‹ </span></span><br><span class="line">                <span class="keyword">int</span> lef=binary(x,n<span class="number">-1</span>,nu,<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">int</span> rig=binary(x,n<span class="number">-1</span>,nu,y);</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;lef&lt;&lt;<span class="string">" "</span>&lt;&lt;rig&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                update(lef,rig,<span class="number">0</span>,<span class="number">0</span>,n<span class="number">-1</span>,<span class="number">1</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">int</span> ans=(y-x+<span class="number">1</span>)-query(x,y,<span class="number">0</span>,n<span class="number">-1</span>,<span class="number">1</span>);</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                update(x,y,<span class="number">1</span>,<span class="number">0</span>,n<span class="number">-1</span>,<span class="number">1</span>);        <span class="comment">//1è¡¨ç¤ºç©ºèŠ±ç“¶ </span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vjudge.net/problem/POJ-1177" rel="external nofollow noopener noreferrer" target="_blank">POJ1177 Picture</a></p>
<p>é¢˜ç›®æ˜¯è®©æˆ‘ä»¬æ±‚è‹¥å¹²ä¸ªçŸ©å½¢é‡å åå½¢æˆçš„å¤§çŸ©å½¢çš„å‘¨é•¿ã€‚<br>æ‰«æçº¿é¢˜ç›®ï¼Œä½†ä¸€èˆ¬æ¥è¯´æ‰«æçº¿éƒ½æ˜¯ç”¨æ¥æ±‚å–é‡å é¢ç§¯çš„ï¼Œè€Œæ­¤å¤„æ˜¯æ±‚å–å‘¨é•¿ã€‚çº¿æ®µæ ‘ç»´æŠ¤åŒºé—´ä¸­è¢«è¦†ç›–çš„é•¿åº¦ä»¥åŠåŒºé—´ä¸­çº¿æ®µçš„æ•°ç›®ã€‚ä¹‹æ‰€ä»¥è¦ç»´æŠ¤çº¿æ®µé•¿åº¦ï¼Œæ˜¯å› ä¸ºåœ¨è®¡ç®—çŸ©å½¢$y$æ–¹å‘ä¸Šçš„å‘¨é•¿æ—¶éœ€è¦ç”¨åˆ°ã€‚æ¯æ¬¡updateçš„æ—¶å€™æ ¹æ®çº¿æ®µæ ‘æ›´æ–°åŒºé—´ç»“æœå³å¯ã€‚<br>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">20005</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">seg</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> lef,rig;</span><br><span class="line">    <span class="keyword">int</span> h;</span><br><span class="line">    <span class="keyword">int</span> tag;</span><br><span class="line">    seg()&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    seg(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> h,<span class="keyword">int</span> tag)</span><br><span class="line">        :lef(lef),rig(rig),h(h),tag(tag)&#123;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> seg&amp; se) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> h&lt;se.h;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">seg segs[<span class="number">5005</span>*<span class="number">2</span>];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span>        <span class="comment">//è¡¨ç¤ºä¸€ä¸ªåŒºé—´ </span></span><br><span class="line">    <span class="keyword">int</span> lef,rig;    <span class="comment">//å·¦å³ç«¯ç‚¹ </span></span><br><span class="line">    <span class="keyword">int</span> len;        <span class="comment">//è¢«è¦†ç›–çš„é•¿åº¦ </span></span><br><span class="line">    <span class="keyword">int</span> cover_cnt;    <span class="comment">//è¢«è¦†ç›–çš„æ¬¡æ•° </span></span><br><span class="line">    <span class="keyword">bool</span> lc,rc;        <span class="comment">//å·¦å³ç«¯ç‚¹æ˜¯å¦è¢«è¦†ç›– </span></span><br><span class="line">    <span class="keyword">int</span> num;        <span class="comment">//åŒºé—´ä¸­çº¿æ®µæ•°ç›® </span></span><br><span class="line">    node()&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">node ns[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ns[rt].lef=lef;ns[rt].rig=rig;</span><br><span class="line">    ns[rt].len=<span class="number">0</span>;</span><br><span class="line">    ns[rt].cover_cnt=ns[rt].lc=ns[rt].rc=<span class="number">0</span>;</span><br><span class="line">    ns[rt].num=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson); </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ns[rt].cover_cnt)&#123;</span><br><span class="line">        ns[rt].len=ns[rt].rig-ns[rt].lef+<span class="number">1</span>;</span><br><span class="line">        ns[rt].lc=ns[rt].rc=<span class="number">1</span>;</span><br><span class="line">        ns[rt].num=<span class="number">1</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(ns[rt].lef==ns[rt].rig)&#123;</span><br><span class="line">        ns[rt].len=<span class="number">0</span>;</span><br><span class="line">        ns[rt].lc=ns[rt].rc=<span class="number">0</span>;</span><br><span class="line">        ns[rt].num=<span class="number">0</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(ns[rt&lt;&lt;<span class="number">1</span>].rc&amp;&amp;ns[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].lc)</span><br><span class="line">            tmp=<span class="number">1</span>;</span><br><span class="line">        ns[rt].len=ns[rt&lt;&lt;<span class="number">1</span>].len+ns[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].len;</span><br><span class="line">        ns[rt].num=ns[rt&lt;&lt;<span class="number">1</span>].num+ns[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].num-tmp;        </span><br><span class="line">        <span class="comment">//å½“å·¦å„¿å­çš„å³ç«¯ç‚¹ä»¥åŠå³å„¿å­çš„å·¦ç«¯ç‚¹å®Œå…¨è¢«è¦†ç›–æ—¶ï¼Œä¸­é—´ä¼šæœ‰ä¸€æ®µè¢«é‡å¤è®¡ç®—</span></span><br><span class="line">        <span class="comment">//çš„çº¿æ®µï¼Œæ•…éœ€è¦å°†å…¶å‡å». </span></span><br><span class="line">        ns[rt].lc=ns[rt&lt;&lt;<span class="number">1</span>].lc;ns[rt].rc=ns[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].rc;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> val,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span>        <span class="comment">//æ ¹æ®æ‰«æçº¿å¯¹çº¿æ®µæ ‘èŠ‚ç‚¹è¿›è¡Œæ›´æ–°</span></span></span><br><span class="line"><span class="function"><span class="comment">//å‚æ•°è¡¨ä¸­çš„lefå’Œrigè¡¨ç¤ºæ‰«æçº¿çš„å·¦å³ç«¯ç‚¹ </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//    cout&lt;&lt;"rt = "&lt;&lt;rt&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">if</span>(lef==ns[rt].lef&amp;&amp;ns[rt].rig==rig)&#123;</span><br><span class="line">        ns[rt].cover_cnt+=val;</span><br><span class="line">        pushup(rt);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=(ns[rt].lef)+(ns[rt].rig-ns[rt].lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(rig&lt;=mid)&#123;</span><br><span class="line">        update(val,lef,rig,rt&lt;&lt;<span class="number">1</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(lef&gt;mid)&#123;</span><br><span class="line">        update(val,lef,rig,rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        update(val,lef,mid,rt&lt;&lt;<span class="number">1</span>);</span><br><span class="line">        update(val,mid+<span class="number">1</span>,rig,rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    IOS;</span><br><span class="line">    <span class="keyword">int</span> n;<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> ub=-INF;</span><br><span class="line">    <span class="keyword">int</span> lb=INF;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> x1,y1,x2,y2;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;x1&gt;&gt;y1&gt;&gt;x2&gt;&gt;y2;</span><br><span class="line">        segs[cnt++]=seg(x1,x2,y1,<span class="number">1</span>);</span><br><span class="line">        segs[cnt++]=seg(x1,x2,y2,<span class="number">-1</span>);</span><br><span class="line">        ub=<span class="built_in">max</span>(ub,x2);</span><br><span class="line">        lb=<span class="built_in">min</span>(lb,x1);        </span><br><span class="line">    &#125;</span><br><span class="line">    sort(segs,segs+cnt);</span><br><span class="line">    build(lb,ub,<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;<span class="keyword">int</span> last=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;cnt;i++)&#123;</span><br><span class="line">        update(segs[i].tag,segs[i].lef,segs[i].rig<span class="number">-1</span>,<span class="number">1</span>);</span><br><span class="line">        ans+=<span class="built_in">abs</span>(ns[<span class="number">1</span>].len-last);        <span class="comment">//å½“å‰çš„ns[1].lenåŒ…æ‹¬ä¸Šä¸€æ¬¡ç»Ÿè®¡çš„åŒºé—´é•¿åº¦,å› æ­¤éœ€è¦å‡å»last </span></span><br><span class="line">        last=ns[<span class="number">1</span>].len;</span><br><span class="line">        ans+=(segs[i+<span class="number">1</span>].h-segs[i].h)*<span class="number">2</span>*ns[<span class="number">1</span>].num;        <span class="comment">//ns[1]ä¸ºå½“å‰æ‰«æçº¿ä¸‹åŒºé—´çš„çº¿æ®µæ•°ç›® </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vjudge.net/problem/HDU-1255" rel="external nofollow noopener noreferrer" target="_blank">HDU1255 è¦†ç›–çš„é¢ç§¯</a></p>
<p>æ‰«æçº¿è®¡ç®—è¢«è¦†ç›–ä¸¤æ¬¡åŠä»¥ä¸Šçš„è¦†ç›–é¢ç§¯ã€‚$cover_cnt$è¡¨ç¤ºçš„æ˜¯è¢«å®Œå…¨è¦†ç›–çš„åŒºé—´çš„é•¿åº¦ã€‚å½“ä¸€ä¸ªåŒºé—´è¢«å®Œå…¨è¦†ç›–çš„æ¬¡æ•°å¤§äºç­‰äº2æ—¶ï¼Œå…¶äºŒæ¬¡è¦†ç›–é•¿åº¦å°±æ˜¯å…¶åŒºé—´é•¿åº¦ï¼›å½“è¢«å®Œå…¨è¦†ç›–çš„æ¬¡æ•°ä¸º1æ—¶ï¼Œå…¶äºŒæ¬¡è¦†ç›–é•¿åº¦ä¸ºå·¦å„¿å­ä¸å³å„¿å­çš„ä¸€æ¬¡è¦†ç›–é¢ç§¯çš„å’Œï¼›è‹¥ä»¥ä¸Šä¸¤ç§æƒ…å†µéƒ½ä¸ç¬¦åˆï¼Œé‚£å°±ç”±å·¦å„¿å­å’Œå³å„¿å­çš„äºŒæ¬¡è¦†ç›–é¢ç§¯è½¬ç§»å¾—åˆ°ã€‚</p>
<p>å¦å¤–ï¼Œè¿™é¢˜éœ€è¦ç¦»æ•£åŒ–ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1005</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">seg</span>&#123;</span></span><br><span class="line">    <span class="keyword">double</span> lef,rig;</span><br><span class="line">    <span class="keyword">double</span> hei;</span><br><span class="line">    <span class="keyword">int</span> tag;</span><br><span class="line">    seg()&#123;&#125;</span><br><span class="line">    seg(<span class="keyword">double</span> lef,<span class="keyword">double</span> rig,<span class="keyword">double</span> hei,<span class="keyword">int</span> tag)</span><br><span class="line">        :lef(lef),rig(rig),hei(hei),tag(tag)&#123;&#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> seg&amp; se) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> hei&lt;se.hei;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">seg segs[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span>        <span class="comment">//çº¿æ®µæ ‘èŠ‚ç‚¹,è¡¨ç¤ºä¸€ä¸ªåŒºé—´</span></span><br><span class="line">    <span class="keyword">int</span> lef,rig;</span><br><span class="line">    <span class="keyword">double</span> len,len2;</span><br><span class="line">    <span class="keyword">int</span> cover_cnt;</span><br><span class="line">    node()&#123;&#125;</span><br><span class="line">    node(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig)</span><br><span class="line">        :lef(lef),rig(rig)&#123;</span><br><span class="line">            len=<span class="number">0</span>;cover_cnt=<span class="number">0</span>;len2=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line">node ns[maxn&lt;&lt;<span class="number">3</span>];</span><br><span class="line"><span class="keyword">double</span> xs[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ns[rt].lef=lef;ns[rt].rig=rig;</span><br><span class="line">    ns[rt].len=ns[rt].len2=<span class="number">0</span>;</span><br><span class="line">    ns[rt].cover_cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)    <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ns[rt].cover_cnt)&#123;</span><br><span class="line">        ns[rt].len=xs[ns[rt].rig+<span class="number">1</span>]-xs[ns[rt].lef];</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(ns[rt].lef==ns[rt].rig)&#123;</span><br><span class="line">        ns[rt].len=<span class="number">0</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        ns[rt].len=ns[rt&lt;&lt;<span class="number">1</span>].len+ns[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].len;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(ns[rt].cover_cnt&gt;=<span class="number">2</span>)&#123;</span><br><span class="line">        ns[rt].len2=xs[ns[rt].rig+<span class="number">1</span>]-xs[ns[rt].lef];</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(ns[rt].lef==ns[rt].rig)&#123;</span><br><span class="line">        ns[rt].len2=<span class="number">0</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(ns[rt].cover_cnt==<span class="number">1</span>)&#123;</span><br><span class="line">        ns[rt].len2=ns[rt&lt;&lt;<span class="number">1</span>].len+ns[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].len;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        ns[rt].len2=ns[rt&lt;&lt;<span class="number">1</span>].len2+ns[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].len2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> val,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ns[rt].lef==lef&amp;&amp;ns[rt].rig==rig)&#123;</span><br><span class="line">        ns[rt].cover_cnt+=val;</span><br><span class="line">        pushup(rt);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=(ns[rt].lef)+(ns[rt].rig-ns[rt].lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(rig&lt;=mid)&#123;</span><br><span class="line">        update(val,lef,rig,rt&lt;&lt;<span class="number">1</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(lef&gt;mid)&#123;</span><br><span class="line">        update(val,lef,rig,rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        update(val,lef,mid,rt&lt;&lt;<span class="number">1</span>);</span><br><span class="line">        update(val,mid+<span class="number">1</span>,rig,rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binary</span><span class="params">(<span class="keyword">double</span> arr[],<span class="keyword">double</span> key,<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> lef=<span class="number">0</span>;<span class="keyword">int</span> rig=n<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span>(lef&lt;=rig)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(arr[mid]==key)</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(arr[mid]&lt;key)</span><br><span class="line">            lef=mid+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            rig=mid<span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> rig;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        mst(xs,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> n;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">double</span> x1,y1,x2,y2;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lf %lf %lf %lf"</span>,&amp;x1,&amp;y1,&amp;x2,&amp;y2);</span><br><span class="line">            segs[cnt]=seg(x1,x2,y1,<span class="number">1</span>);       <span class="comment">//ä¸‹ä½</span></span><br><span class="line">            xs[cnt++]=x1;</span><br><span class="line">            segs[cnt]=seg(x1,x2,y2,<span class="number">-1</span>);</span><br><span class="line">            xs[cnt++]=x2;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(xs,xs+cnt);</span><br><span class="line"><span class="comment">//        for(int i=0;i&lt;cnt;i++)</span></span><br><span class="line"><span class="comment">//            cout&lt;&lt;xs[i]&lt;&lt;" ";</span></span><br><span class="line"><span class="comment">//        cout&lt;&lt;"\n";</span></span><br><span class="line">        sort(segs,segs+cnt);</span><br><span class="line">        <span class="keyword">int</span> idx=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;cnt;i++)</span><br><span class="line">            <span class="keyword">if</span>(xs[i]!=xs[i<span class="number">-1</span>])</span><br><span class="line">                xs[idx++]=xs[i];</span><br><span class="line">        build(<span class="number">0</span>,idx<span class="number">-1</span>,<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">double</span> ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;cnt<span class="number">-1</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> lx=binary(xs,segs[i].lef,idx);</span><br><span class="line">            <span class="keyword">int</span> rx=binary(xs,segs[i].rig,idx)<span class="number">-1</span>;</span><br><span class="line">            update(segs[i].tag,lx,rx,<span class="number">1</span>);</span><br><span class="line">            ans+=(segs[i+<span class="number">1</span>].hei-segs[i].hei)*(ns[<span class="number">1</span>].len2);</span><br><span class="line"><span class="comment">//            printf("ans+: %.2lf\n",(segs[i+1].hei-segs[i].hei)*(ns[1].len2));</span></span><br><span class="line"><span class="comment">//            printf("ns[1].len2: %.2lf\n",ns[1].len2);</span></span><br><span class="line"><span class="comment">//            printf("segs[i+1].hei-segs[i].hei: %.2lf\n\n",segs[i+1].hei-segs[i].hei);</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%.2lf\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://cn.vjudge.net/problem/HDU-1542" rel="external nofollow noopener noreferrer" target="_blank">HDU1542 Atlantis</a></p>
<p>æ‰«æçº¿æœ€ç»å…¸çš„åº”ç”¨ï¼Œæ±‚çŸ©å½¢çš„é¢ç§¯å¹¶ã€‚çº¿æ®µæ ‘ç»´æŠ¤åŒºé—´çš„è¢«è¦†ç›–é•¿åº¦ï¼Œç„¶åæ ¹æ®æ‰«æçº¿é«˜åº¦å·®è®¡ç®—é¢ç§¯å³å¯ã€‚å¦å¤–ï¼Œæœ¬é¢˜éœ€è¦ç¦»æ•£åŒ–ã€‚<br>ä»£ç å¦‚ä¸‹:<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IOS std::ios::sync_with_stdio(false)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">2005</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">seg</span>&#123;</span></span><br><span class="line">    <span class="keyword">double</span> lef;<span class="keyword">double</span> rig;</span><br><span class="line">    <span class="keyword">double</span> hei;<span class="keyword">int</span> tag;</span><br><span class="line">    <span class="comment">//tag=1è¡¨ç¤ºä¸‹ä½è¾¹,tag=-1è¡¨ç¤ºä¸Šä½è¾¹</span></span><br><span class="line">    seg()&#123;</span><br><span class="line">    &#125; </span><br><span class="line">    seg(<span class="keyword">double</span> lef,<span class="keyword">double</span> rig,<span class="keyword">double</span> hei,<span class="keyword">int</span> tag)</span><br><span class="line">        :lef(lef),rig(rig),hei(hei),tag(tag)&#123;</span><br><span class="line">        &#125; </span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> seg&amp; se) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> hei&lt;se.hei;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">seg segs[maxn];</span><br><span class="line"><span class="keyword">double</span> X[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> vis[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="keyword">double</span> sum[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> idx;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(vis[rt])</span><br><span class="line">        sum[rt]=X[r+<span class="number">1</span>]-X[l];</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(l==r)</span><br><span class="line">        sum[rt]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        sum[rt]=sum[rt&lt;&lt;<span class="number">1</span>]+sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]; </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> val,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L&lt;=lef&amp;&amp;rig&lt;=R)&#123;</span><br><span class="line">        vis[rt]+=val;</span><br><span class="line">        pushup(lef,rig,rt);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(L&lt;=mid)</span><br><span class="line">        update(L,R,val,lson);</span><br><span class="line">    <span class="keyword">if</span>(R&gt;mid)</span><br><span class="line">        update(L,R,val,rson);</span><br><span class="line">    pushup(lef,rig,rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binary</span><span class="params">(<span class="keyword">double</span> todo)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> Lef,Rig;</span><br><span class="line">    Lef=<span class="number">0</span>;Rig=idx<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span>(Lef&lt;=Rig)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=Lef+(Rig-Lef)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(X[mid]&gt;todo)</span><br><span class="line">            Rig=mid<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            Lef=mid+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Rig;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;<span class="keyword">int</span> kase=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&amp;&amp;n)&#123;</span><br><span class="line">        <span class="keyword">int</span> cnt=<span class="number">0</span>;idx=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">double</span> x1,y1,x2,y2;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lf %lf %lf %lf"</span>,&amp;x1,&amp;y1,&amp;x2,&amp;y2); </span><br><span class="line">            segs[cnt]=seg(x1,x2,y1,<span class="number">1</span>);</span><br><span class="line">            X[cnt++]=x1;</span><br><span class="line">            segs[cnt]=seg(x1,x2,y2,<span class="number">-1</span>);</span><br><span class="line">            X[cnt++]=x2;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(segs,segs+cnt);</span><br><span class="line">        sort(X,X+cnt);</span><br><span class="line">        idx=<span class="number">1</span>;<span class="keyword">double</span> ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;cnt;i++)</span><br><span class="line">            <span class="keyword">if</span>(X[i]!=X[i<span class="number">-1</span>])</span><br><span class="line">                X[idx++]=X[i];</span><br><span class="line">        mst(sum,<span class="number">0</span>);mst(vis,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;cnt<span class="number">-1</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> L=binary(segs[i].lef);</span><br><span class="line">            <span class="keyword">int</span> R=binary(segs[i].rig)<span class="number">-1</span>;</span><br><span class="line">            update(L,R,segs[i].tag,<span class="number">0</span>,idx<span class="number">-1</span>,<span class="number">1</span>);</span><br><span class="line">            ans+=sum[<span class="number">1</span>]*(segs[i+<span class="number">1</span>].hei-segs[i].hei);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Test case #%d\n"</span>,++kase);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Total explored area: %.2lf\n\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><a href="https://cn.vjudge.net/problem/HDU-3642" rel="external nofollow noopener noreferrer" target="_blank">HDU3642 Get the Treasury</a><br>é¢˜æ„æ˜¯æ±‚åœ¨ä¸‰ç»´ç©ºé—´ä¸­ï¼Œæœ‰è‹¥å¹²ä¸ªçŸ©å½¢åŒºåŸŸï¼Œæ±‚é‡å æ¬¡æ•°å¤§äºç­‰äº3çš„åŒºåŸŸçš„ä½“ç§¯ã€‚<br>æ€è·¯æ˜¯ç”¨çº¿æ®µæ ‘ç»´æŠ¤å•ä¸ªå¹³é¢è¢«è¦†ç›–æ¬¡æ•°å¤§äºç­‰äº3çš„å¹³é¢åŒºåŸŸçš„é¢ç§¯ï¼Œç„¶åæšä¸¾zè½´ä¸Šçš„é«˜åº¦å·®ï¼Œè¿›è€Œç®—å‡ºé¢ç§¯ï¼ˆzçš„èŒƒå›´å¹¶ä¸å¤§ï¼Œå¯ä»¥æšä¸¾ï¼‰<br>å…·ä½“è§ä»£ç </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(b))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug cout&lt;&lt;<span class="meta-string">"debug"</span>&lt;&lt;endl;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">2500</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">seg</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> lef,rig;</span><br><span class="line">    <span class="keyword">int</span> hei;</span><br><span class="line">    <span class="keyword">int</span> tag;</span><br><span class="line">    seg()&#123;&#125;</span><br><span class="line">    seg(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> hei,<span class="keyword">int</span> tag)</span><br><span class="line">        :lef(lef),rig(rig),hei(hei),tag(tag)&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> h,<span class="keyword">int</span> tt)</span></span>&#123;</span><br><span class="line">        lef=l;rig=r;hei=h;</span><br><span class="line">        tag=tt;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> seg&amp; se)<span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> hei&lt;se.hei;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> lef,rig;</span><br><span class="line">    <span class="keyword">int</span> len,len2,len3;    </span><br><span class="line">    <span class="keyword">int</span> cover_cnt;</span><br><span class="line">    node()&#123;&#125;</span><br><span class="line"><span class="comment">//    node(int lef,int rig)</span></span><br><span class="line"><span class="comment">//        :lef(lef),rig(rig)&#123;len=len2=len3=cover_cnt=0;&#125;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x,y,z;</span><br><span class="line">    <span class="built_in">point</span>(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> z)</span><br><span class="line">        :x(x),y(y),z(z)&#123;&#125;</span><br><span class="line">    <span class="built_in">point</span>()&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line">node tree[maxn&lt;&lt;<span class="number">3</span>];</span><br><span class="line"><span class="built_in">point</span> ps[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> xs[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> zs[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line">seg segs[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    tree[rt].lef=lef;tree[rt].rig=rig;</span><br><span class="line">    tree[rt].len=tree[rt].len2=tree[rt].len3=tree[rt].cover_cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(tree[rt].cover_cnt&gt;=<span class="number">3</span>)&#123;</span><br><span class="line">        tree[rt].len3=xs[tree[rt].rig+<span class="number">1</span>]-xs[tree[rt].lef];</span><br><span class="line">        tree[rt].len2=tree[rt].len=<span class="number">0</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(tree[rt].cover_cnt&gt;=<span class="number">2</span>)&#123;</span><br><span class="line">        tree[rt].len3=tree[rt&lt;&lt;<span class="number">1</span>].len3+tree[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].len3+tree[rt&lt;&lt;<span class="number">1</span>].len2+tree[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].len2+tree[rt&lt;&lt;<span class="number">1</span>].len+tree[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].len;</span><br><span class="line">        tree[rt].len2=xs[tree[rt].rig+<span class="number">1</span>]-xs[tree[rt].lef]-tree[rt].len3;</span><br><span class="line">        tree[rt].len=<span class="number">0</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(tree[rt].cover_cnt&gt;=<span class="number">1</span>)&#123;</span><br><span class="line">        tree[rt].len3=tree[rt&lt;&lt;<span class="number">1</span>].len3+tree[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].len3+tree[rt&lt;&lt;<span class="number">1</span>].len2+tree[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].len2;</span><br><span class="line">        tree[rt].len2=tree[rt&lt;&lt;<span class="number">1</span>].len+tree[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].len;</span><br><span class="line">        tree[rt].len=xs[tree[rt].rig+<span class="number">1</span>]-xs[tree[rt].lef]-tree[rt].len2-tree[rt].len3;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        tree[rt].len3=tree[rt&lt;&lt;<span class="number">1</span>].len3+tree[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].len3;</span><br><span class="line">        tree[rt].len2=tree[rt&lt;&lt;<span class="number">1</span>].len2+tree[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].len2;</span><br><span class="line">        tree[rt].len=tree[rt&lt;&lt;<span class="number">1</span>].len+tree[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].len;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> val,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef==tree[rt].lef&amp;&amp;rig==tree[rt].rig)&#123;</span><br><span class="line">        tree[rt].cover_cnt+=val;</span><br><span class="line">        pushup(rt);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=(tree[rt].lef)+(tree[rt].rig-tree[rt].lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(rig&lt;=mid)&#123;</span><br><span class="line">        update(val,lef,rig,rt&lt;&lt;<span class="number">1</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(lef&gt;mid)&#123;</span><br><span class="line">        update(val,lef,rig,rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        update(val,lef,mid,rt&lt;&lt;<span class="number">1</span>);</span><br><span class="line">        update(val,mid+<span class="number">1</span>,rig,rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n+<span class="number">1</span>;i++)&#123;</span><br><span class="line">        tree[i].cover_cnt=tree[i].lef=tree[i].rig=<span class="number">0</span>;</span><br><span class="line">        tree[i].len=tree[i].len2=tree[i].len3=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">int</span> kase=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        init(<span class="number">2005</span>);</span><br><span class="line">        mst(xs,<span class="number">0</span>);mst(zs,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> n;<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> x1,y1,z1;</span><br><span class="line">            <span class="keyword">int</span> x2,y2,z2;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d %d %d %d %d"</span>,&amp;x1,&amp;y1,&amp;z1,&amp;x2,&amp;y2,&amp;z2);</span><br><span class="line">            xs[cnt]=x1;xs[cnt+<span class="number">1</span>]=x2;</span><br><span class="line">            zs[cnt]=z1;zs[cnt+<span class="number">1</span>]=z2;</span><br><span class="line">            ps[cnt]=<span class="built_in">point</span>(x1,y1,z1);ps[cnt+<span class="number">1</span>]=<span class="built_in">point</span>(x2,y2,z2);</span><br><span class="line">            cnt+=<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(xs,xs+cnt);</span><br><span class="line">        sort(zs,zs+cnt);</span><br><span class="line">        <span class="keyword">int</span> idx=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;cnt;i++)</span><br><span class="line">            <span class="keyword">if</span>(xs[i]!=xs[i<span class="number">-1</span>])</span><br><span class="line">                xs[idx++]=xs[i];</span><br><span class="line">        <span class="keyword">int</span> idx1=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;cnt;i++)</span><br><span class="line">            <span class="keyword">if</span>(zs[i]!=zs[i<span class="number">-1</span>])</span><br><span class="line">                zs[idx1++]=zs[i];</span><br><span class="line">        ll ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;idx1<span class="number">-1</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> k=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;cnt;j+=<span class="number">2</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(ps[j].z&lt;=zs[i]&amp;&amp;ps[j+<span class="number">1</span>].z&gt;zs[i])&#123;</span><br><span class="line">                    segs[k++].<span class="built_in">set</span>(ps[j].x,ps[j+<span class="number">1</span>].x,ps[j].y,<span class="number">1</span>);</span><br><span class="line">                    segs[k++].<span class="built_in">set</span>(ps[j].x,ps[j+<span class="number">1</span>].x,ps[j+<span class="number">1</span>].y,<span class="number">-1</span>);</span><br><span class="line">                    <span class="comment">// segs[k++]=seg(ps[j].x,ps[j+1].x,ps[j].y,1);</span></span><br><span class="line">                    <span class="comment">// segs[k++]=seg(ps[j].x,ps[j+1].x,ps[j+1].y,-1);</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            init(idx<span class="number">-1</span>);</span><br><span class="line">            sort(segs,segs+k);</span><br><span class="line">            build(<span class="number">0</span>,idx<span class="number">-1</span>,<span class="number">1</span>);</span><br><span class="line">            ll tmp=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;k<span class="number">-1</span>;j++)&#123;</span><br><span class="line">                <span class="keyword">int</span> lx=lower_bound(xs,xs+idx,segs[j].lef)-xs;</span><br><span class="line">                <span class="keyword">int</span> rx=lower_bound(xs,xs+idx,segs[j].rig)-xs<span class="number">-1</span>;</span><br><span class="line">                update(segs[j].tag,lx,rx,<span class="number">1</span>);</span><br><span class="line">                tmp+=(ll)tree[<span class="number">1</span>].len3*(ll)(segs[j+<span class="number">1</span>].hei-segs[j].hei);</span><br><span class="line">            &#125;</span><br><span class="line">            ans+=(ll)tmp*(ll)(zs[i+<span class="number">1</span>]-zs[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(n&lt;<span class="number">3</span>)</span><br><span class="line">            ans=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: %lld\n"</span>,++kase,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">4 5 0 8 9 5</span></span><br><span class="line"><span class="comment">0 3 3 4 5 7</span></span><br><span class="line"><span class="comment">5 4 4 10 6 9</span></span><br><span class="line"><span class="comment">5 5 5 9 9 7</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h3><p>çœ‹äº†ä¸€ä¸‹ï¼Œè™½ç„¶ä¸“é¢˜é‡Œé¢æœ‰åŒºé—´åˆå¹¶çš„é¢˜ç›®ï¼Œä½†æˆ‘å¹¶ä¸æ˜¯ç”¨æ­£ç»Ÿçš„åŒºé—´åˆå¹¶çš„æ–¹æ³•åšçš„å•Šâ€¦â€¦æ‰€ä»¥è¯´è¿™æ–¹é¢è¿˜éœ€è¦å†å¥½å¥½å­¦ä¸€ä¸‹å‘¢ã€‚</p>
]]></content>
  </entry>
  <entry>
    <title>çº¿æ®µæ ‘ä¸æ ‘çŠ¶æ•°ç»„æ€»ç»“</title>
    <url>/2020/02/05/%E7%BA%BF%E6%AE%B5%E6%A0%91%E4%B8%8E%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<p><img src="https://pic.downk.cc/item/5e3adbdf2fb38b8c3ccee2f7.jpg" alt><br><a id="more"></a><br>æœ¬æ–‡ç« ä¸º2020å¹´å¯’è®­ç”¨èµ„æ–™ï¼Œæœ‰éƒ¨åˆ†åˆ å‡</p>
<h2 id="çº¿æ®µæ ‘"><a href="#çº¿æ®µæ ‘" class="headerlink" title="çº¿æ®µæ ‘"></a>çº¿æ®µæ ‘</h2><h3 id="å¼•å…¥"><a href="#å¼•å…¥" class="headerlink" title="å¼•å…¥"></a>å¼•å…¥</h3><p>é—®é¢˜å¼•å…¥ï¼š</p>
<ul>
<li>é—®é¢˜ä¸€ï¼šç»™å®šä¸€ä¸ªé•¿åº¦ä¸º$n$çš„æ•°åˆ—ï¼Œå¯ä»¥è¿›è¡Œ$m$æ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®æŸ¥è¯¢åŒºé—´$[l,r]$å†…æ‰€æœ‰æ•°çš„å’Œ<ul>
<li>å¦‚æœæ•°æ®èŒƒå›´å¾ˆå°ï¼ˆä¾‹å¦‚$n\leq 1000,m\leq 100$ï¼‰ï¼Œå¯ä»¥ç›´æ¥æšä¸¾ã€‚å¤æ‚åº¦$O(n)$</li>
<li>å¦‚æœæ•°æ®èŒƒå›´è¾ƒå¤§ï¼ˆä¾‹å¦‚$n\leq 1e6,m\leq 1e3$ï¼‰ï¼Œå¯ä»¥ç”¨å‰ç¼€å’Œã€‚å¤æ‚åº¦$O(n+m)$</li>
</ul>
</li>
<li>é—®é¢˜äºŒï¼šç»™å®šä¸€ä¸ªé•¿åº¦ä¸º$n$çš„æ•°åˆ—ï¼Œå¯ä»¥è¿›è¡Œ$m$æ¬¡æ“ä½œï¼Œæ“ä½œåˆ†ä¸¤ç§ï¼Œä¸€ç§æ˜¯ä¿®æ”¹å•ç‚¹çš„æ•°å€¼ï¼Œå¦ä¸€ç§æ˜¯æŸ¥è¯¢åŒºé—´$[l,r]$å†…æ‰€æœ‰æ•°çš„å’Œ<ul>
<li>å¦‚æœæ•°æ®èŒƒå›´å¾ˆå°ï¼Œä¾ç„¶å¯ä»¥æšä¸¾ã€‚å¤æ‚åº¦$O(n)$</li>
<li>ä½†å¤§æ•°æ®èŒƒå›´çš„æƒ…å†µä¸‹ä¼šTLE</li>
<li>æ­¤æ—¶å³ä½¿ä½¿ç”¨å‰ç¼€å’Œï¼Œåœ¨è¿›è¡Œä¿®æ”¹æ“ä½œåéœ€è¦ç»´æŠ¤å‰ç¼€å’Œï¼Œæ•…å¤æ‚åº¦ä¸æšä¸¾ä¸€è‡´ã€‚å¤§æ•°æ®èŒƒå›´çš„æƒ…å†µä¸‹ä¾ç„¶ä¼šTLE</li>
</ul>
</li>
<li>é—®é¢˜ä¸‰ï¼šç»™å®šä¸€ä¸ªé•¿åº¦ä¸º$n$çš„æ•°åˆ—ï¼Œå¯ä»¥è¿›è¡Œ$m$æ¬¡æ“ä½œï¼Œæ“ä½œåˆ†ä¸¤ç§ï¼Œä¸€ç§æ˜¯ä¿®æ”¹åŒºé—´$[l,r]$å†…æ¯ä¸ªæ•°çš„æ•°å€¼ï¼Œå¦ä¸€ç§æ˜¯æŸ¥è¯¢åŒºé—´$[l,r]$å†…æ‰€æœ‰æ•°çš„å’Œ<ul>
<li>æ•°æ®èŒƒå›´å°çš„è¯å½“ç„¶å¯ä»¥æšä¸¾â€¦â€¦</li>
<li>å¦‚æœæ•°æ®èŒƒå›´å¾ˆå¤§å‘¢ï¼Ÿï¼ˆä¾‹å¦‚$n\leq 1e6,m\leq 1e3$ï¼‰</li>
</ul>
</li>
</ul>
<h3 id="çº¿æ®µæ ‘æ˜¯ä»€ä¹ˆ"><a href="#çº¿æ®µæ ‘æ˜¯ä»€ä¹ˆ" class="headerlink" title="çº¿æ®µæ ‘æ˜¯ä»€ä¹ˆ"></a>çº¿æ®µæ ‘æ˜¯ä»€ä¹ˆ</h3><p>çº¿æ®µæ ‘æ˜¯ä¸€ç§äºŒå‰æ ‘ï¼Œå®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯åœ¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸Šä¿å­˜åŒºé—´ä¿¡æ¯ï¼Œå¹¶åœ¨æ ‘ä¸Šè¿›è¡ŒåŒºé—´\å•ç‚¹çš„ä¿®æ”¹å’ŒæŸ¥è¯¢ã€‚ä¸‹å›¾æ˜¯åŒºé—´$[1,7]$å¯¹åº”çš„çº¿æ®µæ ‘</p>
<p><img src="https://pic.downk.cc/item/5e3ada242fb38b8c3cceb6bb.png" alt></p>
<p>ä¸Šé¢è¿™å¼ å›¾æ‰€è¡¨ç¤ºçš„æ„æ€æ˜¯ï¼Œä»¥æ±‚åŒºé—´å’Œä¸ºä¾‹ï¼Œå¯¹äºåŒºé—´$[1,7]$ï¼Œå…¶åŒºé—´å’Œç­‰äºå…¶å·¦å„¿å­$([1,4])$çš„åŒºé—´å’ŒåŠ ä¸Šå…¶å³å„¿å­$[5,7]$çš„åŒºé—´å’Œï¼›è€ŒåŒºé—´$[1,4]$çš„åŒºé—´å’Œåˆç­‰äºåŒºé—´$[1,2]$å’ŒåŒºé—´$[3,4]$çš„å’Œã€‚å¯¹äºä¸€ä¸ªåŒºé—´$[lef,rig]$ï¼Œå…¶å·¦å³å„¿å­åˆ†åˆ«ä¸º$[lef,\lfloor(lef+rig)/2\rfloor]$ï¼Œ$[\lfloor(lef+rig)/2\rfloor+1,rig]$ã€‚å¯¹äºçº¿æ®µæ ‘ä¸Šçš„å„èŠ‚ç‚¹ï¼Œæˆ‘ä»¬é‡‡å–ä»ä¸Šåˆ°ä¸‹ã€ä»å·¦å¾€å³çš„ç¼–å·æ–¹æ³•ã€‚å…·ä½“è€Œè¨€ï¼Œä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œ$[1,7]$æ˜¯ç¼–å·ä¸º1ï¼Œ$[1,4]$ç¼–å·ä¸º2ï¼Œ$[5,7]$ç¼–å·ä¸º3â€¦â€¦</p>
<p>å¯¹äºæŸ¥è¯¢ä¸ä¿®æ”¹ï¼Œçº¿æ®µæ ‘çš„å¤æ‚åº¦éƒ½æ˜¯$O(\log_2n)$</p>
<h3 id="å»ºæ ‘"><a href="#å»ºæ ‘" class="headerlink" title="å»ºæ ‘"></a>å»ºæ ‘</h3><p>æ ¹æ®çº¿æ®µæ ‘çš„ç»“æ„å’ŒèŠ‚ç‚¹ç¼–å·æ–¹å¼ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å¾—åˆ°ä»¥ä¸‹å»ºæ ‘æ–¹å¼</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> sum[maxn&lt;&lt;<span class="number">2</span>]</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum[rt]=sum[rt&lt;&lt;<span class="number">1</span>]+sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;tmp);</span><br><span class="line">        sum[rt]=tmp;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=(lef+rig)/<span class="number">2</span>;</span><br><span class="line">    build(lef,mid,rt&lt;&lt;<span class="number">1</span>);</span><br><span class="line">    build(mid+<span class="number">1</span>,rig,rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»£ç å¾ˆçŸ­ï¼Œä½†æœ‰äº›åœ°æ–¹å¯èƒ½ä¼šè®©åˆæ¬¡æ¥è§¦çš„äººç¨å¾®æœ‰ç‚¹ç–‘æƒ‘ï¼š</p>
<ul>
<li><p>maxn&lt;&lt;2æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</p>
<p>æ­¤å¤„maxnè¡¨ç¤ºçš„æ˜¯æœ€å¤§åŒºé—´é•¿åº¦ï¼Œmaxn&lt;&lt;2ç­‰åŒäº4 * maxnã€‚sumæ˜¯ç”¨æ¥å­˜æˆ‘ä»¬çš„çº¿æ®µæ ‘èŠ‚ç‚¹çš„æ•°ç»„ã€‚ä¸ºä»€ä¹ˆéœ€è¦å¼€4å€å¤§çš„ç©ºé—´å‘¢ï¼Ÿé¦–å…ˆï¼Œçº¿æ®µæ ‘æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œ  å¯¹äºä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œå‡å¦‚æœ‰$n$ä¸ªå¶å­èŠ‚ç‚¹ï¼ˆå¯¹åº”åˆ°çº¿æ®µæ ‘ä¸Šå°±æ˜¯åŒºé—´æ€»é•¿åº¦ä¸º$n$ï¼‰ï¼Œå…¶æ€»èŠ‚ç‚¹æ•°ä¸º$2n-1$ã€‚ä¼¼ä¹å¼€2å€å°±å¤Ÿäº†å‘¢â€¦â€¦ä½†ç»éªŒå‘Šè¯‰æˆ‘ä»¬ï¼Œå¼€å››å€æ˜¯è¾ƒä¸ºä¿é™©çš„é€‰æ‹©ï¼Œæ—¢ä¸ä¼šå¤ªå¤§å¯¼è‡´MLEï¼Œä¹Ÿä¸ä¼šå¤ªå°å¯¼è‡´è¶Šç•Œã€‚</p>
</li>
<li><p>rt&lt;&lt;1å’Œrt&lt;&lt;1|1</p>
<p>ç”±äºçº¿æ®µæ ‘èŠ‚ç‚¹çš„ç¼–å·æ–¹å¼ï¼Œçˆ¶èŠ‚ç‚¹å’Œå…¶ä¸¤ä¸ªå­èŠ‚ç‚¹çš„ç¼–å·å­˜åœ¨è¿™æ ·çš„å…³ç³»ï¼š<script type="math/tex">id_{leftson}=2\times id_{father}</script>ï¼Œ<script type="math/tex">id_{rigson}=2\times id_{father}+1</script></p>
<p>ä¸ºäº†æé«˜é€Ÿåº¦ï¼Œæˆ‘ä»¬ä½¿ç”¨ä½è¿ç®—æ¥ä»£æ›¿ä¹˜æ³•ã€åŠ æ³•ã€‚</p>
</li>
<li><p>pushup</p>
<p>çˆ¶äº²èŠ‚ç‚¹çš„ä¿¡æ¯æ¥è‡ªäºä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œæ•…åœ¨å®Œæˆå­èŠ‚ç‚¹çš„å»ºç«‹åï¼Œæˆ‘ä»¬è¦ç”¨ä¸¤ä¸ªå­èŠ‚ç‚¹æ¥å»ºç«‹çˆ¶äº²èŠ‚ç‚¹</p>
</li>
</ul>
<h3 id="å•ç‚¹æ“ä½œ"><a href="#å•ç‚¹æ“ä½œ" class="headerlink" title="å•ç‚¹æ“ä½œ"></a>å•ç‚¹æ“ä½œ</h3><p>å•ç‚¹æ“ä½œåŒ…æ‹¬å•ç‚¹æŸ¥è¯¢ä¸å•ç‚¹ä¿®æ”¹</p>
<h4 id="å•ç‚¹æŸ¥è¯¢"><a href="#å•ç‚¹æŸ¥è¯¢" class="headerlink" title="å•ç‚¹æŸ¥è¯¢"></a>å•ç‚¹æŸ¥è¯¢</h4><p>å•ç‚¹æŸ¥è¯¢çš„å¤§è‡´æ€æƒ³ä¸äºŒåˆ†æŸ¥æ‰¾ç±»ä¼¼ã€‚å¦‚æœéœ€è¦æŸ¥è¯¢çš„ä½ç½®$pos$åœ¨å½“å‰åŒºé—´çš„å·¦ä¾§ï¼Œåˆ™æŸ¥æ‰¾å½“å‰åŒºé—´çš„å·¦å„¿å­ï¼›å¦åˆ™ï¼ŒæŸ¥æ‰¾å½“å‰åŒºé—´çš„å³å„¿å­ã€‚é‡å¤è¿™ä¸€è¿‡ç¨‹ï¼Œç›´è‡³åŒºé—´å·¦å³ç«¯ç‚¹ç›¸ç­‰ï¼Œåˆ™è¯´æ˜å·²ç»æ‰¾åˆ°ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> ans;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> pos,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        ans=sum[rt];</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=(lef+rig)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(pos&lt;=mid) query(pos,lef,mid,rt&lt;&lt;<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(pos&gt;mid) query(pos,mid+<span class="number">1</span>,rig,rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å•ç‚¹ä¿®æ”¹"><a href="#å•ç‚¹ä¿®æ”¹" class="headerlink" title="å•ç‚¹ä¿®æ”¹"></a>å•ç‚¹ä¿®æ”¹</h4><p>å•ç‚¹ä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> pos,<span class="keyword">int</span> val,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">        sum[rt]+=val;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=(lef+rig)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(pos&lt;=mid) update(pos,val,lef,mid,rt&lt;&lt;<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(pos&gt;mid) update(pos,val,mid+<span class="number">1</span>,rig,rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸å•ç‚¹æŸ¥è¯¢åŸºæœ¬ä¸€è‡´ï¼Œä½†è¦è®°å¾—æœ€åpushupä¸€ä¸‹æ¥æ›´æ–°çˆ¶èŠ‚ç‚¹ã€‚</p>
<h3 id="åŒºé—´æ“ä½œ"><a href="#åŒºé—´æ“ä½œ" class="headerlink" title="åŒºé—´æ“ä½œ"></a>åŒºé—´æ“ä½œ</h3><p>åŒºé—´æ“ä½œçš„æ€»ä½“æ€æƒ³æ˜¯ï¼Œå¯¹äºå¸¦æŸ¥è¯¢çš„åŒºé—´$[L,R]$ï¼Œå¦‚æœå½“å‰åŒºé—´$[lef,rig]$å®Œå…¨åŒ…å«åœ¨å¸¦æŸ¥è¯¢åŒºé—´ä¸­ï¼Œå°±ç›´æ¥å°†$[lef,rig]$ä¸Šçš„ä¿¡æ¯ç»Ÿè®¡åˆ°ç­”æ¡ˆä¸­ã€‚å¦‚ä¸‹æ‰€ç¤º</p>
<script type="math/tex; mode=display">
\underbrace{L,L+1,\dots \overbrace{lef,lef+1,\dots ,rig-1,rig}\dots ,R-1,R}</script><p>å¦åˆ™ï¼Œå¦‚æœå½“å‰åŒºé—´ä¸æ˜¯å®Œå…¨åŒ…å«åœ¨å¾…æŸ¥è¯¢åŒºé—´å†…ï¼Œå°±æŸ¥è¯¢å·¦å„¿å­æˆ–å³å„¿å­ã€‚å¦‚ä¸‹æ‰€ç¤º</p>
<script type="math/tex; mode=display">
\rlap{\overbrace{\phantom{lef,lef+1,\dots,L,L+1,\dots,rig-1,rig}}} lef,lef+1,\dots, \underbrace{L, L+1,\dots,rig-1,rig,\dots,R-1,R}</script><h4 id="åŒºé—´æŸ¥è¯¢"><a href="#åŒºé—´æŸ¥è¯¢" class="headerlink" title="åŒºé—´æŸ¥è¯¢"></a>åŒºé—´æŸ¥è¯¢</h4><p>å€Ÿç”¨ä¸Šé¢æ‰€æåˆ°çš„æ€»ä½“æ€æƒ³ï¼Œå¯ä»¥å†™å‡ºè¿™æ ·çš„ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef&gt;=L&amp;&amp;rig&lt;=R)&#123;</span><br><span class="line">           <span class="keyword">return</span> sum[rt];     </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=(lef+rig)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(L&lt;=mid) ret+=query(L,R,lef,mid,rt&lt;&lt;<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(R&gt;mid) ret+=query(L,R,mid+<span class="number">1</span>,rt&lt;&lt;<span class="number">1</span>); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="åŒºé—´ä¿®æ”¹"><a href="#åŒºé—´ä¿®æ”¹" class="headerlink" title="åŒºé—´ä¿®æ”¹"></a>åŒºé—´ä¿®æ”¹</h4><p>å€Ÿç”¨å•ç‚¹ä¿®æ”¹çš„æ€æƒ³ï¼Œå¾ˆå®¹æ˜“æƒ³åˆ°ï¼ŒåŒºé—´ä¿®æ”¹å°±æ˜¯ç›¸å½“äºè°ƒç”¨å¤šæ¬¡å•ç‚¹ä¿®æ”¹ï¼ŒæŠŠåŒºé—´å†…çš„æ•°å­—éƒ½ä¿®æ”¹äº†ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¯¹äºåŒºé—´$[1,7]$ï¼Œå¦‚æœæˆ‘ä»¬è¦ä¿®æ”¹$[2,7]$å†…çš„æ•°ï¼Œé‚£æœ€ç»ˆè¢«ä¿®æ”¹çš„èŠ‚ç‚¹å¦‚ä¸‹å›¾æ‰€ç¤º<br><img src="https://pic.downk.cc/item/5e3ada522fb38b8c3ccebc1d.png" alt></p>
<p>ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„é—®é¢˜åœ¨äºï¼Œè¿™æ ·åšçš„è¯ï¼Œå¤æ‚åº¦ä¼šæ¯”ç›´æ¥æš´åŠ›ä¿®æ”¹è¿˜é«˜ï¼è€Œä¸”ï¼Œå¦‚æœæˆ‘è¦æŸ¥è¯¢çš„åªæ˜¯$[5,7]$çš„å­åŒºé—´ï¼Œé‚£å°±ä¼šå­˜åœ¨ä¸å¿…è¦çš„ä¿®æ”¹ã€‚æ¯”å¦‚è¯´æˆ‘è¦æŸ¥è¯¢$[1,5]$ï¼Œé‚£$[5,6]$ç­‰ç­‰çš„ä¿®æ”¹å°±æ²¡æœ‰ç”¨ã€‚</p>
<p>äº‹å®ä¸Šï¼Œè¦ä¿®æ”¹åŒºé—´$[2,7]$ï¼Œæˆ‘ä»¬å¯ä»¥ä»…ä»…ä¿®æ”¹æˆ‘ä»¬éœ€è¦çš„åŒºé—´ã€‚å…·ä½“è€Œè¨€ï¼Œä¿®æ”¹çš„æ—¶å€™åªéœ€è¦ä¿®æ”¹$[1,7],[1,4],[1,2],[2,2],[3,4],[5,7]$ã€‚ç­‰åˆ°éœ€è¦æŸ¥è¯¢è¿™äº›åŒºé—´ä»¥å¤–çš„åŒºé—´æ—¶ï¼Œå†å»è¿›è¡Œç›¸åº”çš„ä¿®æ”¹ã€‚è¿™å°±æ˜¯æ‡’æƒ°æ ‡è®°ï¼ˆlazy tagï¼‰çš„æ€æƒ³</p>
<p>æ‰€è°“æ‡’æƒ°ï¼Œå°±æ˜¯â€œè¦ç”¨çš„æ—¶å€™æ‰ç”¨ï¼Œå¦åˆ™å°±ä¸ç”¨â€ã€‚å…·ä½“æ¥è¯´ï¼Œæ‡’æƒ°æ ‡è®°ç”¨äºå­˜å‚¨çˆ¶èŠ‚ç‚¹çš„ä¿®æ”¹ä¿¡æ¯ï¼Œä½†æš‚æ—¶ä¸æŠŠä¿¡æ¯ä¼ ç»™å­èŠ‚ç‚¹ï¼Œç­‰åˆ°éœ€è¦ç”¨åˆ°å­èŠ‚ç‚¹æ—¶å†æŠŠä¿¡æ¯ä¼ ç»™å­èŠ‚ç‚¹ã€‚</p>
<p>åŠ ä¸Šäº†æ‡’æƒ°æ ‡è®°çš„åŒºé—´ä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lazy[rt])&#123;</span><br><span class="line">        lazy[rt&lt;&lt;<span class="number">1</span>]+=lazy[rt];</span><br><span class="line">        lazy[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]+=lazy[rt];</span><br><span class="line">        sum[rt&lt;&lt;<span class="number">1</span>]=lazy[rt&lt;&lt;<span class="number">1</span>]*(len-(len&gt;&gt;<span class="number">1</span>));</span><br><span class="line">        sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=lazy[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]*(len&gt;&gt;<span class="number">1</span>);</span><br><span class="line">        lazy[rt]=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> val,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef&gt;=L&amp;&amp;rig&lt;=R)&#123;</span><br><span class="line">        sum[rt]+=val*(rig-lef+<span class="number">1</span>);</span><br><span class="line">        lazy[rt]+=val;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid=(lef+rig)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(L&lt;=mid) update(L,R,val,lef,mid,rt&lt;&lt;<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(R&gt;mid) update(L,R,val,mid+<span class="number">1</span>);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åŠ ä¸Šæ‡’æƒ°æ ‡è®°åï¼ŒåŒæ ·æ˜¯ä¿®æ”¹$[2,7]$è¿™ä¸€åŒºé—´ï¼Œè¢«ä¿®æ”¹çš„åŒºé—´å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://pic.downk.cc/item/5e3ada6a2fb38b8c3ccebf3e.png" alt></p>
<p>å¦å¤–ï¼Œåœ¨å¼•å…¥äº†æ‡’æƒ°æ ‡è®°åï¼Œå•ç‚¹æŸ¥è¯¢ã€åŒºé—´æŸ¥è¯¢çš„ä»£ç ä¹Ÿè¦æ›´æ”¹ï¼ˆå…¶å®å°±æ˜¯åŠ ä¸Špushdownè€Œå·²ï¼‰ã€‚å…·ä½“å¦‚ä¸‹ï¼š</p>
<p>å•ç‚¹æŸ¥è¯¢ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> pos,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)&#123;</span><br><span class="line">           <span class="keyword">return</span> sum[rt];     </span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> mid=(lef+rig)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(lef&lt;=mid) ret+=query(pos,lef,mid,rt&lt;&lt;<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(rig&gt;mid) ret+=query(pos,mid+<span class="number">1</span>,rig,rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åŒºé—´æŸ¥è¯¢ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L&gt;=lef&amp;&amp;R&lt;=rig)&#123;</span><br><span class="line">        <span class="keyword">return</span> sum[rt];</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> mid=(lef+rig)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(L&lt;=mid) ret+=query(L,R,lef,mid,rt&lt;&lt;<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(R&gt;mid) ret+=query(L,R,mid+<span class="number">1</span>,rig,rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å‡æ³•è¿ç®—å’Œä¹˜æ³•è¿ç®—"><a href="#å‡æ³•è¿ç®—å’Œä¹˜æ³•è¿ç®—" class="headerlink" title="å‡æ³•è¿ç®—å’Œä¹˜æ³•è¿ç®—"></a>å‡æ³•è¿ç®—å’Œä¹˜æ³•è¿ç®—</h3><p>ä¸Šé¢æ‰€æåˆ°çš„éƒ½æ˜¯ä¿®æ”¹ä¸æŸ¥è¯¢éƒ½æ˜¯åŸºäºåŠ æ³•çš„ï¼Œé‚£å¦‚æœæ˜¯å‡æ³•ã€ä¹˜æ³•ã€é™¤æ³•å‘¢ï¼Ÿ</p>
<ul>
<li><p>å¦‚æœæ˜¯å‡æ³•çš„è¯å°±ç›´æ¥åŠ ä¸Šè´Ÿæ•°å³å¯ã€‚</p>
</li>
<li><p>å¦‚æœæ˜¯ä¹˜æ³•æˆ–é™¤æ³•çš„è¯ï¼Œå°±è¦å¦å½“åˆ«è®ºã€‚</p>
<p>ï¼ˆæ­¤å¤„åªè®¨è®ºåŒºé—´æŸ¥è¯¢ä¸åŒºé—´ä¿®æ”¹ï¼Œå¦‚æœåŒºé—´çš„ä¼šäº†ï¼Œå•ç‚¹è‚¯å®šä¹Ÿä¼šå§ :Dï¼‰</p>
<ul>
<li><p>å¯¹äºä¹˜æ³•ï¼Œåªéœ€è¦åƒè¿™ä¸ªæ ·å­ä¿®æ”¹updateï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> val,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lef&gt;=L&amp;&amp;rig&lt;=R)&#123;</span><br><span class="line">        lazy[rt]*=val;</span><br><span class="line">        sum[rt]*=lazy[rt];</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid=(lef+rig)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(L&lt;=mid) update(L,R,val,lson);</span><br><span class="line">    <span class="keyword">if</span>(R&gt;mid) update(L,R,val,rson);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ä¿®æ”¹pushdownï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lazy[rt]!=<span class="number">1</span>)&#123;</span><br><span class="line">        lazy[rt&lt;&lt;<span class="number">1</span>]*=lazy[rt];</span><br><span class="line">        lazy[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]*=lazy[rt];</span><br><span class="line">        sum[rt&lt;&lt;<span class="number">1</span>]=sum[rt&lt;&lt;<span class="number">1</span>]*lazy[rt];</span><br><span class="line">        sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=sum[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]*lazy[rt];</span><br><span class="line">        lazy[rt]=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦å¤–è¦è®°å¾—åˆå§‹åŒ–lazyä¸­æ‰€æœ‰æ•°ä¸º1</p>
<p>PSï¼šæ€è€ƒä¸€ä¸‹ï¼Œå¦‚æœæ˜¯ä¹˜æ³•å’ŒåŠ æ³•åŒæ—¶è¿›è¡Œï¼Œå³åŒºé—´ä¿®æ”¹æ“ä½œä¸­ï¼Œæ—¢å¯ä»¥å°†åŒºé—´ä¸Šçš„æ•°ä¹˜ä»¥ä¸€ä¸ªæ•°ï¼Œä¹Ÿå¯ä»¥å°†åŒºé—´ä¸Šçš„æ•°åŠ ä¸Šä¸€ä¸ªæ•°ï¼Œé‚£è¦æ€ä¹ˆç»´æŠ¤sumå’Œlazyå‘¢ï¼Ÿ</p>
</li>
</ul>
</li>
</ul>
<h3 id="ç¦»æ•£åŒ–"><a href="#ç¦»æ•£åŒ–" class="headerlink" title="ç¦»æ•£åŒ–"></a>ç¦»æ•£åŒ–</h3><p>æ‰€è°“ç¦»æ•£åŒ–æŒ‡çš„æ˜¯ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç”±äºæ•°æ®èŒƒå›´è¿‡å¤§ï¼Œç›´æ¥ä¿å­˜æ•°æ®çš„åšæ³•ä¼šå¯¼è‡´MLEï¼›ä½†è¦è§£å‡ºé¢˜ç›®å…¶å®å¹¶ä¸éœ€è¦ä¿å­˜å®é™…çš„æ•°æ®ï¼Œåªéœ€è¦ä¿å­˜æ•°æ®ä¹‹é—´çš„ç›¸å¯¹å¤§å°å³å¯ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œç°åœ¨è¦åœ¨ä¸€æ¡é•¿åº¦ä¸º$1e9$çš„çº¿æ®µä¸Šè¿›è¡ŒåŒºé—´æŸ“è‰²ï¼Œé¢œè‰²ä¸é¢œè‰²ä¹‹é—´ä¼šç›¸äº’è¦†ç›–ï¼Œæ±‚æœ€ç»ˆçº¿æ®µä¸Šå¯ä»¥çœ‹åˆ°å¤šå°‘ç§é¢œè‰²ã€‚æ˜¾ç„¶ï¼Œæˆ‘ä»¬ä¸å¯èƒ½å¼€ä¸€ä¸ªé•¿åº¦ä¸º$4e9$çš„æ•°ç»„æ¥å­˜çº¿æ®µæ ‘èŠ‚ç‚¹ï¼Œä¹Ÿä¸å¯èƒ½å¼€ä¸€ä¸ªé•¿åº¦ä¸º$4e9$çš„æ•°ç»„æ¥å­˜æ‡’æƒ°æ ‡è®°ã€‚å¦‚ä½•è§£å†³è¿™ä¸€é—®é¢˜å‘¢ï¼Ÿæ³¨æ„åˆ°ï¼Œæˆ‘ä»¬ç°åœ¨å…¶å®å¹¶ä¸å…³å¿ƒè¢«æŸ“è‰²çš„çº¿æ®µå…·ä½“æœ‰å¤šé•¿ï¼Œè€Œåªå…³å¿ƒçº¿æ®µä¹‹é—´çš„å…³ç³»ï¼ˆç›¸å¯¹å¤§å°ï¼Œä½ç½®å…³ç³»ï¼‰ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¸ºæ¯ä¸€ä¸ªéœ€è¦æŸ“è‰²çš„åŒºé—´çš„å·¦å³ç«¯ç‚¹åˆ†é…ä¸€ä¸ªidï¼Œå¹¶é€šè¿‡idæ¥å»ºç«‹çº¿æ®µæ ‘ã€‚æ‰€æœ‰çš„ä¿®æ”¹ä¸æŸ¥è¯¢éƒ½åœ¨è¿™æ£µâ€idçº¿æ®µæ ‘â€œä¸Šè¿›è¡Œã€‚ç¦»æ•£åŒ–çš„å®é™…å®ç°ä¸€èˆ¬é€šè¿‡sort()å’Œuniqueã€‚</p>
<p>ä¸‹é¢ç”¨ä¸€é“ä¾‹é¢˜æ¥è®²è§£ï¼š</p>
<p><a href="http://poj.org/problem?id=2528" rel="external nofollow noopener noreferrer" target="_blank">Mayorâ€™s posters</a></p>
<p>é¢˜ç›®å¤§æ„æ˜¯è¯´ï¼Œæœ‰ä¸€å µé•¿ä¸º10000000ï¼Œç°åœ¨è¦åœ¨å¢™ä¸Šè´´$n(1\leq n\leq 10000)$å¼ æµ·æŠ¥ï¼ˆæµ·æŠ¥ä¸æµ·æŠ¥ä¹‹é—´ä¼šç›¸äº’è¦†ç›–ï¼‰ï¼Œé—®è´´å®Œæ‰€æœ‰æµ·æŠ¥åï¼Œèƒ½çœ‹åˆ°çš„æµ·æŠ¥æœ‰å¤šå°‘å¼ ï¼Ÿ</p>
<p>ä¸ä¸Šé¢æåˆ°çš„æŸ“è‰²é—®é¢˜æ€è·¯ä¸€è‡´ï¼Œå°†æ¯å¼ æµ·æŠ¥ç¦»æ•£åŒ–åï¼Œç”¨ç¦»æ•£åŒ–å¾—åˆ°çš„idå»ºç«‹çº¿æ®µæ ‘ï¼Œå¹¶é€šè¿‡queryæŸ¥è¯¢èƒ½çœ‹åˆ°çš„æµ·æŠ¥çš„æ•°ç›®ã€‚å®Œæˆç¦»æ•£åŒ–åï¼Œé€šè¿‡lower_bound()æŸ¥è¯¢å·¦å³ç«¯ç‚¹å¯¹åº”çš„idã€‚</p>
<p>å‚è€ƒä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> debug printf(<span class="meta-string">"debug\n"</span>)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson lef,mid,rt&lt;&lt;1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid+1,rig,rt&lt;&lt;1|1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">10005</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">10000</span>+<span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span> lazy[maxn&lt;&lt;<span class="number">3</span>];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> lef;</span><br><span class="line">    <span class="keyword">int</span> rig;</span><br><span class="line">&#125;;</span><br><span class="line">node ps[<span class="number">20000</span>+<span class="number">5</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lazy[rt]!=<span class="number">0</span>)&#123;</span><br><span class="line">        lazy[rt&lt;&lt;<span class="number">1</span>]=lazy[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=lazy[rt];</span><br><span class="line">        lazy[rt]=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> toL,<span class="keyword">int</span> toR,<span class="keyword">int</span> todo,<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=lef&amp;&amp;toR&gt;=rig)&#123;</span><br><span class="line">        lazy[rt]=todo;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(toL&lt;=mid)</span><br><span class="line">        update(toL,toR,todo,lson);</span><br><span class="line">    <span class="keyword">if</span>(toR&gt;mid)</span><br><span class="line">        update(toL,toR,todo,rson);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> lef,<span class="keyword">int</span> rig,<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lazy[rt])&#123;</span><br><span class="line">        <span class="keyword">if</span>(!vis[lazy[rt]])&#123;</span><br><span class="line">            ans++;</span><br><span class="line">            vis[lazy[rt]]=<span class="number">1</span>;    </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(lef==rig)</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid=lef+(rig-lef)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(lef&lt;=mid)</span><br><span class="line">        query(lson);</span><br><span class="line">    <span class="keyword">if</span>(rig&gt;mid)</span><br><span class="line">        query(rson);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> lsh[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="keyword">int</span> idx=<span class="number">0</span>;</span><br><span class="line">        mst(lsh,<span class="number">0</span>);</span><br><span class="line">        mst(lazy,<span class="number">0</span>);mst(vis,<span class="number">0</span>);</span><br><span class="line">        ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> n;<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;ps[i].lef,&amp;ps[i].rig);</span><br><span class="line">            lsh[idx++]=ps[i].lef;lsh[idx++]=ps[i].rig;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(lsh,lsh+idx);</span><br><span class="line">        <span class="keyword">int</span> cnt=unique(lsh,lsh+idx)-lsh;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> L=lower_bound(lsh,lsh+cnt,ps[i].lef)-lsh+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> R=lower_bound(lsh,lsh+cnt,ps[i].rig)-lsh+<span class="number">1</span>;</span><br><span class="line">            update(L,R,i+<span class="number">1</span>,<span class="number">1</span>,cnt+<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        query(<span class="number">1</span>,cnt+<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ‹“å±•"><a href="#æ‹“å±•" class="headerlink" title="æ‹“å±•"></a>æ‹“å±•</h3><p>æ‹“å±•å†…å®¹åŒ…æ‹¬ï¼š</p>
<ul>
<li><p>åŒºé—´é™¤ã€ç»´æŠ¤åŒºé—´å¹³æ–¹å’Œã€ç»´æŠ¤åŒºé—´ç«‹æ–¹å’Œã€åŒºé—´ä½è¿ç®—â€¦</p>
</li>
<li><p>æ‰«æçº¿</p>
</li>
<li>æƒå€¼çº¿æ®µæ ‘</li>
<li>ä¸»å¸­æ ‘</li>
<li>etcâ€¦</li>
</ul>
<h2 id="æ ‘çŠ¶æ•°ç»„"><a href="#æ ‘çŠ¶æ•°ç»„" class="headerlink" title="æ ‘çŠ¶æ•°ç»„"></a>æ ‘çŠ¶æ•°ç»„</h2><h3 id="å¼•å…¥-1"><a href="#å¼•å…¥-1" class="headerlink" title="å¼•å…¥"></a>å¼•å…¥</h3><p>æ‰€è°“æ ‘çŠ¶æ•°ç»„ï¼Œå°±æ˜¯ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿæ ‘å½¢ç»“æ„ï¼Œå¸¸ç”¨äºè§£å†³ä¸€äº›åŒºé—´é—®é¢˜ï¼ˆåŒºé—´åŠ ã€åŒºé—´æ±‚å’Œç­‰ï¼‰ã€‚ç›¸è¾ƒäºçº¿æ®µæ ‘ï¼Œå…¶ä¼˜ç‚¹åœ¨äºå¸¸æ•°æ›´å°ï¼Œä¸”ä»£ç æ›´çŸ­ã€‚ç¼ºç‚¹åœ¨äºåŠŸèƒ½æ¯”è¾ƒæœ‰é™ï¼Œå¯¹äºä¸€äº›å¤æ‚çš„åŒºé—´é—®é¢˜å¾ˆéš¾è§£å†³ï¼Œç”šè‡³æ˜¯æ— æ³•è§£å†³ã€‚å¯ä»¥è¯´ï¼Œèƒ½ç”¨æ ‘çŠ¶æ•°ç»„è§£å†³çš„é—®é¢˜éƒ½èƒ½ç”¨çº¿æ®µæ ‘è§£å†³ï¼Œä½†èƒ½ç”¨çº¿æ®µæ ‘è§£å†³çš„é—®é¢˜ä¸ä¸€å®šèƒ½ç”¨æ ‘çŠ¶æ•°ç»„è§£å†³ã€‚</p>
<h3 id="è¾…åŠ©æ•°ç»„cä¸lowbit"><a href="#è¾…åŠ©æ•°ç»„cä¸lowbit" class="headerlink" title="è¾…åŠ©æ•°ç»„cä¸lowbit"></a>è¾…åŠ©æ•°ç»„cä¸lowbit</h3><p>é¦–å…ˆï¼Œå®šä¹‰ä¸€ä¸ªåºåˆ—$a_n$ï¼Œå…¶é•¿åº¦ä¸º$n(1\leq n\leq1e6)$ï¼Œå¯è¿›è¡Œ$m(1\leq m \leq 1e3)$æ¬¡æ“ä½œï¼Œæ¯æ¬¡æ“ä½œè¦ä¹ˆæ˜¯å¯¹ä¸€ä¸ªæ•°åŠ ä¸Šä¸€ä¸ªæ•°å€¼ï¼ˆå•ç‚¹ä¿®æ”¹ï¼‰ï¼Œè¦ä¹ˆæ˜¯æŸ¥è¯¢ä¸€æ®µåŒºé—´å†…çš„æ€»å’Œï¼ˆåŒºé—´æŸ¥è¯¢ï¼‰ã€‚</p>
<p>è¿™ä¸€é—®é¢˜å½“ç„¶å¯ä»¥ç”¨ä¸Šé¢æ‰€è¯´çš„çº¿æ®µæ ‘æ¥è§£å†³ï¼Œä½†ç°åœ¨æˆ‘ä»¬å¼•å…¥æ ‘çŠ¶æ•°ç»„ã€‚</p>
<p>é¦–å…ˆå®šä¹‰å‡½æ•°$lowbit(x)$ï¼Œæœ‰</p>
<script type="math/tex; mode=display">
lowbit(x)=x\&(-x)</script><p>$lowbit(x)$çš„å…·ä½“å«ä¹‰åœ¨äºï¼Œæ±‚å‡º<script type="math/tex">x</script>æœ€ä½ä½1æ‰€å¯¹åº”çš„å€¼ã€‚æ¯”æ–¹è¯´ï¼Œ<script type="math/tex">lowbit(10100_2)=100_2=4_{10}</script>ï¼Œ<script type="math/tex">lowbit(10001111_2)=1_2=1_{10}</script>ï¼Œ<script type="math/tex">lowbit(100010_2)=10_2=2_{10}</script></p>
<p>å†å®šä¹‰ä¸€ä¸ªè¾…åŠ©æ•°ç»„$c_i$ï¼Œæœ‰</p>
<script type="math/tex; mode=display">
c_i=a_{i}+a_{i-1}+\dots+a_{i-lowbit(i)+1}</script><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œc[i]è¡¨ç¤ºçš„æ˜¯, ä»a[i]å¼€å§‹ï¼Œä¸€ç›´åˆ° a[i-lowbit(i)+1] è¿™ä¸€é•¿åº¦ä¸ºlowbit(i) çš„è¿ç»­åŒºé—´çš„æ€»å’Œã€‚å¦‚ä¸‹å›¾</p>
<p><img src="https://pic.downk.cc/item/5e3adb222fb38b8c3cced2a6.png" alt></p>
<p>æ„å»ºå‡ºæ¥çš„æ ‘çŠ¶æ•°ç»„å¤§è‡´é•¿ä¸‹é¢è¿™ä¸ªæ ·å­</p>
<p><img src="https://pic.downk.cc/item/5e3adb452fb38b8c3cced59d.jpg" alt></p>
<h3 id="ä¿®æ”¹ä¸æŸ¥è¯¢"><a href="#ä¿®æ”¹ä¸æŸ¥è¯¢" class="headerlink" title="ä¿®æ”¹ä¸æŸ¥è¯¢"></a>ä¿®æ”¹ä¸æŸ¥è¯¢</h3><p>æ­¤å¤„åªè€ƒè™‘å•ç‚¹ä¿®æ”¹å’ŒåŒºé—´æŸ¥è¯¢ã€‚</p>
<ul>
<li><p>å•ç‚¹ä¿®æ”¹ï¼šå½“æˆ‘ä»¬è¦ä¿®æ”¹<script type="math/tex">a_j</script>çš„æ—¶å€™ï¼Œå› ä¸ºæœ‰<script type="math/tex">c_i=a_i+a_{i-1}+\dots+a_{i-lowbit(i)+1}</script>ï¼Œæ‰€ä»¥ä¿®æ”¹ä¸€ä¸ªæ•°å¯èƒ½ä¼šå¯¼è‡´å¤šä¸ª<script type="math/tex">c_i</script>çš„æ”¹å˜ã€‚æ‰€ä»¥æˆ‘ä»¬è¿™ä¹ˆç¼–å†™å•ç‚¹ä¿®æ”¹çš„ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;=n)&#123;</span><br><span class="line">        c[i]+=val;</span><br><span class="line">        i+=lowbit(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯¹äºåŒºé—´æŸ¥è¯¢ï¼Œ$c_i$çš„å®šä¹‰è®©æˆ‘ä»¬æƒ³åˆ°ï¼Œæ˜¯å¦å¯ä»¥é€šè¿‡æ±‚å‰ç¼€å’Œçš„æ–¹æ³•æ±‚åŒºé—´å’Œã€‚å› æ­¤ï¼ŒæŸ¥è¯¢çš„ä»£ç å¯ä»¥è¿™æ ·ç¼–å†™ï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        ans+=c[i];</span><br><span class="line">        i-=lowbit(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>é€šè¿‡è§‚å¯Ÿä¿®æ”¹ã€æŸ¥è¯¢çš„ä»£ç ï¼Œä»¥åŠæ ‘çŠ¶æ•°ç»„çš„ç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæ ‘çŠ¶æ•°ç»„å…¶å®å·§ç”¨äºŒè¿›åˆ¶æ¥å¯¹æ•´ä¸ªåºåˆ—è¿›è¡Œåˆ†æ®µã€‚ä»¥ä¸€ä¸ªé•¿åº¦ä¸º7çš„åºåˆ—ä¸ºä¾‹ï¼Œæœ‰</p>
<script type="math/tex; mode=display">
\begin{aligned}
lowbit(1)&=1,c_1=a_1;\\
lowbit(2)&=2,c_2=a_2+a_1;\\
lowbit(3)&=1,c_2=a_3;\\
lowbit(4)&=4,c_4=a_4+a_3+a_2+a_1;\\
lowbit(5)&=1,c_5=a_5;\\
lowbit(6)&=2,c_6=a_6+a_5;\\
lowbit(7)&=1,c_7=a_7;
\end{aligned}</script><p>æˆ‘ä»¬æŠŠè¿™äº›æ•°æ®å¥—åˆ°query()ä»£ç ä¸­ï¼Œå¯ä»¥å‘ç°ï¼ŒåŠ ä¸Šçš„$c[i]$åˆ†åˆ«æ˜¯$c[7],c[6],c[4]$ï¼Œä¹Ÿå°±æ˜¯$a[7],a[6]+a[5],a[4]+a[3]+a[2]+a[1]$è¿™ä¸‰æ®µã€‚</p>
]]></content>
      <categories>
        <category>ACM</category>
        <category>æ•°æ®ç»“æ„</category>
        <category>çº¿æ®µæ ‘</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>çº¿æ®µæ ‘</tag>
        <tag>æ ‘çŠ¶æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºç³»ç»Ÿä¸‰ï¼ˆäºŒï¼‰â€”â€”æŒ‡ä»¤</title>
    <url>/2020/10/23/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E4%B8%89%EF%BC%88%E4%BA%8C%EF%BC%89%E2%80%94%E2%80%94%E6%8C%87%E4%BB%A4/</url>
    <content><![CDATA[<p><img src="https://pic.downk.cc/item/5f928ffc1cd1bbb86bf44e2f.jpg" alt></p>
<h4 id="MIPSå¯„å­˜å™¨"><a href="#MIPSå¯„å­˜å™¨" class="headerlink" title="MIPSå¯„å­˜å™¨"></a>MIPSå¯„å­˜å™¨</h4><p><img src="https://pic.downk.cc/item/5f928fc01cd1bbb86bf44392.png" alt></p>
<h4 id="MIPSæŒ‡ä»¤è¡¨"><a href="#MIPSæŒ‡ä»¤è¡¨" class="headerlink" title="MIPSæŒ‡ä»¤è¡¨"></a>MIPSæŒ‡ä»¤è¡¨</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">æŒ‡ä»¤</th>
<th style="text-align:center">ç¤ºä¾‹</th>
<th style="text-align:center">å«ä¹‰</th>
<th style="text-align:center">æ³¨é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">åŠ æ³•</td>
<td style="text-align:center">add $s1,$s2,$s3</td>
<td style="text-align:center">$s1=$s2+$s3</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">å‡æ³•</td>
<td style="text-align:center">sub $s1,$s2,$s3</td>
<td style="text-align:center">$s1=$s2-$s3</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">ç«‹å³æ•°åŠ æ³•</td>
<td style="text-align:center">addi $s1,$s2,20</td>
<td style="text-align:center">$s1=$2+20</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">å–å­—</td>
<td style="text-align:center">lw $s1,20($s2)</td>
<td style="text-align:center">$s1=memory[$s2+20]</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">å­˜å­—</td>
<td style="text-align:center">sw $s1,20($s2)</td>
<td style="text-align:center">memory[$s2+20]=$s1</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">å–åŠå­—</td>
<td style="text-align:center">lh $s1,20($s2)</td>
<td style="text-align:center">memory[$s2+20]=$s1</td>
<td style="text-align:center">ä»åœ°å€20($s2)å¼€å§‹å–åŠå­—ï¼ˆ16biwordtsï¼‰ï¼ˆh==halfwordï¼‰</td>
</tr>
<tr>
<td style="text-align:center">å–æ— ç¬¦å·åŠå­—</td>
<td style="text-align:center">lhu $s1,20($s2)</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">å­˜åŠå­—</td>
<td style="text-align:center">sh $s1,20($s2)</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">å–å­—èŠ‚</td>
<td style="text-align:center">lb $s1,20($s2)</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">å–æ— ç¬¦å·å­—èŠ‚</td>
<td style="text-align:center">lbu $s1,20($s2)</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">å­˜å­—èŠ‚</td>
<td style="text-align:center">sb $s1,20($s2)</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">å–é“¾æ¥å­—</td>
<td style="text-align:center">ll $s1,20($s2)</td>
<td style="text-align:center"></td>
<td style="text-align:center">æ˜¯åŸå­äº¤æ¢çš„å‰åŠéƒ¨åˆ†</td>
</tr>
<tr>
<td style="text-align:center">å­˜æ¡ä»¶å­—</td>
<td style="text-align:center">sc $s1,20($s2)</td>
<td style="text-align:center"></td>
<td style="text-align:center">æ˜¯åŸå­äº¤æ¢çš„ååŠéƒ¨åˆ†</td>
</tr>
<tr>
<td style="text-align:center">å–ç«‹å³æ•°çš„æœ€é«˜ä½</td>
<td style="text-align:center">lui $s1,20</td>
<td style="text-align:center">$$s1=20*2^{16}$</td>
<td style="text-align:center">å–ç«‹å³æ•°å¹¶æ”¾åˆ°é«˜16ä½</td>
</tr>
<tr>
<td style="text-align:center">ä¸</td>
<td style="text-align:center">and $s1,$s2,$s3</td>
<td style="text-align:center">$s1=$s2 &amp; $s3</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">æˆ–</td>
<td style="text-align:center">or $s1,$s2,$s3</td>
<td style="text-align:center">$s1=$s2 \</td>
<td style="text-align:center">$s3</td>
<td></td>
</tr>
<tr>
<td style="text-align:center">æˆ–é</td>
<td style="text-align:center">or $s1,$s2,$s3</td>
<td style="text-align:center">$s1=~($s2 \</td>
<td style="text-align:center">$s3)</td>
<td></td>
</tr>
<tr>
<td style="text-align:center">ç«‹å³æ•°ä¸</td>
<td style="text-align:center">andi $s1,$s2,20</td>
<td style="text-align:center">$s1=$s2 &amp; 20</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">ç«‹å³æ•°æˆ–</td>
<td style="text-align:center">ori $s1,$s2,20</td>
<td style="text-align:center">$s1=$s2\</td>
<td style="text-align:center">20</td>
<td></td>
</tr>
<tr>
<td style="text-align:center">é€»è¾‘å·¦ç§»</td>
<td style="text-align:center">sll $s1,$s2,10</td>
<td style="text-align:center">$s1=$s2&lt;&lt;10</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">é€»è¾‘å³ç§»</td>
<td style="text-align:center">srl $s1,$s2,20</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">ç›¸ç­‰æ—¶è·³è½¬</td>
<td style="text-align:center">beq $s1,$s2,25</td>
<td style="text-align:center">if($s1==$s2) goto PC+4+100</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">ä¸ç›¸ç­‰æ—¶è·³è½¬</td>
<td style="text-align:center">bne $s1,$s2,25</td>
<td style="text-align:center">if($s1!=$2) goto PC+4+100</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">å°äºæ—¶ç½®ä½</td>
<td style="text-align:center">slt $s1,$s2,$s3</td>
<td style="text-align:center">if($s2&lt;$s3) $s1=1  else $s1=0</td>
<td style="text-align:center">æ¯”è¾ƒæ˜¯å¦å°äº</td>
</tr>
<tr>
<td style="text-align:center">æ— ç¬¦å·æ•°æ¯”è¾ƒå°äºæ—¶ç½®ä½</td>
<td style="text-align:center">sltu $s1,$s2,$s3</td>
<td style="text-align:center">if($s2&lt;$s3) $s1=1  else $s1=0</td>
<td style="text-align:center">æ¯”è¾ƒæ˜¯å¦å°äºæ— ç¬¦å·æ•°</td>
</tr>
<tr>
<td style="text-align:center">æ— ç¬¦å·æ•°æ¯”è¾ƒå°äºç«‹å³æ•°æ—¶ç½®ä½</td>
<td style="text-align:center">slti $s1,$s2,20</td>
<td style="text-align:center">if($s2&lt;20) $s1=1  else $s1=0</td>
<td style="text-align:center">æ¯”è¾ƒæ˜¯å¦å°äºå¸¸æ•°</td>
</tr>
<tr>
<td style="text-align:center">æ— ç¬¦å·æ•°æ¯”è¾ƒå°äºæ— ç¬¦å·æ•°æ—¶ç½®ä½</td>
<td style="text-align:center">sltiu $s1,$s2,20</td>
<td style="text-align:center">if($s2&lt;20) $s1=1  else $s1=0</td>
<td style="text-align:center">æ¯”è¾ƒæ˜¯å¦å°äºæ— ç¬¦å·å¸¸æ•°</td>
</tr>
<tr>
<td style="text-align:center">è·³è½¬</td>
<td style="text-align:center">j 2500</td>
<td style="text-align:center">goto 10000</td>
<td style="text-align:center">è·³è½¬åˆ°ç›®æ ‡åœ°å€</td>
</tr>
<tr>
<td style="text-align:center">è·³è½¬åˆ°å¯„å­˜å™¨æ‰€æŒ‡ä½ç½®</td>
<td style="text-align:center">jr $ra</td>
<td style="text-align:center">goto \ra$</td>
<td style="text-align:center">ç”¨äºswitchè¯­å¥ï¼Œä»¥åŠè¿‡ç¨‹è°ƒç”¨</td>
</tr>
<tr>
<td style="text-align:center">è·³è½¬å¹¶é“¾æ¥</td>
<td style="text-align:center">jal 2500</td>
<td style="text-align:center">$ra=PC+4; goto 10000</td>
<td style="text-align:center">ç”¨äºè¿‡ç¨‹è°ƒç”¨</td>
</tr>
</tbody>
</table>
</div>
<p><strong>MIPS32æŒ‡ä»¤é›†æ–‡æ¡£ï¼š<a href="https://s3-eu-west-1.amazonaws.com/downloads-mips/documents/MD00086-2B-MIPS32BIS-AFP-6.06.pdf" rel="external nofollow noopener noreferrer" target="_blank">https://s3-eu-west-1.amazonaws.com/downloads-mips/documents/MD00086-2B-MIPS32BIS-AFP-6.06.pdf</a></strong></p>
<h4 id="ä¸‰ç§æŒ‡ä»¤æ ¼å¼"><a href="#ä¸‰ç§æŒ‡ä»¤æ ¼å¼" class="headerlink" title="ä¸‰ç§æŒ‡ä»¤æ ¼å¼"></a>ä¸‰ç§æŒ‡ä»¤æ ¼å¼</h4><ul>
<li><p>R-å‹</p>
<p>|  op   |  rs   |  rt   |  rd   | shamt | funct |<br>| :â€”-: | :â€”-: | :â€”-: | :â€”-: | :â€”-: | :â€”-: |<br>| 6bits | 5bits | 5bits | 5bits | 5bits | 6bits |</p>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li>opï¼šæ“ä½œç </li>
<li>rsï¼šç¬¬ä¸€ä¸ªæºå¯„å­˜å™¨ç¼–å·</li>
<li>rtï¼šç¬¬äºŒä¸ªæºå¯„å­˜å™¨ç¼–å·</li>
<li>rdï¼šdestinationç›®çš„å¯„å­˜å™¨ç¼–å·</li>
<li>shamtï¼šç§»ä½ä½æ•°ï¼ˆ00000è¡¨ç¤ºä¸ç§»ä½ï¼‰ï¼Œä»…åœ¨ä½ç§»æŒ‡ä»¤ä¸­ä½¿ç”¨</li>
<li>functï¼šåŠŸèƒ½ç ï¼Œç”¨äºé€‰æ‹©opæ“ä½œä¸­çš„å…·ä½“å‡½æ•°ï¼Œå¦‚è¿ç®—æ“ä½œä¸­çš„åŠ æ³•å‡½æ•°</li>
<li>R-å‹æŒ‡ä»¤åŒ…æ‹¬ï¼šadd,sub,and,or,nor,slt,sltu,sll,srl,jr</li>
</ul>
</li>
<li><p>I-å‹æŒ‡ä»¤</p>
<p>|  op   |  rs   |  rt   | constant or address |<br>| :â€”-: | :â€”-: | :â€”-: | :â€”â€”â€”â€”â€”â€”â€”â€”-: |<br>| 6bits | 5bits | 5bits |       16bits        |</p>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li>opï¼šæ“ä½œç </li>
<li>rsï¼šç¬¬ä¸€ä¸ªæºæ“ä½œæ•°å¯„å­˜å™¨å·ï¼Œå‚ä¸è¿ç®—ä½¿ç”¨</li>
<li>rtï¼šç¬¬äºŒä¸ªæºæ“ä½œæ•°å¯„å­˜å™¨å·ï¼Œå‚ä¸è¿ç®—ä½¿ç”¨</li>
<li>16ä½ç«‹å³æ•°</li>
<li>I-å‹æŒ‡ä»¤åŒ…æ‹¬ï¼šaddi,lw,sw,lh,sh,lb,sb,ll,sc,lui,andi,ori,beq,bne,slti,sltiu</li>
</ul>
</li>
<li><p>J-å‹æŒ‡ä»¤</p>
<p>|  op   | address |<br>| :â€”-: | :â€”â€”-: |<br>| 6bits | 26bits  |</p>
<ul>
<li>ç›®æ ‡åœ°å€è®¡ç®—æ–¹æ³•ï¼šdst=PC+4+address&lt;&lt;2ï¼ˆä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€æ—¶å½“å‰PCåŠ ä¸Š4åï¼Œå–æœ€é«˜çš„å››ä½ï¼Œå†åŠ ä¸ŠJå‹æŒ‡ä»¤ç¼–ç ä¸­çš„26ä½å·¦ç§»2ä½ï¼ˆÃ—4ï¼‰çš„ç»“æœï¼‰</li>
<li>J-å‹æŒ‡ä»¤æœ‰ï¼šj, jr, jal</li>
</ul>
</li>
<li><p>MIPSä¸­çš„åŒæ­¥</p>
<ul>
<li><p>èƒŒæ™¯ï¼šå¤„ç†å™¨å…±äº«å­˜å‚¨å™¨åŒä¸€åŒºåŸŸï¼ŒP1å†™ï¼ŒP2è¯»ã€‚P1å†™çš„ç»“æœæ˜¯P2è¦è¯»çš„å€¼ï¼Œå¦‚æœP1å’ŒP2ä¸åŒæ­¥ï¼Œå°†ä¼šå‘ç”Ÿæ•°æ®ç«äº‰</p>
</li>
<li><p>è§£å†³æ–¹æ³•ï¼šä¾èµ–ç¡¬ä»¶æä¾›åŒæ­¥æŒ‡ä»¤ï¼Œå³åŸå­è¯»/å†™å†…å­˜æ“ä½œ</p>
</li>
<li><p>MIPSä¸­é llå’Œscè¿™ä¸¤ä¸ªæŒ‡ä»¤å®ç°åŒæ­¥</p>
<blockquote>
<p>LL æŒ‡ä»¤çš„åŠŸèƒ½æ˜¯ä»å†…å­˜ä¸­è¯»å–ä¸€ä¸ªå­—ï¼Œä»¥å®ç°æ¥ä¸‹æ¥çš„ RMWï¼ˆRead-Modify-Writeï¼‰ æ“ä½œï¼›SC æŒ‡ä»¤çš„åŠŸèƒ½æ˜¯å‘å†…å­˜ä¸­å†™å…¥ä¸€ä¸ªå­—ï¼Œä»¥å®Œæˆå‰é¢çš„ RMW æ“ä½œã€‚LL/SC æŒ‡ä»¤çš„ç‹¬ç‰¹ä¹‹å¤„åœ¨äºï¼Œå®ƒä»¬ä¸æ˜¯ä¸€ä¸ªç®€å•çš„å†…å­˜è¯»å–/å†™å…¥çš„å‡½æ•°ï¼Œå½“ä½¿ç”¨ LL æŒ‡ä»¤ä»å†…å­˜ä¸­è¯»å–ä¸€ä¸ªå­—ä¹‹åï¼Œæ¯”å¦‚ LL d, off(b)ï¼Œå¤„ç†å™¨ä¼šè®°ä½ LL æŒ‡ä»¤çš„è¿™æ¬¡æ“ä½œï¼ˆä¼šåœ¨ CPU çš„å¯„å­˜å™¨ä¸­è®¾ç½®ä¸€ä¸ªä¸å¯è§çš„ bit ä½ï¼‰ï¼ŒåŒæ—¶ LL æŒ‡ä»¤è¯»å–çš„åœ°å€ off(b) ä¹Ÿä¼šä¿å­˜åœ¨å¤„ç†å™¨çš„å¯„å­˜å™¨ä¸­ã€‚æ¥ä¸‹æ¥çš„ SC æŒ‡ä»¤ï¼Œæ¯”å¦‚ SC t, off(b)ï¼Œä¼šæ£€æŸ¥ä¸Šæ¬¡ LL æŒ‡ä»¤æ‰§è¡Œåçš„ RMW æ“ä½œæ˜¯å¦æ˜¯åŸå­æ“ä½œï¼ˆå³ä¸å­˜åœ¨å…¶å®ƒå¯¹è¿™ä¸ªåœ°å€çš„æ“ä½œï¼‰ï¼Œå¦‚æœæ˜¯åŸå­æ“ä½œï¼Œåˆ™ t çš„å€¼å°†ä¼šè¢«æ›´æ–°è‡³å†…å­˜ä¸­ï¼ŒåŒæ—¶ t çš„å€¼ä¹Ÿä¼šå˜ä¸º1ï¼Œè¡¨ç¤ºæ“ä½œæˆåŠŸï¼›åä¹‹ï¼Œå¦‚æœ RMW çš„æ“ä½œä¸æ˜¯åŸå­æ“ä½œï¼ˆå³å­˜åœ¨å…¶å®ƒå¯¹è¿™ä¸ªåœ°å€çš„è®¿é—®å†²çªï¼‰ï¼Œåˆ™ t çš„å€¼ä¸ä¼šè¢«æ›´æ–°è‡³å†…å­˜ä¸­ï¼Œä¸” t çš„å€¼ä¹Ÿä¼šå˜ä¸º0ï¼Œè¡¨ç¤ºæ“ä½œå¤±è´¥ã€‚</p>
</blockquote>
</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>è®¡ç®—æœºç³»ç»Ÿä¸‰</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç³»ç»Ÿä¸‰</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºç³»ç»Ÿä¸‰ï¼ˆä¸€ï¼‰â€”â€”è®¡ç®—æœºæ¦‚è¦ä¸æŠ€æœ¯</title>
    <url>/2020/10/23/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E4%B8%89%EF%BC%88%E4%B8%80%EF%BC%89%E2%80%94%E2%80%94%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%A6%82%E8%A6%81%E4%B8%8E%E6%8A%80%E6%9C%AF/</url>
    <content><![CDATA[<p><img src="https://pic.downk.cc/item/5f924bd31cd1bbb86be6ec2b.jpg" alt><br><a id="more"></a></p>
<h4 id="å…«ä¸ªä¼Ÿå¤§æ€æƒ³"><a href="#å…«ä¸ªä¼Ÿå¤§æ€æƒ³" class="headerlink" title="å…«ä¸ªä¼Ÿå¤§æ€æƒ³"></a>å…«ä¸ªä¼Ÿå¤§æ€æƒ³</h4><ul>
<li>é¢å‘æ‘©å°”å®šå¾‹çš„è®¾è®¡</li>
<li>ä½¿ç”¨æŠ½è±¡ç®€åŒ–è®¾è®¡</li>
<li>åŠ é€Ÿå¤§æ¦‚ç‡æ—¶é—´</li>
<li>é€šè¿‡å¹¶è¡Œæé«˜æ€§èƒ½</li>
<li>é€šè¿‡æµæ°´çº¿æé«˜æ€§èƒ½</li>
<li>å­˜å‚¨å™¨å±‚æ¬¡</li>
<li>é€šè¿‡å†—ä½™æé«˜å¯é æ€§</li>
</ul>
<h4 id="é›†æˆç”µè·¯çš„æˆæœ¬"><a href="#é›†æˆç”µè·¯çš„æˆæœ¬" class="headerlink" title="é›†æˆç”µè·¯çš„æˆæœ¬"></a>é›†æˆç”µè·¯çš„æˆæœ¬</h4><ul>
<li>$æ¯èŠ¯ç‰‡çš„ä»·æ ¼=æ¯æ™¶åœ†çš„ä»·æ ¼/(æ¯æ™¶åœ†çš„èŠ¯ç‰‡æ•°\times æˆå“ç‡)$</li>
<li>$æ¯æ™¶åœ†çš„èŠ¯ç‰‡æ•°\approx æ™¶åœ†é¢ç§¯/èŠ¯ç‰‡é¢ç§¯$</li>
<li>$æˆå“ç‡=1/(1+(å•ä½é¢ç§¯çš„ç‘•ç–µæ•°\timesèŠ¯ç‰‡é¢ç§¯/2))^2$ï¼ˆç»éªŒå…¬å¼ï¼‰</li>
<li>èŠ¯ç‰‡é¢ç§¯ä¸ç¼ºé™·ç‡éçº¿æ€§ç›¸å…³<ul>
<li>æ™¶åœ†æˆæœ¬å’Œé¢ç§¯æ˜¯å›ºå®šçš„</li>
<li>ç¼ºé™·ç‡å–å†³äºåˆ¶é€ è¿‡ç¨‹</li>
<li>èŠ¯ç‰‡é¢ç§¯å–å†³äºç»“æ„å’Œç”µè·¯è®¾è®¡</li>
</ul>
</li>
</ul>
<h4 id="å“åº”æ—¶é—´å’Œååé‡"><a href="#å“åº”æ—¶é—´å’Œååé‡" class="headerlink" title="å“åº”æ—¶é—´å’Œååé‡"></a>å“åº”æ—¶é—´å’Œååé‡</h4><ul>
<li><p>å“åº”æ—¶é—´ï¼ˆä¹Ÿå«æ‰§è¡Œæ—¶é—´ï¼‰</p>
<p>è®¡ç®—æœºå®ŒæˆæŸä»»åŠ¡æ‰€éœ€çš„æ€»æ—¶é—´</p>
</li>
<li><p>ååé‡ï¼ˆä¹Ÿå«å¸¦å®½ï¼‰</p>
<p>å•ä½æ—¶é—´æ®µå†…å®Œæˆçš„ä»»åŠ¡æ•°</p>
</li>
</ul>
<h4 id="æ—¶é’Ÿå‘¨æœŸã€æ—¶é’Ÿé¢‘ç‡ä¸CPIï¼ˆè®¡ç®—é¢˜ï¼‰"><a href="#æ—¶é’Ÿå‘¨æœŸã€æ—¶é’Ÿé¢‘ç‡ä¸CPIï¼ˆè®¡ç®—é¢˜ï¼‰" class="headerlink" title="æ—¶é’Ÿå‘¨æœŸã€æ—¶é’Ÿé¢‘ç‡ä¸CPIï¼ˆè®¡ç®—é¢˜ï¼‰"></a>æ—¶é’Ÿå‘¨æœŸã€æ—¶é’Ÿé¢‘ç‡ä¸CPIï¼ˆè®¡ç®—é¢˜ï¼‰</h4><ul>
<li><p>æ—¶é’Ÿå‘¨æœŸï¼šä»ä¸€ä¸ªä¸Šå‡æ²¿åˆ°ä¸‹ä¸€ä¸ªä¸Šå‡æ²¿çš„æ—¶é—´</p>
</li>
<li><p>æ—¶é’Ÿé¢‘ç‡=1/æ—¶é’Ÿå‘¨æœŸ</p>
</li>
<li><p>å¯¹äºæ—¶é’Ÿé¢‘ç‡ï¼Œ1nsçš„æ—¶é’Ÿå‘¨æœŸå¯¹åº”1GHzçš„æ—¶é’Ÿé¢‘ç‡ï¼Œæ‰€ä»¥0.25nsçš„æ—¶é’Ÿå‘¨æœŸå¯¹åº”4GHzçš„æ—¶é’Ÿé¢‘ç‡</p>
</li>
<li><p>CPUæ—¶é—´=CPUæ—¶é’Ÿå‘¨æœŸæ•°Ã—æ—¶é’Ÿå‘¨æœŸ=CPUæ—¶é’Ÿå‘¨æœŸæ•°Ã—1/æ—¶é’Ÿé¢‘ç‡</p>
</li>
<li><p>CPIï¼šclocks per instructionï¼Œæ¯æ¡æŒ‡ä»¤å ç”¨çš„å¹³å‡æ—¶é’Ÿå‘¨æœŸæ•°</p>
</li>
<li><p>å¦‚æœæœ‰nç§ä¸åŒç±»å‹æŒ‡ä»¤ï¼Œåˆ™</p>
<p>æ€»cpuæ—¶é’Ÿå‘¨æœŸæ•°=$\sum_{i=1}^n(CPI_i\times C_i)$</p>
<p>åŠ æƒå¹³å‡CPIï¼šCPU=$æ€»CPUæ—¶é’Ÿå‘¨æœŸæ•°/æŒ‡ä»¤æ•°=\sum_{i=1}^n(CPI_i\times\frac{C_i}{æŒ‡ä»¤æ•°})$</p>
</li>
<li><p>èƒ½è€—æ­£æ¯”äºï¼š$1/2\timesè´Ÿè½½ç”µå®¹\timesç”µå‹^2$</p>
</li>
</ul>
]]></content>
      <categories>
        <category>è®¡ç®—æœºç³»ç»Ÿä¸‰</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç³»ç»Ÿä¸‰</tag>
      </tags>
  </entry>
</search>
